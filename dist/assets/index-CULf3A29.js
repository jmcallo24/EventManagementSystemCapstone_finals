var Gp=e=>{throw TypeError(e)};var lu=(e,t,r)=>t.has(e)||Gp("Cannot "+r);var B=(e,t,r)=>(lu(e,t,"read from private field"),r?r.call(e):t.get(e)),Ie=(e,t,r)=>t.has(e)?Gp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xe=(e,t,r,n)=>(lu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),St=(e,t,r)=>(lu(e,t,"access private method"),r);var kl=(e,t,r,n)=>({set _(a){xe(e,t,a,r)},get _(){return B(e,t,n)}});function HN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Yv={exports:{}},md={},Kv={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),YN=Symbol.for("react.portal"),KN=Symbol.for("react.fragment"),QN=Symbol.for("react.strict_mode"),JN=Symbol.for("react.profiler"),XN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),e_=Symbol.for("react.forward_ref"),t_=Symbol.for("react.suspense"),r_=Symbol.for("react.memo"),n_=Symbol.for("react.lazy"),Yp=Symbol.iterator;function s_(e){return e===null||typeof e!="object"?null:(e=Yp&&e[Yp]||e["@@iterator"],typeof e=="function"?e:null)}var Qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jv=Object.assign,Xv={};function Ai(e,t,r){this.props=e,this.context=t,this.refs=Xv,this.updater=r||Qv}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zv(){}Zv.prototype=Ai.prototype;function Kh(e,t,r){this.props=e,this.context=t,this.refs=Xv,this.updater=r||Qv}var Qh=Kh.prototype=new Zv;Qh.constructor=Kh;Jv(Qh,Ai.prototype);Qh.isPureReactComponent=!0;var Kp=Array.isArray,e0=Object.prototype.hasOwnProperty,Jh={current:null},t0={key:!0,ref:!0,__self:!0,__source:!0};function r0(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)e0.call(t,n)&&!t0.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ol,type:e,key:i,ref:o,props:a,_owner:Jh.current}}function a_(e,t){return{$$typeof:ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ol}function i_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qp=/\/+/g;function cu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i_(""+e.key):t.toString(36)}function sc(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ol:case YN:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+cu(o,0):n,Kp(a)?(r="",e!=null&&(r=e.replace(Qp,"$&/")+"/"),sc(a,t,r,"",function(d){return d})):a!=null&&(Xh(a)&&(a=a_(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Qp,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Kp(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+cu(i,l);o+=sc(i,t,r,c,a)}else if(c=s_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+cu(i,l++),o+=sc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pl(e,t,r){if(e==null)return e;var n=[],a=0;return sc(e,n,"","",function(i){return t.call(r,i,a++)}),n}function o_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},ac={transition:null},l_={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:ac,ReactCurrentOwner:Jh};function n0(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Pl,forEach:function(e,t,r){Pl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Pl(e,function(){t++}),t},toArray:function(e){return Pl(e,function(t){return t})||[]},only:function(e){if(!Xh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=Ai;ke.Fragment=KN;ke.Profiler=JN;ke.PureComponent=Kh;ke.StrictMode=QN;ke.Suspense=t_;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;ke.act=n0;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jv({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Jh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)e0.call(t,c)&&!t0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:ol,type:e.type,key:a,ref:i,props:n,_owner:o}};ke.createContext=function(e){return e={$$typeof:ZN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XN,_context:e},e.Consumer=e};ke.createElement=r0;ke.createFactory=function(e){var t=r0.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:e_,render:e}};ke.isValidElement=Xh;ke.lazy=function(e){return{$$typeof:n_,_payload:{_status:-1,_result:e},_init:o_}};ke.memo=function(e,t){return{$$typeof:r_,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=ac.transition;ac.transition={};try{e()}finally{ac.transition=t}};ke.unstable_act=n0;ke.useCallback=function(e,t){return Bt.current.useCallback(e,t)};ke.useContext=function(e){return Bt.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};ke.useEffect=function(e,t){return Bt.current.useEffect(e,t)};ke.useId=function(){return Bt.current.useId()};ke.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return Bt.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};ke.useRef=function(e){return Bt.current.useRef(e)};ke.useState=function(e){return Bt.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return Bt.current.useTransition()};ke.version="18.3.1";Kv.exports=ke;var h=Kv.exports;const Q=Gv(h),Zh=HN({__proto__:null,default:Q},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_=h,d_=Symbol.for("react.element"),u_=Symbol.for("react.fragment"),f_=Object.prototype.hasOwnProperty,h_=c_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m_={key:!0,ref:!0,__self:!0,__source:!0};function s0(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)f_.call(t,n)&&!m_.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:d_,type:e,key:i,ref:o,props:a,_owner:h_.current}}md.Fragment=u_;md.jsx=s0;md.jsxs=s0;Yv.exports=md;var s=Yv.exports,a0={exports:{}},ur={},i0={exports:{}},o0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var U=E.length;E.push(A);e:for(;0<U;){var X=U-1>>>1,te=E[X];if(0<a(te,A))E[X]=A,E[U]=te,U=X;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var A=E[0],U=E.pop();if(U!==A){E[0]=U;e:for(var X=0,te=E.length,se=te>>>1;X<se;){var de=2*(X+1)-1,Re=E[de],me=de+1,K=E[me];if(0>a(Re,U))me<te&&0>a(K,Re)?(E[X]=K,E[me]=U,X=me):(E[X]=Re,E[de]=U,X=de);else if(me<te&&0>a(K,U))E[X]=K,E[me]=U,X=me;else break e}}return A}function a(E,A){var U=E.sortIndex-A.sortIndex;return U!==0?U:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,g=3,p=!1,b=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var A=r(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=E)n(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(d)}}function N(E){if(v=!1,w(E),!b)if(r(c)!==null)b=!0,W(j);else{var A=r(d);A!==null&&O(N,A.startTime-E)}}function j(E,A){b=!1,v&&(v=!1,x(R),R=-1),p=!0;var U=g;try{for(w(A),f=r(c);f!==null&&(!(f.expirationTime>A)||E&&!D());){var X=f.callback;if(typeof X=="function"){f.callback=null,g=f.priorityLevel;var te=X(f.expirationTime<=A);A=e.unstable_now(),typeof te=="function"?f.callback=te:f===r(c)&&n(c),w(A)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var de=r(d);de!==null&&O(N,de.startTime-A),se=!1}return se}finally{f=null,g=U,p=!1}}var S=!1,_=null,R=-1,P=5,C=-1;function D(){return!(e.unstable_now()-C<P)}function M(){if(_!==null){var E=e.unstable_now();C=E;var A=!0;try{A=_(!0,E)}finally{A?q():(S=!1,_=null)}}else S=!1}var q;if(typeof y=="function")q=function(){y(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=M,q=function(){z.postMessage(null)}}else q=function(){m(M,0)};function W(E){_=E,S||(S=!0,q())}function O(E,A){R=m(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,W(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var U=g;g=A;try{return E()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var U=g;g=E;try{return A()}finally{g=U}},e.unstable_scheduleCallback=function(E,A,U){var X=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,E){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,E={id:u++,callback:A,priorityLevel:E,startTime:U,expirationTime:te,sortIndex:-1},U>X?(E.sortIndex=U,t(d,E),r(c)===null&&E===r(d)&&(v?(x(R),R=-1):v=!0,O(N,U-X))):(E.sortIndex=te,t(c,E),b||p||(b=!0,W(j))),E},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(E){var A=g;return function(){var U=g;g=A;try{return E.apply(this,arguments)}finally{g=U}}}})(o0);i0.exports=o0;var p_=i0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_=h,cr=p_;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l0=new Set,Po={};function ba(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(Po[e]=t,e=0;e<t.length;e++)l0.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=Object.prototype.hasOwnProperty,x_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jp={},Xp={};function v_(e){return pf.call(Xp,e)?!0:pf.call(Jp,e)?!1:x_.test(e)?Xp[e]=!0:(Jp[e]=!0,!1)}function y_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function w_(e,t,r,n){if(t===null||typeof t>"u"||y_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jt[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jt[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jt[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jt[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jt[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jt[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jt[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jt[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jt[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var em=/[\-:]([a-z])/g;function tm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(em,tm);jt[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(em,tm);jt[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(em,tm);jt[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});jt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function rm(e,t,r,n){var a=jt.hasOwnProperty(t)?jt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(w_(t,r,a,n)&&(r=null),n||a===null?v_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vn=g_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),gf=Symbol.for("react.profiler"),c0=Symbol.for("react.provider"),d0=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),vf=Symbol.for("react.suspense_list"),am=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),u0=Symbol.for("react.offscreen"),Zp=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=Zp&&e[Zp]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,du;function oo(e){if(du===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);du=t&&t[1]||""}return`
`+du+e}var uu=!1;function fu(e,t){if(!e||uu)return"";uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{uu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oo(e):""}function b_(e){switch(e.tag){case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return e=fu(e.type,!1),e;case 11:return e=fu(e.type.render,!1),e;case 1:return e=fu(e.type,!0),e;default:return""}}function yf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wa:return"Fragment";case Ba:return"Portal";case gf:return"Profiler";case nm:return"StrictMode";case xf:return"Suspense";case vf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d0:return(e.displayName||"Context")+".Consumer";case c0:return(e._context.displayName||"Context")+".Provider";case sm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case am:return t=e.displayName||null,t!==null?t:yf(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return yf(e(t))}catch{}}return null}function j_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(t);case 8:return t===nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N_(e){var t=f0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){e._valueTracker||(e._valueTracker=N_(e))}function h0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=f0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Nc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wf(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ps(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m0(e,t){t=t.checked,t!=null&&rm(e,"checked",t,!1)}function bf(e,t){m0(e,t);var r=Ps(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jf(e,t.type,r):t.hasOwnProperty("defaultValue")&&jf(e,t.type,Ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jf(e,t,r){(t!=="number"||Nc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lo=Array.isArray;function ei(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ps(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Nf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(lo(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ps(r)}}function p0(e,t){var r=Ps(t.value),n=Ps(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ng(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function g0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _f(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?g0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Al,x0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function To(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},__=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(e){__.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),po[t]=po[e]})});function v0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||po.hasOwnProperty(e)&&po[e]?(""+t).trim():t+"px"}function y0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=v0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var S_=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(e,t){if(t){if(S_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=null;function im(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kf=null,ti=null,ri=null;function sg(e){if(e=dl(e)){if(typeof kf!="function")throw Error(G(280));var t=e.stateNode;t&&(t=yd(t),kf(e.stateNode,e.type,t))}}function w0(e){ti?ri?ri.push(e):ri=[e]:ti=e}function b0(){if(ti){var e=ti,t=ri;if(ri=ti=null,sg(e),t)for(e=0;e<t.length;e++)sg(t[e])}}function j0(e,t){return e(t)}function N0(){}var hu=!1;function _0(e,t,r){if(hu)return e(t,r);hu=!0;try{return j0(e,t,r)}finally{hu=!1,(ti!==null||ri!==null)&&(N0(),b0())}}function Ro(e,t){var r=e.stateNode;if(r===null)return null;var n=yd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Pf=!1;if(Ln)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Pf=!1}function E_(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var go=!1,_c=null,Sc=!1,Tf=null,C_={onError:function(e){go=!0,_c=e}};function k_(e,t,r,n,a,i,o,l,c){go=!1,_c=null,E_.apply(C_,arguments)}function P_(e,t,r,n,a,i,o,l,c){if(k_.apply(this,arguments),go){if(go){var d=_c;go=!1,_c=null}else throw Error(G(198));Sc||(Sc=!0,Tf=d)}}function ja(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function S0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ag(e){if(ja(e)!==e)throw Error(G(188))}function T_(e){var t=e.alternate;if(!t){if(t=ja(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ag(a),e;if(i===n)return ag(a),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function E0(e){return e=T_(e),e!==null?C0(e):null}function C0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=C0(e);if(t!==null)return t;e=e.sibling}return null}var k0=cr.unstable_scheduleCallback,ig=cr.unstable_cancelCallback,R_=cr.unstable_shouldYield,A_=cr.unstable_requestPaint,at=cr.unstable_now,O_=cr.unstable_getCurrentPriorityLevel,om=cr.unstable_ImmediatePriority,P0=cr.unstable_UserBlockingPriority,Ec=cr.unstable_NormalPriority,D_=cr.unstable_LowPriority,T0=cr.unstable_IdlePriority,pd=null,gn=null;function M_(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(pd,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:L_,I_=Math.log,F_=Math.LN2;function L_(e){return e>>>=0,e===0?32:31-(I_(e)/F_|0)|0}var Ol=64,Dl=4194304;function co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=co(l):(i&=o,i!==0&&(n=co(i)))}else o=r&~a,o!==0?n=co(o):i!==0&&(n=co(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vr(t),a=1<<r,n|=e[r],t&=~a;return n}function $_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Vr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=$_(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Rf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function R0(){var e=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),e}function mu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ll(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=r}function z_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Vr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function lm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var $e=0;function A0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O0,cm,D0,M0,I0,Af=!1,Ml=[],ys=null,ws=null,bs=null,Ao=new Map,Oo=new Map,ls=[],B_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function og(e,t){switch(e){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function Yi(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=dl(t),t!==null&&cm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function W_(e,t,r,n,a){switch(t){case"focusin":return ys=Yi(ys,e,t,r,n,a),!0;case"dragenter":return ws=Yi(ws,e,t,r,n,a),!0;case"mouseover":return bs=Yi(bs,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ao.set(i,Yi(Ao.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Oo.set(i,Yi(Oo.get(i)||null,e,t,r,n,a)),!0}return!1}function F0(e){var t=Qs(e.target);if(t!==null){var r=ja(t);if(r!==null){if(t=r.tag,t===13){if(t=S0(r),t!==null){e.blockedOn=t,I0(e.priority,function(){D0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Of(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cf=n,r.target.dispatchEvent(n),Cf=null}else return t=dl(r),t!==null&&cm(t),e.blockedOn=r,!1;t.shift()}return!0}function lg(e,t,r){ic(e)&&r.delete(t)}function q_(){Af=!1,ys!==null&&ic(ys)&&(ys=null),ws!==null&&ic(ws)&&(ws=null),bs!==null&&ic(bs)&&(bs=null),Ao.forEach(lg),Oo.forEach(lg)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,Af||(Af=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,q_)))}function Do(e){function t(a){return Ki(a,e)}if(0<Ml.length){Ki(Ml[0],e);for(var r=1;r<Ml.length;r++){var n=Ml[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ys!==null&&Ki(ys,e),ws!==null&&Ki(ws,e),bs!==null&&Ki(bs,e),Ao.forEach(t),Oo.forEach(t),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)F0(r),r.blockedOn===null&&ls.shift()}var ni=Vn.ReactCurrentBatchConfig,kc=!0;function V_(e,t,r,n){var a=$e,i=ni.transition;ni.transition=null;try{$e=1,dm(e,t,r,n)}finally{$e=a,ni.transition=i}}function H_(e,t,r,n){var a=$e,i=ni.transition;ni.transition=null;try{$e=4,dm(e,t,r,n)}finally{$e=a,ni.transition=i}}function dm(e,t,r,n){if(kc){var a=Of(e,t,r,n);if(a===null)_u(e,t,n,Pc,r),og(e,n);else if(W_(a,e,t,r,n))n.stopPropagation();else if(og(e,n),t&4&&-1<B_.indexOf(e)){for(;a!==null;){var i=dl(a);if(i!==null&&O0(i),i=Of(e,t,r,n),i===null&&_u(e,t,n,Pc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else _u(e,t,n,null,r)}}var Pc=null;function Of(e,t,r,n){if(Pc=null,e=im(n),e=Qs(e),e!==null)if(t=ja(e),t===null)e=null;else if(r=t.tag,r===13){if(e=S0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pc=e,null}function L0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O_()){case om:return 1;case P0:return 4;case Ec:case D_:return 16;case T0:return 536870912;default:return 16}default:return 16}}var gs=null,um=null,oc=null;function $0(){if(oc)return oc;var e,t=um,r=t.length,n,a="value"in gs?gs.value:gs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return oc=a.slice(e,1<n?1-n:void 0)}function lc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function cg(){return!1}function fr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Il:cg,this.isPropagationStopped=cg,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fm=fr(Oi),cl=tt({},Oi,{view:0,detail:0}),G_=fr(cl),pu,gu,Qi,gd=tt({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(pu=e.screenX-Qi.screenX,gu=e.screenY-Qi.screenY):gu=pu=0,Qi=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:gu}}),dg=fr(gd),Y_=tt({},gd,{dataTransfer:0}),K_=fr(Y_),Q_=tt({},cl,{relatedTarget:0}),xu=fr(Q_),J_=tt({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),X_=fr(J_),Z_=tt({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e2=fr(Z_),t2=tt({},Oi,{data:0}),ug=fr(t2),r2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s2[e])?!!t[e]:!1}function hm(){return a2}var i2=tt({},cl,{key:function(e){if(e.key){var t=r2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(e){return e.type==="keypress"?lc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o2=fr(i2),l2=tt({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fg=fr(l2),c2=tt({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),d2=fr(c2),u2=tt({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),f2=fr(u2),h2=tt({},gd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m2=fr(h2),p2=[9,13,27,32],mm=Ln&&"CompositionEvent"in window,xo=null;Ln&&"documentMode"in document&&(xo=document.documentMode);var g2=Ln&&"TextEvent"in window&&!xo,U0=Ln&&(!mm||xo&&8<xo&&11>=xo),hg=" ",mg=!1;function z0(e,t){switch(e){case"keyup":return p2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qa=!1;function x2(e,t){switch(e){case"compositionend":return B0(t);case"keypress":return t.which!==32?null:(mg=!0,hg);case"textInput":return e=t.data,e===hg&&mg?null:e;default:return null}}function v2(e,t){if(qa)return e==="compositionend"||!mm&&z0(e,t)?(e=$0(),oc=um=gs=null,qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U0&&t.locale!=="ko"?null:t.data;default:return null}}var y2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y2[e.type]:t==="textarea"}function W0(e,t,r,n){w0(n),t=Tc(t,"onChange"),0<t.length&&(r=new fm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vo=null,Mo=null;function w2(e){ey(e,0)}function xd(e){var t=Ga(e);if(h0(t))return e}function b2(e,t){if(e==="change")return t}var q0=!1;if(Ln){var vu;if(Ln){var yu="oninput"in document;if(!yu){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),yu=typeof gg.oninput=="function"}vu=yu}else vu=!1;q0=vu&&(!document.documentMode||9<document.documentMode)}function xg(){vo&&(vo.detachEvent("onpropertychange",V0),Mo=vo=null)}function V0(e){if(e.propertyName==="value"&&xd(Mo)){var t=[];W0(t,Mo,e,im(e)),_0(w2,t)}}function j2(e,t,r){e==="focusin"?(xg(),vo=t,Mo=r,vo.attachEvent("onpropertychange",V0)):e==="focusout"&&xg()}function N2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xd(Mo)}function _2(e,t){if(e==="click")return xd(t)}function S2(e,t){if(e==="input"||e==="change")return xd(t)}function E2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:E2;function Io(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!pf.call(t,a)||!Gr(e[a],t[a]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,t){var r=vg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vg(r)}}function H0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function G0(){for(var e=window,t=Nc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Nc(e.document)}return t}function pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C2(e){var t=G0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&H0(r.ownerDocument.documentElement,r)){if(n!==null&&pm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=yg(r,i);var o=yg(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k2=Ln&&"documentMode"in document&&11>=document.documentMode,Va=null,Df=null,yo=null,Mf=!1;function wg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mf||Va==null||Va!==Nc(n)||(n=Va,"selectionStart"in n&&pm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yo&&Io(yo,n)||(yo=n,n=Tc(Df,"onSelect"),0<n.length&&(t=new fm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Va)))}function Fl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ha={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},wu={},Y0={};Ln&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function vd(e){if(wu[e])return wu[e];if(!Ha[e])return e;var t=Ha[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Y0)return wu[e]=t[r];return e}var K0=vd("animationend"),Q0=vd("animationiteration"),J0=vd("animationstart"),X0=vd("transitionend"),Z0=new Map,bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(e,t){Z0.set(e,t),ba(t,[e])}for(var bu=0;bu<bg.length;bu++){var ju=bg[bu],P2=ju.toLowerCase(),T2=ju[0].toUpperCase()+ju.slice(1);Os(P2,"on"+T2)}Os(K0,"onAnimationEnd");Os(Q0,"onAnimationIteration");Os(J0,"onAnimationStart");Os("dblclick","onDoubleClick");Os("focusin","onFocus");Os("focusout","onBlur");Os(X0,"onTransitionEnd");xi("onMouseEnter",["mouseout","mouseover"]);xi("onMouseLeave",["mouseout","mouseover"]);xi("onPointerEnter",["pointerout","pointerover"]);xi("onPointerLeave",["pointerout","pointerover"]);ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R2=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function jg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,P_(n,t,void 0,e),e.currentTarget=null}function ey(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;jg(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;jg(a,l,d),i=c}}}if(Sc)throw e=Tf,Sc=!1,Tf=null,e}function Ge(e,t){var r=t[Uf];r===void 0&&(r=t[Uf]=new Set);var n=e+"__bubble";r.has(n)||(ty(t,e,2,!1),r.add(n))}function Nu(e,t,r){var n=0;t&&(n|=4),ty(r,e,n,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Ll]){e[Ll]=!0,l0.forEach(function(r){r!=="selectionchange"&&(R2.has(r)||Nu(r,!1,e),Nu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,Nu("selectionchange",!1,t))}}function ty(e,t,r,n){switch(L0(t)){case 1:var a=V_;break;case 4:a=H_;break;default:a=dm}r=a.bind(null,t,r,e),a=void 0,!Pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function _u(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Qs(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}_0(function(){var d=i,u=im(r),f=[];e:{var g=Z0.get(e);if(g!==void 0){var p=fm,b=e;switch(e){case"keypress":if(lc(r)===0)break e;case"keydown":case"keyup":p=o2;break;case"focusin":b="focus",p=xu;break;case"focusout":b="blur",p=xu;break;case"beforeblur":case"afterblur":p=xu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=d2;break;case K0:case Q0:case J0:p=X_;break;case X0:p=f2;break;case"scroll":p=G_;break;case"wheel":p=m2;break;case"copy":case"cut":case"paste":p=e2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fg}var v=(t&4)!==0,m=!v&&e==="scroll",x=v?g!==null?g+"Capture":null:g;v=[];for(var y=d,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=Ro(y,x),N!=null&&v.push(Lo(y,N,w)))),m)break;y=y.return}0<v.length&&(g=new p(g,b,null,r,u),f.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&r!==Cf&&(b=r.relatedTarget||r.fromElement)&&(Qs(b)||b[$n]))break e;if((p||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=d,b=b?Qs(b):null,b!==null&&(m=ja(b),b!==m||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=d),p!==b)){if(v=dg,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=fg,N="onPointerLeave",x="onPointerEnter",y="pointer"),m=p==null?g:Ga(p),w=b==null?g:Ga(b),g=new v(N,y+"leave",p,r,u),g.target=m,g.relatedTarget=w,N=null,Qs(u)===d&&(v=new v(x,y+"enter",b,r,u),v.target=w,v.relatedTarget=m,N=v),m=N,p&&b)t:{for(v=p,x=b,y=0,w=v;w;w=ka(w))y++;for(w=0,N=x;N;N=ka(N))w++;for(;0<y-w;)v=ka(v),y--;for(;0<w-y;)x=ka(x),w--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=ka(v),x=ka(x)}v=null}else v=null;p!==null&&Ng(f,g,p,v,!1),b!==null&&m!==null&&Ng(f,m,b,v,!0)}}e:{if(g=d?Ga(d):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var j=b2;else if(pg(g))if(q0)j=S2;else{j=N2;var S=j2}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=_2);if(j&&(j=j(e,d))){W0(f,j,r,u);break e}S&&S(e,g,d),e==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&jf(g,"number",g.value)}switch(S=d?Ga(d):window,e){case"focusin":(pg(S)||S.contentEditable==="true")&&(Va=S,Df=d,yo=null);break;case"focusout":yo=Df=Va=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,wg(f,r,u);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":wg(f,r,u)}var _;if(mm)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else qa?z0(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(U0&&r.locale!=="ko"&&(qa||R!=="onCompositionStart"?R==="onCompositionEnd"&&qa&&(_=$0()):(gs=u,um="value"in gs?gs.value:gs.textContent,qa=!0)),S=Tc(d,R),0<S.length&&(R=new ug(R,e,null,r,u),f.push({event:R,listeners:S}),_?R.data=_:(_=B0(r),_!==null&&(R.data=_)))),(_=g2?x2(e,r):v2(e,r))&&(d=Tc(d,"onBeforeInput"),0<d.length&&(u=new ug("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}ey(f,t)})}function Lo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tc(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ro(e,r),i!=null&&n.unshift(Lo(e,i,a)),i=Ro(e,t),i!=null&&n.push(Lo(e,i,a))),e=e.return}return n}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ng(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Ro(r,i),c!=null&&o.unshift(Lo(r,c,l))):a||(c=Ro(r,i),c!=null&&o.push(Lo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var A2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function _g(e){return(typeof e=="string"?e:""+e).replace(A2,`
`).replace(O2,"")}function $l(e,t,r){if(t=_g(t),_g(e)!==t&&r)throw Error(G(425))}function Rc(){}var If=null,Ff=null;function Lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,D2=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,M2=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(e){return Sg.resolve(null).then(e).catch(I2)}:$f;function I2(e){setTimeout(function(){throw e})}function Su(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Do(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Do(t)}function js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Di=Math.random().toString(36).slice(2),fn="__reactFiber$"+Di,$o="__reactProps$"+Di,$n="__reactContainer$"+Di,Uf="__reactEvents$"+Di,F2="__reactListeners$"+Di,L2="__reactHandles$"+Di;function Qs(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$n]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Eg(e);e!==null;){if(r=e[fn])return r;e=Eg(e)}return t}e=r,r=e.parentNode}return null}function dl(e){return e=e[fn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ga(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function yd(e){return e[$o]||null}var zf=[],Ya=-1;function Ds(e){return{current:e}}function Ke(e){0>Ya||(e.current=zf[Ya],zf[Ya]=null,Ya--)}function We(e,t){Ya++,zf[Ya]=e.current,e.current=t}var Ts={},Ot=Ds(Ts),Xt=Ds(!1),ca=Ts;function vi(e,t){var r=e.type.contextTypes;if(!r)return Ts;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zt(e){return e=e.childContextTypes,e!=null}function Ac(){Ke(Xt),Ke(Ot)}function Cg(e,t,r){if(Ot.current!==Ts)throw Error(G(168));We(Ot,t),We(Xt,r)}function ry(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,j_(e)||"Unknown",a));return tt({},r,n)}function Oc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,ca=Ot.current,We(Ot,e),We(Xt,Xt.current),!0}function kg(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=ry(e,t,ca),n.__reactInternalMemoizedMergedChildContext=e,Ke(Xt),Ke(Ot),We(Ot,e)):Ke(Xt),We(Xt,r)}var Rn=null,wd=!1,Eu=!1;function ny(e){Rn===null?Rn=[e]:Rn.push(e)}function $2(e){wd=!0,ny(e)}function Ms(){if(!Eu&&Rn!==null){Eu=!0;var e=0,t=$e;try{var r=Rn;for($e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rn=null,wd=!1}catch(a){throw Rn!==null&&(Rn=Rn.slice(e+1)),k0(om,Ms),a}finally{$e=t,Eu=!1}}return null}var Ka=[],Qa=0,Dc=null,Mc=0,yr=[],wr=0,da=null,On=1,Dn="";function Vs(e,t){Ka[Qa++]=Mc,Ka[Qa++]=Dc,Dc=e,Mc=t}function sy(e,t,r){yr[wr++]=On,yr[wr++]=Dn,yr[wr++]=da,da=e;var n=On;e=Dn;var a=32-Vr(n)-1;n&=~(1<<a),r+=1;var i=32-Vr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,On=1<<32-Vr(t)+a|r<<a|n,Dn=i+e}else On=1<<i|r<<a|n,Dn=e}function gm(e){e.return!==null&&(Vs(e,1),sy(e,1,0))}function xm(e){for(;e===Dc;)Dc=Ka[--Qa],Ka[Qa]=null,Mc=Ka[--Qa],Ka[Qa]=null;for(;e===da;)da=yr[--wr],yr[wr]=null,Dn=yr[--wr],yr[wr]=null,On=yr[--wr],yr[wr]=null}var or=null,ir=null,Qe=!1,Ur=null;function ay(e,t){var r=br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ir=js(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=da!==null?{id:On,overflow:Dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ir=null,!0):!1;default:return!1}}function Bf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wf(e){if(Qe){var t=ir;if(t){var r=t;if(!Pg(e,t)){if(Bf(e))throw Error(G(418));t=js(r.nextSibling);var n=or;t&&Pg(e,t)?ay(n,r):(e.flags=e.flags&-4097|2,Qe=!1,or=e)}}else{if(Bf(e))throw Error(G(418));e.flags=e.flags&-4097|2,Qe=!1,or=e}}}function Tg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Ul(e){if(e!==or)return!1;if(!Qe)return Tg(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lf(e.type,e.memoizedProps)),t&&(t=ir)){if(Bf(e))throw iy(),Error(G(418));for(;t;)ay(e,t),t=js(t.nextSibling)}if(Tg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ir=js(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=or?js(e.stateNode.nextSibling):null;return!0}function iy(){for(var e=ir;e;)e=js(e.nextSibling)}function yi(){ir=or=null,Qe=!1}function vm(e){Ur===null?Ur=[e]:Ur.push(e)}var U2=Vn.ReactCurrentBatchConfig;function Ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function zl(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rg(e){var t=e._init;return t(e._payload)}function oy(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Es(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,N){return y===null||y.tag!==6?(y=Ou(w,x.mode,N),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,N){var j=w.type;return j===Wa?u(x,y,w.props.children,N,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===is&&Rg(j)===y.type)?(N=a(y,w.props),N.ref=Ji(x,y,w),N.return=x,N):(N=pc(w.type,w.key,w.props,null,x.mode,N),N.ref=Ji(x,y,w),N.return=x,N)}function d(x,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Du(w,x.mode,N),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function u(x,y,w,N,j){return y===null||y.tag!==7?(y=la(w,x.mode,N,j),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ou(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tl:return w=pc(y.type,y.key,y.props,null,x.mode,w),w.ref=Ji(x,null,y),w.return=x,w;case Ba:return y=Du(y,x.mode,w),y.return=x,y;case is:var N=y._init;return f(x,N(y._payload),w)}if(lo(y)||Hi(y))return y=la(y,x.mode,w,null),y.return=x,y;zl(x,y)}return null}function g(x,y,w,N){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tl:return w.key===j?c(x,y,w,N):null;case Ba:return w.key===j?d(x,y,w,N):null;case is:return j=w._init,g(x,y,j(w._payload),N)}if(lo(w)||Hi(w))return j!==null?null:u(x,y,w,N,null);zl(x,w)}return null}function p(x,y,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,l(y,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Tl:return x=x.get(N.key===null?w:N.key)||null,c(y,x,N,j);case Ba:return x=x.get(N.key===null?w:N.key)||null,d(y,x,N,j);case is:var S=N._init;return p(x,y,w,S(N._payload),j)}if(lo(N)||Hi(N))return x=x.get(w)||null,u(y,x,N,j,null);zl(y,N)}return null}function b(x,y,w,N){for(var j=null,S=null,_=y,R=y=0,P=null;_!==null&&R<w.length;R++){_.index>R?(P=_,_=null):P=_.sibling;var C=g(x,_,w[R],N);if(C===null){_===null&&(_=P);break}e&&_&&C.alternate===null&&t(x,_),y=i(C,y,R),S===null?j=C:S.sibling=C,S=C,_=P}if(R===w.length)return r(x,_),Qe&&Vs(x,R),j;if(_===null){for(;R<w.length;R++)_=f(x,w[R],N),_!==null&&(y=i(_,y,R),S===null?j=_:S.sibling=_,S=_);return Qe&&Vs(x,R),j}for(_=n(x,_);R<w.length;R++)P=p(_,x,R,w[R],N),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?R:P.key),y=i(P,y,R),S===null?j=P:S.sibling=P,S=P);return e&&_.forEach(function(D){return t(x,D)}),Qe&&Vs(x,R),j}function v(x,y,w,N){var j=Hi(w);if(typeof j!="function")throw Error(G(150));if(w=j.call(w),w==null)throw Error(G(151));for(var S=j=null,_=y,R=y=0,P=null,C=w.next();_!==null&&!C.done;R++,C=w.next()){_.index>R?(P=_,_=null):P=_.sibling;var D=g(x,_,C.value,N);if(D===null){_===null&&(_=P);break}e&&_&&D.alternate===null&&t(x,_),y=i(D,y,R),S===null?j=D:S.sibling=D,S=D,_=P}if(C.done)return r(x,_),Qe&&Vs(x,R),j;if(_===null){for(;!C.done;R++,C=w.next())C=f(x,C.value,N),C!==null&&(y=i(C,y,R),S===null?j=C:S.sibling=C,S=C);return Qe&&Vs(x,R),j}for(_=n(x,_);!C.done;R++,C=w.next())C=p(_,x,R,C.value,N),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?R:C.key),y=i(C,y,R),S===null?j=C:S.sibling=C,S=C);return e&&_.forEach(function(M){return t(x,M)}),Qe&&Vs(x,R),j}function m(x,y,w,N){if(typeof w=="object"&&w!==null&&w.type===Wa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tl:e:{for(var j=w.key,S=y;S!==null;){if(S.key===j){if(j=w.type,j===Wa){if(S.tag===7){r(x,S.sibling),y=a(S,w.props.children),y.return=x,x=y;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===is&&Rg(j)===S.type){r(x,S.sibling),y=a(S,w.props),y.ref=Ji(x,S,w),y.return=x,x=y;break e}r(x,S);break}else t(x,S);S=S.sibling}w.type===Wa?(y=la(w.props.children,x.mode,N,w.key),y.return=x,x=y):(N=pc(w.type,w.key,w.props,null,x.mode,N),N.ref=Ji(x,y,w),N.return=x,x=N)}return o(x);case Ba:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Du(w,x.mode,N),y.return=x,x=y}return o(x);case is:return S=w._init,m(x,y,S(w._payload),N)}if(lo(w))return b(x,y,w,N);if(Hi(w))return v(x,y,w,N);zl(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=Ou(w,x.mode,N),y.return=x,x=y),o(x)):r(x,y)}return m}var wi=oy(!0),ly=oy(!1),Ic=Ds(null),Fc=null,Ja=null,ym=null;function wm(){ym=Ja=Fc=null}function bm(e){var t=Ic.current;Ke(Ic),e._currentValue=t}function qf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function si(e,t){Fc=e,ym=Ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(ym!==e)if(e={context:e,memoizedValue:t,next:null},Ja===null){if(Fc===null)throw Error(G(308));Ja=e,Fc.dependencies={lanes:0,firstContext:e}}else Ja=Ja.next=e;return t}var Js=null;function jm(e){Js===null?Js=[e]:Js.push(e)}function cy(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,jm(t)):(r.next=a.next,a.next=r),t.interleaved=r,Un(e,n)}function Un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var os=!1;function Nm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Un(e,r)}return a=n.interleaved,a===null?(t.next=t,jm(n)):(t.next=a.next,a.next=t),n.interleaved=t,Un(e,r)}function cc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lm(e,r)}}function Ag(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Lc(e,t,r,n){var a=e.updateQueue;os=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var g=l.lane,p=l.eventTime;if((n&g)===g){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(g=t,p=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(p,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,g=typeof b=="function"?b.call(p,f,g):b,g==null)break e;f=tt({},f,g);break e;case 2:os=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);fa|=o,e.lanes=o,e.memoizedState=f}}function Og(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var ul={},xn=Ds(ul),Uo=Ds(ul),zo=Ds(ul);function Xs(e){if(e===ul)throw Error(G(174));return e}function _m(e,t){switch(We(zo,t),We(Uo,e),We(xn,ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_f(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_f(t,e)}Ke(xn),We(xn,t)}function bi(){Ke(xn),Ke(Uo),Ke(zo)}function uy(e){Xs(zo.current);var t=Xs(xn.current),r=_f(t,e.type);t!==r&&(We(Uo,e),We(xn,r))}function Sm(e){Uo.current===e&&(Ke(xn),Ke(Uo))}var Xe=Ds(0);function $c(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cu=[];function Em(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}var dc=Vn.ReactCurrentDispatcher,ku=Vn.ReactCurrentBatchConfig,ua=0,Ze=null,pt=null,xt=null,Uc=!1,wo=!1,Bo=0,z2=0;function Et(){throw Error(G(321))}function Cm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function km(e,t,r,n,a,i){if(ua=i,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dc.current=e===null||e.memoizedState===null?V2:H2,e=r(n,a),wo){i=0;do{if(wo=!1,Bo=0,25<=i)throw Error(G(301));i+=1,xt=pt=null,t.updateQueue=null,dc.current=G2,e=r(n,a)}while(wo)}if(dc.current=zc,t=pt!==null&&pt.next!==null,ua=0,xt=pt=Ze=null,Uc=!1,t)throw Error(G(300));return e}function Pm(){var e=Bo!==0;return Bo=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=e:xt=xt.next=e,xt}function Sr(){if(pt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=xt===null?Ze.memoizedState:xt.next;if(t!==null)xt=t,pt=e;else{if(e===null)throw Error(G(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},xt===null?Ze.memoizedState=xt=e:xt=xt.next=e}return xt}function Wo(e,t){return typeof t=="function"?t(e):t}function Pu(e){var t=Sr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=pt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ua&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ze.lanes|=u,fa|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Gr(n,t.memoizedState)||(Qt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ze.lanes|=i,fa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tu(e){var t=Sr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Gr(i,t.memoizedState)||(Qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function fy(){}function hy(e,t){var r=Ze,n=Sr(),a=t(),i=!Gr(n.memoizedState,a);if(i&&(n.memoizedState=a,Qt=!0),n=n.queue,Tm(gy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,qo(9,py.bind(null,r,n,a,t),void 0,null),vt===null)throw Error(G(349));ua&30||my(r,t,a)}return a}function my(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function py(e,t,r,n){t.value=r,t.getSnapshot=n,xy(t)&&vy(e)}function gy(e,t,r){return r(function(){xy(t)&&vy(e)})}function xy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch{return!0}}function vy(e){var t=Un(e,1);t!==null&&Hr(t,e,1,-1)}function Dg(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=q2.bind(null,Ze,e),[t.memoizedState,e]}function qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yy(){return Sr().memoizedState}function uc(e,t,r,n){var a=an();Ze.flags|=e,a.memoizedState=qo(1|t,r,void 0,n===void 0?null:n)}function bd(e,t,r,n){var a=Sr();n=n===void 0?null:n;var i=void 0;if(pt!==null){var o=pt.memoizedState;if(i=o.destroy,n!==null&&Cm(n,o.deps)){a.memoizedState=qo(t,r,i,n);return}}Ze.flags|=e,a.memoizedState=qo(1|t,r,i,n)}function Mg(e,t){return uc(8390656,8,e,t)}function Tm(e,t){return bd(2048,8,e,t)}function wy(e,t){return bd(4,2,e,t)}function by(e,t){return bd(4,4,e,t)}function jy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ny(e,t,r){return r=r!=null?r.concat([e]):null,bd(4,4,jy.bind(null,t,e),r)}function Rm(){}function _y(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Sy(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ey(e,t,r){return ua&21?(Gr(r,t)||(r=R0(),Ze.lanes|=r,fa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=r)}function B2(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var n=ku.transition;ku.transition={};try{e(!1),t()}finally{$e=r,ku.transition=n}}function Cy(){return Sr().memoizedState}function W2(e,t,r){var n=Ss(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ky(e))Py(t,r);else if(r=cy(e,t,r,n),r!==null){var a=zt();Hr(r,e,n,a),Ty(r,t,n)}}function q2(e,t,r){var n=Ss(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ky(e))Py(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Gr(l,o)){var c=t.interleaved;c===null?(a.next=a,jm(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=cy(e,t,a,n),r!==null&&(a=zt(),Hr(r,e,n,a),Ty(r,t,n))}}function ky(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Py(e,t){wo=Uc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ty(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lm(e,r)}}var zc={readContext:_r,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},V2={readContext:_r,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:Mg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uc(4194308,4,jy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uc(4194308,4,e,t)},useInsertionEffect:function(e,t){return uc(4,2,e,t)},useMemo:function(e,t){var r=an();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=an();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=W2.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:Dg,useDebugValue:Rm,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=Dg(!1),t=e[0];return e=B2.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,a=an();if(Qe){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),vt===null)throw Error(G(349));ua&30||my(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Mg(gy.bind(null,n,i,e),[e]),n.flags|=2048,qo(9,py.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=an(),t=vt.identifierPrefix;if(Qe){var r=Dn,n=On;r=(n&~(1<<32-Vr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=z2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H2={readContext:_r,useCallback:_y,useContext:_r,useEffect:Tm,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:by,useMemo:Sy,useReducer:Pu,useRef:yy,useState:function(){return Pu(Wo)},useDebugValue:Rm,useDeferredValue:function(e){var t=Sr();return Ey(t,pt.memoizedState,e)},useTransition:function(){var e=Pu(Wo)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:fy,useSyncExternalStore:hy,useId:Cy,unstable_isNewReconciler:!1},G2={readContext:_r,useCallback:_y,useContext:_r,useEffect:Tm,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:by,useMemo:Sy,useReducer:Tu,useRef:yy,useState:function(){return Tu(Wo)},useDebugValue:Rm,useDeferredValue:function(e){var t=Sr();return pt===null?t.memoizedState=e:Ey(t,pt.memoizedState,e)},useTransition:function(){var e=Tu(Wo)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:fy,useSyncExternalStore:hy,useId:Cy,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jd={isMounted:function(e){return(e=e._reactInternals)?ja(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),a=Ss(e),i=Mn(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ns(e,i,a),t!==null&&(Hr(t,e,a,n),cc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),a=Ss(e),i=Mn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ns(e,i,a),t!==null&&(Hr(t,e,a,n),cc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=Ss(e),a=Mn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ns(e,a,n),t!==null&&(Hr(t,e,n,r),cc(t,e,n))}};function Ig(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Io(r,n)||!Io(a,i):!0}function Ry(e,t,r){var n=!1,a=Ts,i=t.contextType;return typeof i=="object"&&i!==null?i=_r(i):(a=Zt(t)?ca:Ot.current,n=t.contextTypes,i=(n=n!=null)?vi(e,a):Ts),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jd.enqueueReplaceState(t,t.state,null)}function Hf(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Nm(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=_r(i):(i=Zt(t)?ca:Ot.current,a.context=vi(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vf(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&jd.enqueueReplaceState(a,a.state,null),Lc(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ji(e,t){try{var r="",n=t;do r+=b_(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ru(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Gf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Y2=typeof WeakMap=="function"?WeakMap:Map;function Ay(e,t,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wc||(Wc=!0,nh=n),Gf(e,t)},r}function Oy(e,t,r){r=Mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Gf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Gf(e,t),typeof n!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Lg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Y2;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=lS.bind(null,e,t,r),t.then(e,e))}function $g(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ug(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mn(-1,1),t.tag=2,Ns(r,t,1))),r.lanes|=1),e)}var K2=Vn.ReactCurrentOwner,Qt=!1;function Ft(e,t,r,n){t.child=e===null?ly(t,null,r,n):wi(t,e.child,r,n)}function zg(e,t,r,n,a){r=r.render;var i=t.ref;return si(t,a),n=km(e,t,r,n,i,a),r=Pm(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zn(e,t,a)):(Qe&&r&&gm(t),t.flags|=1,Ft(e,t,n,a),t.child)}function Bg(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!$m(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Dy(e,t,i,n,a)):(e=pc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Io,r(o,n)&&e.ref===t.ref)return zn(e,t,a)}return t.flags|=1,e=Es(i,n),e.ref=t.ref,e.return=t,t.child=e}function Dy(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Io(i,n)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,zn(e,t,a)}return Yf(e,t,r,n,a)}function My(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Za,nr),nr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Za,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,We(Za,nr),nr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,We(Za,nr),nr|=n;return Ft(e,t,a,r),t.child}function Iy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yf(e,t,r,n,a){var i=Zt(r)?ca:Ot.current;return i=vi(t,i),si(t,a),r=km(e,t,r,n,i,a),n=Pm(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zn(e,t,a)):(Qe&&n&&gm(t),t.flags|=1,Ft(e,t,r,a),t.child)}function Wg(e,t,r,n,a){if(Zt(r)){var i=!0;Oc(t)}else i=!1;if(si(t,a),t.stateNode===null)fc(e,t),Ry(t,r,n),Hf(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=_r(d):(d=Zt(r)?ca:Ot.current,d=vi(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Fg(t,o,n,d),os=!1;var g=t.memoizedState;o.state=g,Lc(t,n,o,a),c=t.memoizedState,l!==n||g!==c||Xt.current||os?(typeof u=="function"&&(Vf(t,r,u,n),c=t.memoizedState),(l=os||Ig(t,r,l,n,g,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,dy(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Dr(t.type,l),o.props=d,f=t.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Zt(r)?ca:Ot.current,c=vi(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==c)&&Fg(t,o,n,c),os=!1,g=t.memoizedState,o.state=g,Lc(t,n,o,a);var b=t.memoizedState;l!==f||g!==b||Xt.current||os?(typeof p=="function"&&(Vf(t,r,p,n),b=t.memoizedState),(d=os||Ig(t,r,d,n,g,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Kf(e,t,r,n,i,a)}function Kf(e,t,r,n,a,i){Iy(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&kg(t,r,!1),zn(e,t,i);n=t.stateNode,K2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,l,i)):Ft(e,t,l,i),t.memoizedState=n.state,a&&kg(t,r,!0),t.child}function Fy(e){var t=e.stateNode;t.pendingContext?Cg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cg(e,t.context,!1),_m(e,t.containerInfo)}function qg(e,t,r,n,a){return yi(),vm(a),t.flags|=256,Ft(e,t,r,n),t.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Jf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ly(e,t,r){var n=t.pendingProps,a=Xe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),We(Xe,a&1),e===null)return Wf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sd(o,n,0,null),e=la(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jf(r),t.memoizedState=Qf,e):Am(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Q2(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Es(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Es(l,i):(i=la(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Jf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Qf,n}return i=e.child,e=i.sibling,n=Es(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Am(e,t){return t=Sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bl(e,t,r,n){return n!==null&&vm(n),wi(t,e.child,null,r),e=Am(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q2(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ru(Error(G(422))),Bl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Sd({mode:"visible",children:n.children},a,0,null),i=la(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&wi(t,e.child,null,o),t.child.memoizedState=Jf(o),t.memoizedState=Qf,i);if(!(t.mode&1))return Bl(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=Ru(i,n,void 0),Bl(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qt||l){if(n=vt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Un(e,a),Hr(n,e,a,-1))}return Lm(),n=Ru(Error(G(421))),Bl(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cS.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ir=js(a.nextSibling),or=t,Qe=!0,Ur=null,e!==null&&(yr[wr++]=On,yr[wr++]=Dn,yr[wr++]=da,On=e.id,Dn=e.overflow,da=t),t=Am(t,n.children),t.flags|=4096,t)}function Vg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qf(e.return,t,r)}function Au(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function $y(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ft(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vg(e,r,t);else if(e.tag===19)Vg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&$c(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Au(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$c(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Au(t,!0,r,null,i);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Es(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Es(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function J2(e,t,r){switch(t.tag){case 3:Fy(t),yi();break;case 5:uy(t);break;case 1:Zt(t.type)&&Oc(t);break;case 4:_m(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;We(Ic,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?Ly(e,t,r):(We(Xe,Xe.current&1),e=zn(e,t,r),e!==null?e.sibling:null);We(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return $y(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),We(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,My(e,t,r)}return zn(e,t,r)}var Uy,Xf,zy,By;Uy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xf=function(){};zy=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Xs(xn.current);var i=null;switch(r){case"input":a=wf(e,a),n=wf(e,n),i=[];break;case"select":a=tt({},a,{value:void 0}),n=tt({},n,{value:void 0}),i=[];break;case"textarea":a=Nf(e,a),n=Nf(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rc)}Sf(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Po.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Po.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};By=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xi(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function X2(e,t,r){var n=t.pendingProps;switch(xm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Zt(t.type)&&Ac(),Ct(t),null;case 3:return n=t.stateNode,bi(),Ke(Xt),Ke(Ot),Em(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(ih(Ur),Ur=null))),Xf(e,t),Ct(t),null;case 5:Sm(t);var a=Xs(zo.current);if(r=t.type,e!==null&&t.stateNode!=null)zy(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Ct(t),null}if(e=Xs(xn.current),Ul(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fn]=t,n[$o]=i,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(a=0;a<uo.length;a++)Ge(uo[a],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":eg(n,i),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",n);break;case"textarea":rg(n,i),Ge("invalid",n)}Sf(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&$l(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$l(n.textContent,l,e),a=["children",""+l]):Po.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",n)}switch(r){case"input":Rl(n),tg(n,i,!0);break;case"textarea":Rl(n),ng(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Rc)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=g0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[$o]=n,Uy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ef(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),a=n;break;case"iframe":case"object":case"embed":Ge("load",e),a=n;break;case"video":case"audio":for(a=0;a<uo.length;a++)Ge(uo[a],e);a=n;break;case"source":Ge("error",e),a=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),a=n;break;case"details":Ge("toggle",e),a=n;break;case"input":eg(e,n),a=wf(e,n),Ge("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=tt({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":rg(e,n),a=Nf(e,n),Ge("invalid",e);break;default:a=n}Sf(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?y0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&x0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&To(e,c):typeof c=="number"&&To(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Po.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",e):c!=null&&rm(e,i,c,o))}switch(r){case"input":Rl(e),tg(e,n,!1);break;case"textarea":Rl(e),ng(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ps(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ei(e,!!n.multiple,i,!1):n.defaultValue!=null&&ei(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Rc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)By(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Xs(zo.current),Xs(xn.current),Ul(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(i=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:$l(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$l(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return Ct(t),null;case 13:if(Ke(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&ir!==null&&t.mode&1&&!(t.flags&128))iy(),yi(),t.flags|=98560,i=!1;else if(i=Ul(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[fn]=t}else yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else Ur!==null&&(ih(Ur),Ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?gt===0&&(gt=3):Lm())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return bi(),Xf(e,t),e===null&&Fo(t.stateNode.containerInfo),Ct(t),null;case 10:return bm(t.type._context),Ct(t),null;case 17:return Zt(t.type)&&Ac(),Ct(t),null;case 19:if(Ke(Xe),i=t.memoizedState,i===null)return Ct(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Xi(i,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$c(e),o!==null){for(t.flags|=128,Xi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&at()>Ni&&(t.flags|=128,n=!0,Xi(i,!1),t.lanes=4194304)}else{if(!n)if(e=$c(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Ct(t),null}else 2*at()-i.renderingStartTime>Ni&&r!==1073741824&&(t.flags|=128,n=!0,Xi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=at(),t.sibling=null,r=Xe.current,We(Xe,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return Fm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nr&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function Z2(e,t){switch(xm(t),t.tag){case 1:return Zt(t.type)&&Ac(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bi(),Ke(Xt),Ke(Ot),Em(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sm(t),null;case 13:if(Ke(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Xe),null;case 4:return bi(),null;case 10:return bm(t.type._context),null;case 22:case 23:return Fm(),null;case 24:return null;default:return null}}var Wl=!1,Rt=!1,eS=typeof WeakSet=="function"?WeakSet:Set,re=null;function Xa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function Zf(e,t,r){try{r()}catch(n){nt(e,t,n)}}var Hg=!1;function tS(e,t){if(If=kc,e=G0(),pm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,g=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)g=f,f=p;for(;;){if(f===e)break t;if(g===r&&++d===a&&(l=o),g===i&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ff={focusedElem:e,selectionRange:r},kc=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,m=b.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Dr(t.type,v),m);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(N){nt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return b=Hg,Hg=!1,b}function bo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Zf(t,r,i)}a=a.next}while(a!==n)}}function Nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function eh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wy(e){var t=e.alternate;t!==null&&(e.alternate=null,Wy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[$o],delete t[Uf],delete t[F2],delete t[L2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qy(e){return e.tag===5||e.tag===3||e.tag===4}function Gg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function th(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rc));else if(n!==4&&(e=e.child,e!==null))for(th(e,t,r),e=e.sibling;e!==null;)th(e,t,r),e=e.sibling}function rh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rh(e,t,r),e=e.sibling;e!==null;)rh(e,t,r),e=e.sibling}var wt=null,Lr=!1;function Qn(e,t,r){for(r=r.child;r!==null;)Vy(e,t,r),r=r.sibling}function Vy(e,t,r){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(pd,r)}catch{}switch(r.tag){case 5:Rt||Xa(r,t);case 6:var n=wt,a=Lr;wt=null,Qn(e,t,r),wt=n,Lr=a,wt!==null&&(Lr?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Lr?(e=wt,r=r.stateNode,e.nodeType===8?Su(e.parentNode,r):e.nodeType===1&&Su(e,r),Do(e)):Su(wt,r.stateNode));break;case 4:n=wt,a=Lr,wt=r.stateNode.containerInfo,Lr=!0,Qn(e,t,r),wt=n,Lr=a;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zf(r,t,o),a=a.next}while(a!==n)}Qn(e,t,r);break;case 1:if(!Rt&&(Xa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}Qn(e,t,r);break;case 21:Qn(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,Qn(e,t,r),Rt=n):Qn(e,t,r);break;default:Qn(e,t,r)}}function Yg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eS),t.forEach(function(n){var a=dS.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:wt=l.stateNode,Lr=!1;break e;case 3:wt=l.stateNode.containerInfo,Lr=!0;break e;case 4:wt=l.stateNode.containerInfo,Lr=!0;break e}l=l.return}if(wt===null)throw Error(G(160));Vy(i,o,a),wt=null,Lr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){nt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hy(t,e),t=t.sibling}function Hy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),nn(e),n&4){try{bo(3,e,e.return),Nd(3,e)}catch(v){nt(e,e.return,v)}try{bo(5,e,e.return)}catch(v){nt(e,e.return,v)}}break;case 1:Rr(t,e),nn(e),n&512&&r!==null&&Xa(r,r.return);break;case 5:if(Rr(t,e),nn(e),n&512&&r!==null&&Xa(r,r.return),e.flags&32){var a=e.stateNode;try{To(a,"")}catch(v){nt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&m0(a,i),Ef(l,o);var d=Ef(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?y0(a,f):u==="dangerouslySetInnerHTML"?x0(a,f):u==="children"?To(a,f):rm(a,u,f,d)}switch(l){case"input":bf(a,i);break;case"textarea":p0(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ei(a,!!i.multiple,p,!1):g!==!!i.multiple&&(i.defaultValue!=null?ei(a,!!i.multiple,i.defaultValue,!0):ei(a,!!i.multiple,i.multiple?[]:"",!1))}a[$o]=i}catch(v){nt(e,e.return,v)}}break;case 6:if(Rr(t,e),nn(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){nt(e,e.return,v)}}break;case 3:if(Rr(t,e),nn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(v){nt(e,e.return,v)}break;case 4:Rr(t,e),nn(e);break;case 13:Rr(t,e),nn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Mm=at())),n&4&&Yg(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(d=Rt)||u,Rr(t,e),Rt=d):Rr(t,e),nn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(re=e,u=e.child;u!==null;){for(f=re=u;re!==null;){switch(g=re,p=g.child,g.tag){case 0:case 11:case 14:case 15:bo(4,g,g.return);break;case 1:Xa(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){nt(n,r,v)}}break;case 5:Xa(g,g.return);break;case 22:if(g.memoizedState!==null){Qg(f);continue}}p!==null?(p.return=g,re=p):Qg(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=v0("display",o))}catch(v){nt(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){nt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rr(t,e),nn(e),n&4&&Yg(e);break;case 21:break;default:Rr(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(qy(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(To(a,""),n.flags&=-33);var i=Gg(e);rh(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Gg(e);th(e,l,o);break;default:throw Error(G(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rS(e,t,r){re=e,Gy(e)}function Gy(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var a=re,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Wl;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Rt;l=Wl;var d=Rt;if(Wl=o,(Rt=c)&&!d)for(re=a;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?Jg(a):c!==null?(c.return=o,re=c):Jg(a);for(;i!==null;)re=i,Gy(i),i=i.sibling;re=a,Wl=l,Rt=d}Kg(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,re=i):Kg(e)}}function Kg(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||Nd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Og(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Og(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Do(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Rt||t.flags&512&&eh(t)}catch(g){nt(t,t.return,g)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function Qg(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function Jg(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nd(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var i=t.return;try{eh(t)}catch(c){nt(t,i,c)}break;case 5:var o=t.return;try{eh(t)}catch(c){nt(t,o,c)}}}catch(c){nt(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var nS=Math.ceil,Bc=Vn.ReactCurrentDispatcher,Om=Vn.ReactCurrentOwner,jr=Vn.ReactCurrentBatchConfig,Oe=0,vt=null,dt=null,bt=0,nr=0,Za=Ds(0),gt=0,Vo=null,fa=0,_d=0,Dm=0,jo=null,Yt=null,Mm=0,Ni=1/0,Pn=null,Wc=!1,nh=null,_s=null,ql=!1,xs=null,qc=0,No=0,sh=null,hc=-1,mc=0;function zt(){return Oe&6?at():hc!==-1?hc:hc=at()}function Ss(e){return e.mode&1?Oe&2&&bt!==0?bt&-bt:U2.transition!==null?(mc===0&&(mc=R0()),mc):(e=$e,e!==0||(e=window.event,e=e===void 0?16:L0(e.type)),e):1}function Hr(e,t,r,n){if(50<No)throw No=0,sh=null,Error(G(185));ll(e,r,n),(!(Oe&2)||e!==vt)&&(e===vt&&(!(Oe&2)&&(_d|=r),gt===4&&cs(e,bt)),er(e,n),r===1&&Oe===0&&!(t.mode&1)&&(Ni=at()+500,wd&&Ms()))}function er(e,t){var r=e.callbackNode;U_(e,t);var n=Cc(e,e===vt?bt:0);if(n===0)r!==null&&ig(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ig(r),t===1)e.tag===0?$2(Xg.bind(null,e)):ny(Xg.bind(null,e)),M2(function(){!(Oe&6)&&Ms()}),r=null;else{switch(A0(n)){case 1:r=om;break;case 4:r=P0;break;case 16:r=Ec;break;case 536870912:r=T0;break;default:r=Ec}r=tw(r,Yy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yy(e,t){if(hc=-1,mc=0,Oe&6)throw Error(G(327));var r=e.callbackNode;if(ai()&&e.callbackNode!==r)return null;var n=Cc(e,e===vt?bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vc(e,n);else{t=n;var a=Oe;Oe|=2;var i=Qy();(vt!==e||bt!==t)&&(Pn=null,Ni=at()+500,oa(e,t));do try{iS();break}catch(l){Ky(e,l)}while(!0);wm(),Bc.current=i,Oe=a,dt!==null?t=0:(vt=null,bt=0,t=gt)}if(t!==0){if(t===2&&(a=Rf(e),a!==0&&(n=a,t=ah(e,a))),t===1)throw r=Vo,oa(e,0),cs(e,n),er(e,at()),r;if(t===6)cs(e,n);else{if(a=e.current.alternate,!(n&30)&&!sS(a)&&(t=Vc(e,n),t===2&&(i=Rf(e),i!==0&&(n=i,t=ah(e,i))),t===1))throw r=Vo,oa(e,0),cs(e,n),er(e,at()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Hs(e,Yt,Pn);break;case 3:if(cs(e,n),(n&130023424)===n&&(t=Mm+500-at(),10<t)){if(Cc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){zt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$f(Hs.bind(null,e,Yt,Pn),t);break}Hs(e,Yt,Pn);break;case 4:if(cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Vr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nS(n/1960))-n,10<n){e.timeoutHandle=$f(Hs.bind(null,e,Yt,Pn),n);break}Hs(e,Yt,Pn);break;case 5:Hs(e,Yt,Pn);break;default:throw Error(G(329))}}}return er(e,at()),e.callbackNode===r?Yy.bind(null,e):null}function ah(e,t){var r=jo;return e.current.memoizedState.isDehydrated&&(oa(e,t).flags|=256),e=Vc(e,t),e!==2&&(t=Yt,Yt=r,t!==null&&ih(t)),e}function ih(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function sS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Gr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~Dm,t&=~_d,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vr(t),n=1<<r;e[r]=-1,t&=~n}}function Xg(e){if(Oe&6)throw Error(G(327));ai();var t=Cc(e,0);if(!(t&1))return er(e,at()),null;var r=Vc(e,t);if(e.tag!==0&&r===2){var n=Rf(e);n!==0&&(t=n,r=ah(e,n))}if(r===1)throw r=Vo,oa(e,0),cs(e,t),er(e,at()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hs(e,Yt,Pn),er(e,at()),null}function Im(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(Ni=at()+500,wd&&Ms())}}function ha(e){xs!==null&&xs.tag===0&&!(Oe&6)&&ai();var t=Oe;Oe|=1;var r=jr.transition,n=$e;try{if(jr.transition=null,$e=1,e)return e()}finally{$e=n,jr.transition=r,Oe=t,!(Oe&6)&&Ms()}}function Fm(){nr=Za.current,Ke(Za)}function oa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D2(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(xm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ac();break;case 3:bi(),Ke(Xt),Ke(Ot),Em();break;case 5:Sm(n);break;case 4:bi();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:bm(n.type._context);break;case 22:case 23:Fm()}r=r.return}if(vt=e,dt=e=Es(e.current,null),bt=nr=t,gt=0,Vo=null,Dm=_d=fa=0,Yt=jo=null,Js!==null){for(t=0;t<Js.length;t++)if(r=Js[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Js=null}return e}function Ky(e,t){do{var r=dt;try{if(wm(),dc.current=zc,Uc){for(var n=Ze.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Uc=!1}if(ua=0,xt=pt=Ze=null,wo=!1,Bo=0,Om.current=null,r===null||r.return===null){gt=1,Vo=t,dt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=$g(o);if(p!==null){p.flags&=-257,Ug(p,o,l,i,t),p.mode&1&&Lg(i,d,t),t=p,c=d;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){Lg(i,d,t),Lm();break e}c=Error(G(426))}}else if(Qe&&l.mode&1){var m=$g(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Ug(m,o,l,i,t),vm(ji(c,l));break e}}i=c=ji(c,l),gt!==4&&(gt=2),jo===null?jo=[i]:jo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Ay(i,c,t);Ag(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_s===null||!_s.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Oy(i,l,t);Ag(i,N);break e}}i=i.return}while(i!==null)}Xy(r)}catch(j){t=j,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function Qy(){var e=Bc.current;return Bc.current=zc,e===null?zc:e}function Lm(){(gt===0||gt===3||gt===2)&&(gt=4),vt===null||!(fa&268435455)&&!(_d&268435455)||cs(vt,bt)}function Vc(e,t){var r=Oe;Oe|=2;var n=Qy();(vt!==e||bt!==t)&&(Pn=null,oa(e,t));do try{aS();break}catch(a){Ky(e,a)}while(!0);if(wm(),Oe=r,Bc.current=n,dt!==null)throw Error(G(261));return vt=null,bt=0,gt}function aS(){for(;dt!==null;)Jy(dt)}function iS(){for(;dt!==null&&!R_();)Jy(dt)}function Jy(e){var t=ew(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?Xy(e):dt=t,Om.current=null}function Xy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Z2(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,dt=null;return}}else if(r=X2(r,t,nr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);gt===0&&(gt=5)}function Hs(e,t,r){var n=$e,a=jr.transition;try{jr.transition=null,$e=1,oS(e,t,r,n)}finally{jr.transition=a,$e=n}return null}function oS(e,t,r,n){do ai();while(xs!==null);if(Oe&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(z_(e,i),e===vt&&(dt=vt=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ql||(ql=!0,tw(Ec,function(){return ai(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=jr.transition,jr.transition=null;var o=$e;$e=1;var l=Oe;Oe|=4,Om.current=null,tS(e,r),Hy(r,e),C2(Ff),kc=!!If,Ff=If=null,e.current=r,rS(r),A_(),Oe=l,$e=o,jr.transition=i}else e.current=r;if(ql&&(ql=!1,xs=e,qc=a),i=e.pendingLanes,i===0&&(_s=null),M_(r.stateNode),er(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wc)throw Wc=!1,e=nh,nh=null,e;return qc&1&&e.tag!==0&&ai(),i=e.pendingLanes,i&1?e===sh?No++:(No=0,sh=e):No=0,Ms(),null}function ai(){if(xs!==null){var e=A0(qc),t=jr.transition,r=$e;try{if(jr.transition=null,$e=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,qc=0,Oe&6)throw Error(G(331));var a=Oe;for(Oe|=4,re=e.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(re=d;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:bo(8,u,i)}var f=u.child;if(f!==null)f.return=u,re=f;else for(;re!==null;){u=re;var g=u.sibling,p=u.return;if(Wy(u),u===d){re=null;break}if(g!==null){g.return=p,re=g;break}re=p}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(v!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bo(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,re=x;break e}re=i.return}}var y=e.current;for(re=y;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=y;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nd(9,l)}}catch(j){nt(l,l.return,j)}if(l===o){re=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,re=N;break e}re=l.return}}if(Oe=a,Ms(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(pd,e)}catch{}n=!0}return n}finally{$e=r,jr.transition=t}}return!1}function Zg(e,t,r){t=ji(r,t),t=Ay(e,t,1),e=Ns(e,t,1),t=zt(),e!==null&&(ll(e,1,t),er(e,t))}function nt(e,t,r){if(e.tag===3)Zg(e,e,r);else for(;t!==null;){if(t.tag===3){Zg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_s===null||!_s.has(n))){e=ji(r,e),e=Oy(t,e,1),t=Ns(t,e,1),e=zt(),t!==null&&(ll(t,1,e),er(t,e));break}}t=t.return}}function lS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,vt===e&&(bt&r)===r&&(gt===4||gt===3&&(bt&130023424)===bt&&500>at()-Mm?oa(e,0):Dm|=r),er(e,t)}function Zy(e,t){t===0&&(e.mode&1?(t=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):t=1);var r=zt();e=Un(e,t),e!==null&&(ll(e,t,r),er(e,r))}function cS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Zy(e,r)}function dS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),Zy(e,r)}var ew;ew=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qt=!1,J2(e,t,r);Qt=!!(e.flags&131072)}else Qt=!1,Qe&&t.flags&1048576&&sy(t,Mc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fc(e,t),e=t.pendingProps;var a=vi(t,Ot.current);si(t,r),a=km(null,t,n,e,a,r);var i=Pm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(n)?(i=!0,Oc(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Nm(t),a.updater=jd,t.stateNode=a,a._reactInternals=t,Hf(t,n,e,r),t=Kf(null,t,n,!0,i,r)):(t.tag=0,Qe&&i&&gm(t),Ft(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fS(n),e=Dr(n,e),a){case 0:t=Yf(null,t,n,e,r);break e;case 1:t=Wg(null,t,n,e,r);break e;case 11:t=zg(null,t,n,e,r);break e;case 14:t=Bg(null,t,n,Dr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Dr(n,a),Yf(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Dr(n,a),Wg(e,t,n,a,r);case 3:e:{if(Fy(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,dy(e,t),Lc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ji(Error(G(423)),t),t=qg(e,t,n,r,a);break e}else if(n!==a){a=ji(Error(G(424)),t),t=qg(e,t,n,r,a);break e}else for(ir=js(t.stateNode.containerInfo.firstChild),or=t,Qe=!0,Ur=null,r=ly(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yi(),n===a){t=zn(e,t,r);break e}Ft(e,t,n,r)}t=t.child}return t;case 5:return uy(t),e===null&&Wf(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Lf(n,a)?o=null:i!==null&&Lf(n,i)&&(t.flags|=32),Iy(e,t),Ft(e,t,o,r),t.child;case 6:return e===null&&Wf(t),null;case 13:return Ly(e,t,r);case 4:return _m(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wi(t,null,n,r):Ft(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Dr(n,a),zg(e,t,n,a,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,We(Ic,n._currentValue),n._currentValue=o,i!==null)if(Gr(i.value,o)){if(i.children===a.children&&!Xt.current){t=zn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Mn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),qf(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),qf(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,si(t,r),a=_r(a),n=n(a),t.flags|=1,Ft(e,t,n,r),t.child;case 14:return n=t.type,a=Dr(n,t.pendingProps),a=Dr(n.type,a),Bg(e,t,n,a,r);case 15:return Dy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Dr(n,a),fc(e,t),t.tag=1,Zt(n)?(e=!0,Oc(t)):e=!1,si(t,r),Ry(t,n,a),Hf(t,n,a,r),Kf(null,t,n,!0,e,r);case 19:return $y(e,t,r);case 22:return My(e,t,r)}throw Error(G(156,t.tag))};function tw(e,t){return k0(e,t)}function uS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,r,n){return new uS(e,t,r,n)}function $m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fS(e){if(typeof e=="function")return $m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sm)return 11;if(e===am)return 14}return 2}function Es(e,t){var r=e.alternate;return r===null?(r=br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pc(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")$m(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wa:return la(r.children,a,i,t);case nm:o=8,a|=8;break;case gf:return e=br(12,r,t,a|2),e.elementType=gf,e.lanes=i,e;case xf:return e=br(13,r,t,a),e.elementType=xf,e.lanes=i,e;case vf:return e=br(19,r,t,a),e.elementType=vf,e.lanes=i,e;case u0:return Sd(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c0:o=10;break e;case d0:o=9;break e;case sm:o=11;break e;case am:o=14;break e;case is:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=br(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function la(e,t,r,n){return e=br(7,e,n,t),e.lanes=r,e}function Sd(e,t,r,n){return e=br(22,e,n,t),e.elementType=u0,e.lanes=r,e.stateNode={isHidden:!1},e}function Ou(e,t,r){return e=br(6,e,null,t),e.lanes=r,e}function Du(e,t,r){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hS(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Um(e,t,r,n,a,i,o,l,c){return e=new hS(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=br(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(i),e}function mS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rw(e){if(!e)return Ts;e=e._reactInternals;e:{if(ja(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Zt(r))return ry(e,r,t)}return t}function nw(e,t,r,n,a,i,o,l,c){return e=Um(r,n,!0,e,a,i,o,l,c),e.context=rw(null),r=e.current,n=zt(),a=Ss(r),i=Mn(n,a),i.callback=t??null,Ns(r,i,a),e.current.lanes=a,ll(e,a,n),er(e,n),e}function Ed(e,t,r,n){var a=t.current,i=zt(),o=Ss(a);return r=rw(r),t.context===null?t.context=r:t.pendingContext=r,t=Mn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ns(a,t,o),e!==null&&(Hr(e,a,o,i),cc(e,a,o)),o}function Hc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ex(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zm(e,t){ex(e,t),(e=e.alternate)&&ex(e,t)}function pS(){return null}var sw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bm(e){this._internalRoot=e}Cd.prototype.render=Bm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Ed(e,t,null,null)};Cd.prototype.unmount=Bm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ha(function(){Ed(null,e,null,null)}),t[$n]=null}};function Cd(e){this._internalRoot=e}Cd.prototype.unstable_scheduleHydration=function(e){if(e){var t=M0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ls.length&&t!==0&&t<ls[r].priority;r++);ls.splice(r,0,e),r===0&&F0(e)}};function Wm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tx(){}function gS(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Hc(o);i.call(d)}}var o=nw(t,n,e,0,null,!1,!1,"",tx);return e._reactRootContainer=o,e[$n]=o.current,Fo(e.nodeType===8?e.parentNode:e),ha(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Hc(c);l.call(d)}}var c=Um(e,0,!1,null,null,!1,!1,"",tx);return e._reactRootContainer=c,e[$n]=c.current,Fo(e.nodeType===8?e.parentNode:e),ha(function(){Ed(t,c,r,n)}),c}function Pd(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Hc(o);l.call(c)}}Ed(t,o,e,a)}else o=gS(r,t,e,a,n);return Hc(o)}O0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=co(t.pendingLanes);r!==0&&(lm(t,r|1),er(t,at()),!(Oe&6)&&(Ni=at()+500,Ms()))}break;case 13:ha(function(){var n=Un(e,1);if(n!==null){var a=zt();Hr(n,e,1,a)}}),zm(e,1)}};cm=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var r=zt();Hr(t,e,134217728,r)}zm(e,134217728)}};D0=function(e){if(e.tag===13){var t=Ss(e),r=Un(e,t);if(r!==null){var n=zt();Hr(r,e,t,n)}zm(e,t)}};M0=function(){return $e};I0=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};kf=function(e,t,r){switch(t){case"input":if(bf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=yd(n);if(!a)throw Error(G(90));h0(n),bf(n,a)}}}break;case"textarea":p0(e,r);break;case"select":t=r.value,t!=null&&ei(e,!!r.multiple,t,!1)}};j0=Im;N0=ha;var xS={usingClientEntryPoint:!1,Events:[dl,Ga,yd,w0,b0,Im]},Zi={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vS={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E0(e),e===null?null:e.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{pd=Vl.inject(vS),gn=Vl}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS;ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(t))throw Error(G(200));return mS(e,t,null,r)};ur.createRoot=function(e,t){if(!Wm(e))throw Error(G(299));var r=!1,n="",a=sw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Um(e,1,!1,null,null,r,!1,n,a),e[$n]=t.current,Fo(e.nodeType===8?e.parentNode:e),new Bm(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=E0(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return ha(e)};ur.hydrate=function(e,t,r){if(!kd(t))throw Error(G(200));return Pd(null,e,t,!0,r)};ur.hydrateRoot=function(e,t,r){if(!Wm(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=sw;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=nw(t,null,e,1,r??null,a,!1,i,o),e[$n]=t.current,Fo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Cd(t)};ur.render=function(e,t,r){if(!kd(t))throw Error(G(200));return Pd(null,e,t,!1,r)};ur.unmountComponentAtNode=function(e){if(!kd(e))throw Error(G(40));return e._reactRootContainer?(ha(function(){Pd(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};ur.unstable_batchedUpdates=Im;ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kd(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Pd(e,t,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function aw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aw)}catch(e){console.error(e)}}aw(),a0.exports=ur;var Na=a0.exports;const iw=Gv(Na);var ow,rx=Na;ow=rx.createRoot,rx.hydrateRoot;const yS=1,wS=1e6;let Mu=0;function bS(){return Mu=(Mu+1)%Number.MAX_SAFE_INTEGER,Mu.toString()}const Iu=new Map,nx=e=>{if(Iu.has(e))return;const t=setTimeout(()=>{Iu.delete(e),_o({type:"REMOVE_TOAST",toastId:e})},wS);Iu.set(e,t)},jS=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yS)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?nx(r):e.toasts.forEach(n=>{nx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},gc=[];let xc={toasts:[]};function _o(e){xc=jS(xc,e),gc.forEach(t=>{t(xc)})}function Ae({...e}){const t=bS(),r=a=>_o({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>_o({type:"DISMISS_TOAST",toastId:t});return _o({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function hr(){const[e,t]=h.useState(xc);return h.useEffect(()=>(gc.push(t),()=>{const r=gc.indexOf(t);r>-1&&gc.splice(r,1)}),[e]),{...e,toast:Ae,dismiss:r=>_o({type:"DISMISS_TOAST",toastId:r})}}function ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function sx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lw(...e){return t=>{let r=!1;const n=e.map(a=>{const i=sx(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():sx(e[a],null)}}}}function Ue(...e){return h.useCallback(lw(...e),e)}function NS(e,t){const r=h.createContext(t),n=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=h.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Hn(e,t=[]){let r=[];function n(i,o){const l=h.createContext(o),c=r.length;r=[...r,o];const d=f=>{var x;const{scope:g,children:p,...b}=f,v=((x=g==null?void 0:g[e])==null?void 0:x[c])||l,m=h.useMemo(()=>b,Object.values(b));return s.jsx(v.Provider,{value:m,children:p})};d.displayName=i+"Provider";function u(f,g){var v;const p=((v=g==null?void 0:g[e])==null?void 0:v[c])||l,b=h.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,_S(a,...t)]}function _S(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ma(e){const t=ES(e),r=h.forwardRef((n,a)=>{const{children:i,...o}=n,l=h.Children.toArray(i),c=l.find(kS);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var SS=ma("Slot");function ES(e){const t=h.forwardRef((r,n)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const o=TS(a),l=PS(i,a.props);return a.type!==h.Fragment&&(l.ref=n?lw(n,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cw=Symbol("radix.slottable");function CS(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=cw,t}function kS(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cw}function PS(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function TS(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qm(e){const t=e+"CollectionProvider",[r,n]=Hn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:m,children:x}=v,y=Q.useRef(null),w=Q.useRef(new Map).current;return s.jsx(a,{scope:m,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=ma(l),d=Q.forwardRef((v,m)=>{const{scope:x,children:y}=v,w=i(l,x),N=Ue(m,w.collectionRef);return s.jsx(c,{ref:N,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",g=ma(u),p=Q.forwardRef((v,m)=>{const{scope:x,children:y,...w}=v,N=Q.useRef(null),j=Ue(m,N),S=i(u,x);return Q.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>void S.itemMap.delete(N))),s.jsx(g,{[f]:"",ref:j,children:y})});p.displayName=u;function b(v){const m=i(e+"CollectionConsumer",v);return Q.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((S,_)=>w.indexOf(S.ref.current)-w.indexOf(_.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},b,n]}var RS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=RS.reduce((e,t)=>{const r=ma(`Primitive.${t}`),n=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dw(e,t){e&&Na.flushSync(()=>e.dispatchEvent(t))}function Er(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function AS(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var OS="DismissableLayer",oh="dismissableLayer.update",DS="dismissableLayer.pointerDownOutside",MS="dismissableLayer.focusOutside",ax,uw=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(uw),[u,f]=h.useState(null),g=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=Ue(t,_=>f(_)),v=Array.from(d.layers),[m]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(m),y=u?v.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=y>=x,j=FS(_=>{const R=_.target,P=[...d.branches].some(C=>C.contains(R));!N||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},g),S=LS(_=>{const R=_.target;[...d.branches].some(C=>C.contains(R))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},g);return AS(_=>{y===d.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},g),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ax=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),ix(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ax)}},[u,g,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),ix())},[u,d]),h.useEffect(()=>{const _=()=>p({});return document.addEventListener(oh,_),()=>document.removeEventListener(oh,_)},[]),s.jsx(be.div,{...c,ref:b,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,j.onPointerDownCapture)})});Mi.displayName=OS;var IS="DismissableLayerBranch",fw=h.forwardRef((e,t)=>{const r=h.useContext(uw),n=h.useRef(null),a=Ue(t,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(be.div,{...e,ref:a})});fw.displayName=IS;function FS(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){hw(DS,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function LS(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&hw(MS,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ix(){const e=new CustomEvent(oh);document.dispatchEvent(e)}function hw(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dw(a,i):a.dispatchEvent(i)}var $S=Mi,US=fw,Nt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},zS="Portal",fl=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=h.useState(!1);Nt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?iw.createPortal(s.jsx(be.div,{...n,ref:t}),o):null});fl.displayName=zS;function BS(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Gn=e=>{const{present:t,children:r}=e,n=WS(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=Ue(n.ref,qS(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};Gn.displayName="Presence";function WS(e){const[t,r]=h.useState(),n=h.useRef(null),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=BS(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Hl(n.current);i.current=l==="mounted"?d:"none"},[l]),Nt(()=>{const d=n.current,u=a.current;if(u!==e){const g=i.current,p=Hl(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&g!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const v=Hl(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},g=p=>{p.target===t&&(i.current=Hl(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Hl(e){return(e==null?void 0:e.animationName)||"none"}function qS(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VS=Zh[" useInsertionEffect ".trim().toString()]||Nt;function pa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=HS({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=h.useCallback(u=>{var f;if(l){const g=GS(u)?u(e):u;g!==e&&((f=o.current)==null||f.call(o,g))}else i(u)},[l,e,i,o]);return[c,d]}function HS({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),a=h.useRef(r),i=h.useRef(t);return VS(()=>{i.current=t},[t]),h.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function GS(e){return typeof e=="function"}var mw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YS="VisuallyHidden",Td=h.forwardRef((e,t)=>s.jsx(be.span,{...e,ref:t,style:{...mw,...e.style}}));Td.displayName=YS;var KS=Td,Vm="ToastProvider",[Hm,QS,JS]=qm("Toast"),[pw,F8]=Hn("Toast",[JS]),[XS,Rd]=pw(Vm),gw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),g=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vm}\`. Expected non-empty \`string\`.`),s.jsx(Hm.Provider,{scope:t,children:s.jsx(XS,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};gw.displayName=Vm;var xw="ToastViewport",ZS=["F8"],lh="toast.viewportPause",ch="toast.viewportResume",vw=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=ZS,label:a="Notifications ({hotkey})",...i}=e,o=Rd(xw,r),l=QS(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),g=Ue(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;h.useEffect(()=>{const m=x=>{var w;n.length!==0&&n.every(N=>x[N]||x.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),h.useEffect(()=>{const m=c.current,x=f.current;if(b&&m&&x){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(lh);x.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(ch);x.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!m.contains(S.relatedTarget)&&w()},j=()=>{m.contains(document.activeElement)||w()};return m.addEventListener("focusin",y),m.addEventListener("focusout",N),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",N),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const v=h.useCallback(({tabbingDirection:m})=>{const y=l().map(w=>{const N=w.ref.current,j=[N,...fE(N)];return m==="forwards"?j:j.reverse()});return(m==="forwards"?y.reverse():y).flat()},[l]);return h.useEffect(()=>{const m=f.current;if(m){const x=y=>{var j,S,_;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const R=document.activeElement,P=y.shiftKey;if(y.target===m&&P){(j=d.current)==null||j.focus();return}const M=v({tabbingDirection:P?"backwards":"forwards"}),q=M.findIndex(F=>F===R);Fu(M.slice(q+1))?y.preventDefault():P?(S=d.current)==null||S.focus():(_=u.current)==null||_.focus()}};return m.addEventListener("keydown",x),()=>m.removeEventListener("keydown",x)}},[l,v]),s.jsxs(US,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(dh,{ref:d,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"forwards"});Fu(m)}}),s.jsx(Hm.Slot,{scope:r,children:s.jsx(be.ol,{tabIndex:-1,...i,ref:g})}),b&&s.jsx(dh,{ref:u,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"backwards"});Fu(m)}})]})});vw.displayName=xw;var yw="ToastFocusProxy",dh=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Rd(yw,r);return s.jsx(Td,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});dh.displayName=yw;var hl="Toast",eE="toast.swipeStart",tE="toast.swipeMove",rE="toast.swipeCancel",nE="toast.swipeEnd",ww=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=pa({prop:n,defaultProp:a??!0,onChange:i,caller:hl});return s.jsx(Gn,{present:r||l,children:s.jsx(iE,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Er(e.onPause),onResume:Er(e.onResume),onSwipeStart:ae(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ae(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});ww.displayName=hl;var[sE,aE]=pw(hl,{onClose(){}}),iE=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:p,...b}=e,v=Rd(hl,r),[m,x]=h.useState(null),y=Ue(t,F=>x(F)),w=h.useRef(null),N=h.useRef(null),j=a||v.duration,S=h.useRef(0),_=h.useRef(j),R=h.useRef(0),{onToastAdd:P,onToastRemove:C}=v,D=Er(()=>{var z;(m==null?void 0:m.contains(document.activeElement))&&((z=v.viewport)==null||z.focus()),o()}),M=h.useCallback(F=>{!F||F===1/0||(window.clearTimeout(R.current),S.current=new Date().getTime(),R.current=window.setTimeout(D,F))},[D]);h.useEffect(()=>{const F=v.viewport;if(F){const z=()=>{M(_.current),d==null||d()},W=()=>{const O=new Date().getTime()-S.current;_.current=_.current-O,window.clearTimeout(R.current),c==null||c()};return F.addEventListener(lh,W),F.addEventListener(ch,z),()=>{F.removeEventListener(lh,W),F.removeEventListener(ch,z)}}},[v.viewport,j,c,d,M]),h.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(j)},[i,j,v.isClosePausedRef,M]),h.useEffect(()=>(P(),()=>C()),[P,C]);const q=h.useMemo(()=>m?Cw(m):null,[m]);return v.viewport?s.jsxs(s.Fragment,{children:[q&&s.jsx(oE,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),s.jsx(sE,{scope:r,onClose:D,children:Na.createPortal(s.jsx(Hm.ItemSlot,{scope:r,children:s.jsx($S,{asChild:!0,onEscapeKeyDown:ae(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ae(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ae(e.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:ae(e.onPointerMove,F=>{if(!w.current)return;const z=F.clientX-w.current.x,W=F.clientY-w.current.y,O=!!N.current,E=["left","right"].includes(v.swipeDirection),A=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=E?A(0,z):0,X=E?0:A(0,W),te=F.pointerType==="touch"?10:2,se={x:U,y:X},de={originalEvent:F,delta:se};O?(N.current=se,Gl(tE,f,de,{discrete:!1})):ox(se,v.swipeDirection,te)?(N.current=se,Gl(eE,u,de,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(z)>te||Math.abs(W)>te)&&(w.current=null)}),onPointerUp:ae(e.onPointerUp,F=>{const z=N.current,W=F.target;if(W.hasPointerCapture(F.pointerId)&&W.releasePointerCapture(F.pointerId),N.current=null,w.current=null,z){const O=F.currentTarget,E={originalEvent:F,delta:z};ox(z,v.swipeDirection,v.swipeThreshold)?Gl(nE,p,E,{discrete:!0}):Gl(rE,g,E,{discrete:!0}),O.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),oE=e=>{const{__scopeToast:t,children:r,...n}=e,a=Rd(hl,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return dE(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(fl,{asChild:!0,children:s.jsx(Td,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},lE="ToastTitle",bw=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(be.div,{...n,ref:t})});bw.displayName=lE;var cE="ToastDescription",jw=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(be.div,{...n,ref:t})});jw.displayName=cE;var Nw="ToastAction",_w=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(Ew,{altText:r,asChild:!0,children:s.jsx(Gm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Nw}\`. Expected non-empty \`string\`.`),null)});_w.displayName=Nw;var Sw="ToastClose",Gm=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=aE(Sw,r);return s.jsx(Ew,{asChild:!0,children:s.jsx(be.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,a.onClose)})})});Gm.displayName=Sw;var Ew=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Cw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),uE(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Cw(n))}}),t}function Gl(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?dw(a,i):a.dispatchEvent(i)}var ox=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function dE(e=()=>{}){const t=Er(e);Nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function uE(e){return e.nodeType===e.ELEMENT_NODE}function fE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var hE=gw,kw=vw,Pw=ww,Tw=bw,Rw=jw,Aw=_w,Ow=Gm;function Dw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Dw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mw(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Dw(e))&&(n&&(n+=" "),n+=t);return n}const lx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=Mw,Ad=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return cx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const g=lx(u)||lx(f);return a[d][g]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,g]=u;return g===void 0||(d[f]=g),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:g,...p}=u;return Object.entries(p).every(b=>{let[v,m]=b;return Array.isArray(m)?m.includes({...i,...l}[v]):{...i,...l}[v]===m})?[...d,f,g]:d},[]);return cx(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...pE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Iw("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const r=h.forwardRef(({className:n,...a},i)=>h.createElement(gE,{ref:i,iconNode:t,className:Iw(`lucide-${mE(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ie("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ie("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ie("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ie("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ie("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ie("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ie("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=ie("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ie("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=ie("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jm="-",kE=e=>{const t=TE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Jm);return l[0]===""&&l.length!==1&&l.shift(),Ww(l,t)||PE(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Ww=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Ww(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Jm);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},mx=/^\[(.+)\]$/,PE=e=>{if(mx.test(e)){const t=mx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},TE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return AE(Object.entries(e.classGroups),r).forEach(([i,o])=>{hh(o,n,i,t)}),n},hh=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:px(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(RE(a)){hh(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{hh(o,px(t,i),r,n)})})},px=(e,t)=>{let r=e;return t.split(Jm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},RE=e=>e.isThemeGetter,AE=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,OE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},qw="!",DE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let m=0;m<l.length;m++){let x=l[m];if(d===0){if(x===a&&(n||l.slice(m,m+i)===t)){c.push(l.slice(u,m)),u=m+i;continue}if(x==="/"){f=m;continue}}x==="["?d++:x==="]"&&d--}const g=c.length===0?l:l.substring(u),p=g.startsWith(qw),b=p?g.substring(1):g,v=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},ME=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},IE=e=>({cache:OE(e.cacheSize),parseClassName:DE(e),...kE(e)}),FE=/\s+/,LE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(FE);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=r(d);let b=!!p,v=n(b?g.substring(0,p):g);if(!v){if(!b){l=d+(l.length>0?" "+l:l);continue}if(v=n(g),!v){l=d+(l.length>0?" "+l:l);continue}b=!1}const m=ME(u).join(":"),x=f?m+qw:m,y=x+v;if(i.includes(y))continue;i.push(y);const w=a(v,b);for(let N=0;N<w.length;++N){const j=w[N];i.push(x+j)}l=d+(l.length>0?" "+l:l)}return l};function $E(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Vw(t))&&(n&&(n+=" "),n+=r);return n}const Vw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Vw(e[n]))&&(r&&(r+=" "),r+=t);return r};function UE(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=IE(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=LE(c,r);return a(c,u),u}return function(){return i($E.apply(null,arguments))}}const He=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Hw=/^\[(?:([a-z-]+):)?(.+)\]$/i,zE=/^\d+\/\d+$/,BE=new Set(["px","full","screen"]),WE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,En=e=>ii(e)||BE.has(e)||zE.test(e),Jn=e=>Ii(e,"length",tC),ii=e=>!!e&&!Number.isNaN(Number(e)),Lu=e=>Ii(e,"number",ii),eo=e=>!!e&&Number.isInteger(Number(e)),YE=e=>e.endsWith("%")&&ii(e.slice(0,-1)),Ne=e=>Hw.test(e),Xn=e=>WE.test(e),KE=new Set(["length","size","percentage"]),QE=e=>Ii(e,KE,Gw),JE=e=>Ii(e,"position",Gw),XE=new Set(["image","url"]),ZE=e=>Ii(e,XE,nC),eC=e=>Ii(e,"",rC),to=()=>!0,Ii=(e,t,r)=>{const n=Hw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},tC=e=>qE.test(e)&&!VE.test(e),Gw=()=>!1,rC=e=>HE.test(e),nC=e=>GE.test(e),sC=()=>{const e=He("colors"),t=He("spacing"),r=He("blur"),n=He("brightness"),a=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),d=He("grayscale"),u=He("hueRotate"),f=He("invert"),g=He("gap"),p=He("gradientColorStops"),b=He("gradientColorStopPositions"),v=He("inset"),m=He("margin"),x=He("opacity"),y=He("padding"),w=He("saturate"),N=He("scale"),j=He("sepia"),S=He("skew"),_=He("space"),R=He("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ne,t],M=()=>[Ne,t],q=()=>["",En,Jn],F=()=>["auto",ii,Ne],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Ne],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[ii,Ne];return{cacheSize:500,separator:":",theme:{colors:[to],spacing:[En,Jn],blur:["none","",Xn,Ne],brightness:X(),borderColor:[e],borderRadius:["none","","full",Xn,Ne],borderSpacing:M(),borderWidth:q(),contrast:X(),grayscale:A(),hueRotate:X(),invert:A(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[YE,Jn],inset:D(),margin:D(),opacity:X(),padding:M(),saturate:X(),scale:X(),sepia:A(),skew:X(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Xn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ne]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",eo,Ne]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",eo,Ne]}],"grid-cols":[{"grid-cols":[to]}],"col-start-end":[{col:["auto",{span:["full",eo,Ne]},Ne]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[to]}],"row-start-end":[{row:["auto",{span:[eo,Ne]},Ne]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,t]}],"min-w":[{"min-w":[Ne,t,"min","max","fit"]}],"max-w":[{"max-w":[Ne,t,"none","full","min","max","fit","prose",{screen:[Xn]},Xn]}],h:[{h:[Ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xn,Jn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lu]}],"font-family":[{font:[to]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",ii,Lu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",En,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",En,Jn]}],"underline-offset":[{"underline-offset":["auto",En,Ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),JE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[En,Ne]}],"outline-w":[{outline:[En,Jn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[En,Jn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xn,eC]}],"shadow-color":[{shadow:[to]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xn,Ne]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[eo,Ne]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[En,Jn,Lu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aC=UE(sC);function _e(...e){return aC(Mw(e))}const iC=hE,Yw=h.forwardRef(({className:e,...t},r)=>s.jsx(kw,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Yw.displayName=kw.displayName;const oC=Ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Kw=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(Pw,{ref:n,className:_e(oC({variant:t}),e),...r}));Kw.displayName=Pw.displayName;const lC=h.forwardRef(({className:e,...t},r)=>s.jsx(Aw,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));lC.displayName=Aw.displayName;const Qw=h.forwardRef(({className:e,...t},r)=>s.jsx(Ow,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Qm,{className:"h-4 w-4"})}));Qw.displayName=Ow.displayName;const Jw=h.forwardRef(({className:e,...t},r)=>s.jsx(Tw,{ref:r,className:_e("text-sm font-semibold",e),...t}));Jw.displayName=Tw.displayName;const Xw=h.forwardRef(({className:e,...t},r)=>s.jsx(Rw,{ref:r,className:_e("text-sm opacity-90",e),...t}));Xw.displayName=Rw.displayName;function cC(){const{toasts:e}=hr();return s.jsxs(iC,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(Kw,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Jw,{children:r}),n&&s.jsx(Xw,{children:n})]}),a,s.jsx(Qw,{})]},t)}),s.jsx(Yw,{})]})}var gx=["light","dark"],dC="(prefers-color-scheme: dark)",uC=h.createContext(void 0),fC={setTheme:e=>{},themes:[]},hC=()=>{var e;return(e=h.useContext(uC))!=null?e:fC};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?gx.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,v=!1,m=!0)=>{let x=o?o[b]:b,y=v?b+"|| ''":`'${x}'`,w="";return a&&m&&!v&&gx.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),r==="class"?v||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},p=e?`!function(){${u}${g(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${dC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${d?"":"else{"+g(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var mC=e=>{switch(e){case"success":return xC;case"info":return yC;case"warning":return vC;case"error":return wC;default:return null}},pC=Array(12).fill(0),gC=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},pC.map((r,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),xC=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vC=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yC=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wC=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bC=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jC=()=>{let[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},mh=1,NC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:mh++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],Q.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(SC(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||mh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gt=new NC,_C=(e,t)=>{let r=(t==null?void 0:t.id)||mh++;return Gt.addToast({title:e,...t,id:r}),r},SC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",EC=_C,CC=()=>Gt.toasts,kC=()=>Gt.getActiveToasts();Object.assign(EC,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:CC,getToasts:kC});function PC(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}PC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yl(e){return e.label!==void 0}var TC=3,RC="32px",AC="16px",xx=4e3,OC=356,DC=14,MC=20,IC=200;function Ar(...e){return e.filter(Boolean).join(" ")}function FC(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var LC=e=>{var t,r,n,a,i,o,l,c,d,u,f;let{invert:g,toast:p,unstyled:b,interacting:v,setHeights:m,visibleToasts:x,heights:y,index:w,toasts:N,expanded:j,removeToast:S,defaultRichColors:_,closeButton:R,style:P,cancelButtonStyle:C,actionButtonStyle:D,className:M="",descriptionClassName:q="",duration:F,position:z,gap:W,loadingIcon:O,expandByDefault:E,classNames:A,icons:U,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:te}=e,[se,de]=Q.useState(null),[Re,me]=Q.useState(null),[K,ge]=Q.useState(!1),[Ee,Pe]=Q.useState(!1),[je,Te]=Q.useState(!1),[it,Me]=Q.useState(!1),[_t,Dt]=Q.useState(!1),[qt,en]=Q.useState(0),[Cr,tn]=Q.useState(0),Vt=Q.useRef(p.duration||F||xx),kr=Q.useRef(null),Pr=Q.useRef(null),Ea=w===0,Kn=w+1<=x,k=p.type,V=p.dismissible!==!1,fe=p.className||"",Ve=p.descriptionClassName||"",Mt=Q.useMemo(()=>y.findIndex(ne=>ne.toastId===p.id)||0,[y,p.id]),yt=Q.useMemo(()=>{var ne;return(ne=p.closeButton)!=null?ne:R},[p.closeButton,R]),rn=Q.useMemo(()=>p.duration||F||xx,[p.duration,F]),ut=Q.useRef(0),rr=Q.useRef(0),Bs=Q.useRef(0),mr=Q.useRef(null),[ue,ot]=z.split("-"),Ca=Q.useMemo(()=>y.reduce((ne,ce,Ce)=>Ce>=Mt?ne:ne+ce.height,0),[y,Mt]),Vi=jC(),T=p.invert||g,L=k==="loading";rr.current=Q.useMemo(()=>Mt*W+Ca,[Mt,Ca]),Q.useEffect(()=>{Vt.current=rn},[rn]),Q.useEffect(()=>{ge(!0)},[]),Q.useEffect(()=>{let ne=Pr.current;if(ne){let ce=ne.getBoundingClientRect().height;return tn(ce),m(Ce=>[{toastId:p.id,height:ce,position:p.position},...Ce]),()=>m(Ce=>Ce.filter(ze=>ze.toastId!==p.id))}},[m,p.id]),Q.useLayoutEffect(()=>{if(!K)return;let ne=Pr.current,ce=ne.style.height;ne.style.height="auto";let Ce=ne.getBoundingClientRect().height;ne.style.height=ce,tn(Ce),m(ze=>ze.find(ft=>ft.toastId===p.id)?ze.map(ft=>ft.toastId===p.id?{...ft,height:Ce}:ft):[{toastId:p.id,height:Ce,position:p.position},...ze])},[K,p.title,p.description,m,p.id]);let Y=Q.useCallback(()=>{Pe(!0),en(rr.current),m(ne=>ne.filter(ce=>ce.toastId!==p.id)),setTimeout(()=>{S(p)},IC)},[p,S,m,rr]);Q.useEffect(()=>{if(p.promise&&k==="loading"||p.duration===1/0||p.type==="loading")return;let ne;return j||v||te&&Vi?(()=>{if(Bs.current<ut.current){let ce=new Date().getTime()-ut.current;Vt.current=Vt.current-ce}Bs.current=new Date().getTime()})():Vt.current!==1/0&&(ut.current=new Date().getTime(),ne=setTimeout(()=>{var ce;(ce=p.onAutoClose)==null||ce.call(p,p),Y()},Vt.current)),()=>clearTimeout(ne)},[j,v,p,k,te,Vi,Y]),Q.useEffect(()=>{p.delete&&Y()},[Y,p.delete]);function pe(){var ne,ce,Ce;return U!=null&&U.loading?Q.createElement("div",{className:Ar(A==null?void 0:A.loader,(ne=p==null?void 0:p.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":k==="loading"},U.loading):O?Q.createElement("div",{className:Ar(A==null?void 0:A.loader,(ce=p==null?void 0:p.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":k==="loading"},O):Q.createElement(gC,{className:Ar(A==null?void 0:A.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader),visible:k==="loading"})}return Q.createElement("li",{tabIndex:0,ref:Pr,className:Ar(M,fe,A==null?void 0:A.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[k],(r=p==null?void 0:p.classNames)==null?void 0:r[k]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:_,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":_t,"data-removed":Ee,"data-visible":Kn,"data-y-position":ue,"data-x-position":ot,"data-index":w,"data-front":Ea,"data-swiping":je,"data-dismissible":V,"data-type":k,"data-invert":T,"data-swipe-out":it,"data-swipe-direction":Re,"data-expanded":!!(j||E&&K),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${Ee?qt:rr.current}px`,"--initial-height":E?"auto":`${Cr}px`,...P,...p.style},onDragEnd:()=>{Te(!1),de(null),mr.current=null},onPointerDown:ne=>{L||!V||(kr.current=new Date,en(rr.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(Te(!0),mr.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,ce,Ce,ze;if(it||!V)return;mr.current=null;let ft=Number(((ne=Pr.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tr=Number(((ce=Pr.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),le=new Date().getTime()-((Ce=kr.current)==null?void 0:Ce.getTime()),st=se==="x"?ft:Tr,Sn=Math.abs(st)/le;if(Math.abs(st)>=MC||Sn>.11){en(rr.current),(ze=p.onDismiss)==null||ze.call(p,p),me(se==="x"?ft>0?"right":"left":Tr>0?"down":"up"),Y(),Me(!0),Dt(!1);return}Te(!1),de(null)},onPointerMove:ne=>{var ce,Ce,ze,ft;if(!mr.current||!V||((ce=window.getSelection())==null?void 0:ce.toString().length)>0)return;let Tr=ne.clientY-mr.current.y,le=ne.clientX-mr.current.x,st=(Ce=e.swipeDirections)!=null?Ce:FC(z);!se&&(Math.abs(le)>1||Math.abs(Tr)>1)&&de(Math.abs(le)>Math.abs(Tr)?"x":"y");let Sn={x:0,y:0};se==="y"?(st.includes("top")||st.includes("bottom"))&&(st.includes("top")&&Tr<0||st.includes("bottom")&&Tr>0)&&(Sn.y=Tr):se==="x"&&(st.includes("left")||st.includes("right"))&&(st.includes("left")&&le<0||st.includes("right")&&le>0)&&(Sn.x=le),(Math.abs(Sn.x)>0||Math.abs(Sn.y)>0)&&Dt(!0),(ze=Pr.current)==null||ze.style.setProperty("--swipe-amount-x",`${Sn.x}px`),(ft=Pr.current)==null||ft.style.setProperty("--swipe-amount-y",`${Sn.y}px`)}},yt&&!p.jsx?Q.createElement("button",{"aria-label":X,"data-disabled":L,"data-close-button":!0,onClick:L||!V?()=>{}:()=>{var ne;Y(),(ne=p.onDismiss)==null||ne.call(p,p)},className:Ar(A==null?void 0:A.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=U==null?void 0:U.close)!=null?i:bC):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Q.createElement(Q.Fragment,null,k||p.icon||p.promise?Q.createElement("div",{"data-icon":"",className:Ar(A==null?void 0:A.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||pe():null,p.type!=="loading"?p.icon||(U==null?void 0:U[k])||mC(k):null):null,Q.createElement("div",{"data-content":"",className:Ar(A==null?void 0:A.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Q.createElement("div",{"data-title":"",className:Ar(A==null?void 0:A.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Q.createElement("div",{"data-description":"",className:Ar(q,Ve,A==null?void 0:A.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&Yl(p.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:ne=>{var ce,Ce;Yl(p.cancel)&&V&&((Ce=(ce=p.cancel).onClick)==null||Ce.call(ce,ne),Y())},className:Ar(A==null?void 0:A.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&Yl(p.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:ne=>{var ce,Ce;Yl(p.action)&&((Ce=(ce=p.action).onClick)==null||Ce.call(ce,ne),!ne.defaultPrevented&&Y())},className:Ar(A==null?void 0:A.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function vx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $C(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?AC:RC;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var UC=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:g,style:p,visibleToasts:b=TC,toastOptions:v,dir:m=vx(),gap:x=DC,loadingIcon:y,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=e,[S,_]=Q.useState([]),R=Q.useMemo(()=>Array.from(new Set([n].concat(S.filter(te=>te.position).map(te=>te.position)))),[S,n]),[P,C]=Q.useState([]),[D,M]=Q.useState(!1),[q,F]=Q.useState(!1),[z,W]=Q.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=Q.useRef(null),E=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=Q.useRef(null),U=Q.useRef(!1),X=Q.useCallback(te=>{_(se=>{var de;return(de=se.find(Re=>Re.id===te.id))!=null&&de.delete||Gt.dismiss(te.id),se.filter(({id:Re})=>Re!==te.id)})},[]);return Q.useEffect(()=>Gt.subscribe(te=>{if(te.dismiss){_(se=>se.map(de=>de.id===te.id?{...de,delete:!0}:de));return}setTimeout(()=>{iw.flushSync(()=>{_(se=>{let de=se.findIndex(Re=>Re.id===te.id);return de!==-1?[...se.slice(0,de),{...se[de],...te},...se.slice(de+1)]:[te,...se]})})})}),[]),Q.useEffect(()=>{if(u!=="system"){W(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:se})=>{W(se?"dark":"light")})}catch{te.addListener(({matches:de})=>{try{W(de?"dark":"light")}catch(Re){console.error(Re)}})}},[u]),Q.useEffect(()=>{S.length<=1&&M(!1)},[S]),Q.useEffect(()=>{let te=se=>{var de,Re;a.every(me=>se[me]||se.code===me)&&(M(!0),(de=O.current)==null||de.focus()),se.code==="Escape"&&(document.activeElement===O.current||(Re=O.current)!=null&&Re.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[a]),Q.useEffect(()=>{if(O.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,U.current=!1)}},[O.current]),Q.createElement("section",{ref:t,"aria-label":`${N} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((te,se)=>{var de;let[Re,me]=te.split("-");return S.length?Q.createElement("ol",{key:te,dir:m==="auto"?vx():m,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Re,"data-lifted":D&&S.length>1&&!i,"data-x-position":me,style:{"--front-toast-height":`${((de=P[0])==null?void 0:de.height)||0}px`,"--width":`${OC}px`,"--gap":`${x}px`,...p,...$C(c,d)},onBlur:K=>{U.current&&!K.currentTarget.contains(K.relatedTarget)&&(U.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||U.current||(U.current=!0,A.current=K.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{q||M(!1)},onDragEnd:()=>M(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(K=>!K.position&&se===0||K.position===te).map((K,ge)=>{var Ee,Pe;return Q.createElement(LC,{key:K.id,icons:w,index:ge,toast:K,defaultRichColors:f,duration:(Ee=v==null?void 0:v.duration)!=null?Ee:g,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Pe=v==null?void 0:v.closeButton)!=null?Pe:o,interacting:q,position:te,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:X,toasts:S.filter(je=>je.position==K.position),heights:P.filter(je=>je.position==K.position),setHeights:C,expandByDefault:i,gap:x,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const zC=({...e})=>{const{theme:t="system"}=hC();return s.jsx(UC,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var BC=Zh[" useId ".trim().toString()]||(()=>{}),WC=0;function Fn(e){const[t,r]=h.useState(BC());return Nt(()=>{e||r(n=>n??String(WC++))},[e]),e||(t?`radix-${t}`:"")}const qC=["top","right","bottom","left"],Rs=Math.min,ar=Math.max,Qc=Math.round,Kl=Math.floor,vn=e=>({x:e,y:e}),VC={left:"right",right:"left",bottom:"top",top:"bottom"},HC={start:"end",end:"start"};function ph(e,t,r){return ar(e,Rs(t,r))}function Bn(e,t){return typeof e=="function"?e(t):e}function Wn(e){return e.split("-")[0]}function Fi(e){return e.split("-")[1]}function Xm(e){return e==="x"?"y":"x"}function Zm(e){return e==="y"?"height":"width"}const GC=new Set(["top","bottom"]);function mn(e){return GC.has(Wn(e))?"y":"x"}function ep(e){return Xm(mn(e))}function YC(e,t,r){r===void 0&&(r=!1);const n=Fi(e),a=ep(e),i=Zm(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Jc(o)),[o,Jc(o)]}function KC(e){const t=Jc(e);return[gh(e),t,gh(t)]}function gh(e){return e.replace(/start|end/g,t=>HC[t])}const yx=["left","right"],wx=["right","left"],QC=["top","bottom"],JC=["bottom","top"];function XC(e,t,r){switch(e){case"top":case"bottom":return r?t?wx:yx:t?yx:wx;case"left":case"right":return t?QC:JC;default:return[]}}function ZC(e,t,r,n){const a=Fi(e);let i=XC(Wn(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(gh)))),i}function Jc(e){return e.replace(/left|right|bottom|top/g,t=>VC[t])}function ek(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zw(e){return typeof e!="number"?ek(e):{top:e,right:e,bottom:e,left:e}}function Xc(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function bx(e,t,r){let{reference:n,floating:a}=e;const i=mn(t),o=ep(t),l=Zm(o),c=Wn(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,g=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Fi(t)){case"start":p[o]-=g*(r&&d?-1:1);break;case"end":p[o]+=g*(r&&d?-1:1);break}return p}const tk=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=bx(d,n,c),g=n,p={},b=0;for(let v=0;v<l.length;v++){const{name:m,fn:x}=l[v],{x:y,y:w,data:N,reset:j}=await x({x:u,y:f,initialPlacement:n,placement:g,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,p={...p,[m]:{...p[m],...N}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(g=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:u,y:f}=bx(d,g,c)),v=-1)}return{x:u,y:f,placement:g,strategy:a,middlewareData:p}};async function Ko(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=Bn(t,e),b=Zw(p),m=l[g?f==="floating"?"reference":"floating":f],x=Xc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Xc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-j.top+b.top)/N.y,bottom:(j.bottom-x.bottom+b.bottom)/N.y,left:(x.left-j.left+b.left)/N.x,right:(j.right-x.right+b.right)/N.x}}const rk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Bn(e,t)||{};if(d==null)return{};const f=Zw(u),g={x:r,y:n},p=ep(a),b=Zm(p),v=await o.getDimensions(d),m=p==="y",x=m?"top":"left",y=m?"bottom":"right",w=m?"clientHeight":"clientWidth",N=i.reference[b]+i.reference[p]-g[p]-i.floating[b],j=g[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=S?S[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[w]||i.floating[b]);const R=N/2-j/2,P=_/2-v[b]/2-1,C=Rs(f[x],P),D=Rs(f[y],P),M=C,q=_-v[b]-D,F=_/2-v[b]/2+R,z=ph(M,F,q),W=!c.arrow&&Fi(a)!=null&&F!==z&&i.reference[b]/2-(F<M?C:D)-v[b]/2<0,O=W?F<M?F-M:F-q:0;return{[p]:g[p]+O,data:{[p]:z,centerOffset:F-z-O,...W&&{alignmentOffset:O}},reset:W}}}),nk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...m}=Bn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Wn(a),y=mn(l),w=Wn(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=g||(w||!v?[Jc(l)]:KC(l)),S=b!=="none";!g&&S&&j.push(...ZC(l,v,b,N));const _=[l,...j],R=await Ko(t,m),P=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(R[x]),f){const F=YC(a,o,N);P.push(R[F[0]],R[F[1]])}if(C=[...C,{placement:a,overflows:P}],!P.every(F=>F<=0)){var D,M;const F=(((D=i.flip)==null?void 0:D.index)||0)+1,z=_[F];if(z&&(!(f==="alignment"?y!==mn(z):!1)||C.every(E=>E.overflows[0]>0&&mn(E.placement)===y)))return{data:{index:F,overflows:C},reset:{placement:z}};let W=(M=C.filter(O=>O.overflows[0]<=0).sort((O,E)=>O.overflows[1]-E.overflows[1])[0])==null?void 0:M.placement;if(!W)switch(p){case"bestFit":{var q;const O=(q=C.filter(E=>{if(S){const A=mn(E.placement);return A===y||A==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(A=>A>0).reduce((A,U)=>A+U,0)]).sort((E,A)=>E[1]-A[1])[0])==null?void 0:q[0];O&&(W=O);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function jx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nx(e){return qC.some(t=>e[t]>=0)}const sk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Bn(e,t);switch(n){case"referenceHidden":{const i=await Ko(t,{...a,elementContext:"reference"}),o=jx(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Nx(o)}}}case"escaped":{const i=await Ko(t,{...a,altBoundary:!0}),o=jx(i,r.floating);return{data:{escapedOffsets:o,escaped:Nx(o)}}}default:return{}}}}},eb=new Set(["left","top"]);async function ak(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Wn(r),l=Fi(r),c=mn(r)==="y",d=eb.has(o)?-1:1,u=i&&c?-1:1,f=Bn(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*u,y:g*d}:{x:g*d,y:p*u}}const ik=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await ak(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},ok=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:m=>{let{x,y}=m;return{x,y}}},...c}=Bn(e,t),d={x:r,y:n},u=await Ko(t,c),f=mn(Wn(a)),g=Xm(f);let p=d[g],b=d[f];if(i){const m=g==="y"?"top":"left",x=g==="y"?"bottom":"right",y=p+u[m],w=p-u[x];p=ph(y,p,w)}if(o){const m=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=b+u[m],w=b-u[x];b=ph(y,b,w)}const v=l.fn({...t,[g]:p,[f]:b});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[g]:i,[f]:o}}}}}},lk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Bn(e,t),u={x:r,y:n},f=mn(a),g=Xm(f);let p=u[g],b=u[f];const v=Bn(l,t),m=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=g==="y"?"height":"width",N=i.reference[g]-i.floating[w]+m.mainAxis,j=i.reference[g]+i.reference[w]-m.mainAxis;p<N?p=N:p>j&&(p=j)}if(d){var x,y;const w=g==="y"?"width":"height",N=eb.has(Wn(a)),j=i.reference[f]-i.floating[w]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:m.crossAxis),S=i.reference[f]+i.reference[w]+(N?0:((y=o.offset)==null?void 0:y[f])||0)-(N?m.crossAxis:0);b<j?b=j:b>S&&(b=S)}return{[g]:p,[f]:b}}}},ck=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Bn(e,t),u=await Ko(t,d),f=Wn(a),g=Fi(a),p=mn(a)==="y",{width:b,height:v}=i.floating;let m,x;f==="top"||f==="bottom"?(m=f,x=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,m=g==="end"?"top":"bottom");const y=v-u.top-u.bottom,w=b-u.left-u.right,N=Rs(v-u[m],y),j=Rs(b-u[x],w),S=!t.middlewareData.shift;let _=N,R=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=y),S&&!g){const C=ar(u.left,0),D=ar(u.right,0),M=ar(u.top,0),q=ar(u.bottom,0);p?R=b-2*(C!==0||D!==0?C+D:ar(u.left,u.right)):_=v-2*(M!==0||q!==0?M+q:ar(u.top,u.bottom))}await c({...t,availableWidth:R,availableHeight:_});const P=await o.getDimensions(l.floating);return b!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Md(){return typeof window<"u"}function Li(e){return tb(e)?(e.nodeName||"").toLowerCase():"#document"}function lr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nn(e){var t;return(t=(tb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tb(e){return Md()?e instanceof Node||e instanceof lr(e).Node:!1}function Yr(e){return Md()?e instanceof Element||e instanceof lr(e).Element:!1}function bn(e){return Md()?e instanceof HTMLElement||e instanceof lr(e).HTMLElement:!1}function _x(e){return!Md()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof lr(e).ShadowRoot}const dk=new Set(["inline","contents"]);function gl(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!dk.has(a)}const uk=new Set(["table","td","th"]);function fk(e){return uk.has(Li(e))}const hk=[":popover-open",":modal"];function Id(e){return hk.some(t=>{try{return e.matches(t)}catch{return!1}})}const mk=["transform","translate","scale","rotate","perspective"],pk=["transform","translate","scale","rotate","perspective","filter"],gk=["paint","layout","strict","content"];function tp(e){const t=rp(),r=Yr(e)?Kr(e):e;return mk.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||pk.some(n=>(r.willChange||"").includes(n))||gk.some(n=>(r.contain||"").includes(n))}function xk(e){let t=As(e);for(;bn(t)&&!Ei(t);){if(tp(t))return t;if(Id(t))return null;t=As(t)}return null}function rp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vk=new Set(["html","body","#document"]);function Ei(e){return vk.has(Li(e))}function Kr(e){return lr(e).getComputedStyle(e)}function Fd(e){return Yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function As(e){if(Li(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_x(e)&&e.host||Nn(e);return _x(t)?t.host:t}function rb(e){const t=As(e);return Ei(t)?e.ownerDocument?e.ownerDocument.body:e.body:bn(t)&&gl(t)?t:rb(t)}function Qo(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=rb(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=lr(a);if(i){const l=xh(o);return t.concat(o,o.visualViewport||[],gl(a)?a:[],l&&r?Qo(l):[])}return t.concat(a,Qo(a,[],r))}function xh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nb(e){const t=Kr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=bn(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Qc(r)!==i||Qc(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function np(e){return Yr(e)?e:e.contextElement}function oi(e){const t=np(e);if(!bn(t))return vn(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=nb(t);let o=(i?Qc(r.width):r.width)/n,l=(i?Qc(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yk=vn(0);function sb(e){const t=lr(e);return!rp()||!t.visualViewport?yk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wk(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==lr(e)?!1:t}function ga(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=np(e);let o=vn(1);t&&(n?Yr(n)&&(o=oi(n)):o=oi(e));const l=wk(i,r,n)?sb(i):vn(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const g=lr(i),p=n&&Yr(n)?lr(n):n;let b=g,v=xh(b);for(;v&&n&&p!==b;){const m=oi(v),x=v.getBoundingClientRect(),y=Kr(v),w=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*m.x,N=x.top+(v.clientTop+parseFloat(y.paddingTop))*m.y;c*=m.x,d*=m.y,u*=m.x,f*=m.y,c+=w,d+=N,b=lr(v),v=xh(b)}}return Xc({width:u,height:f,x:c,y:d})}function sp(e,t){const r=Fd(e).scrollLeft;return t?t.left+r:ga(Nn(e)).left+r}function ab(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:sp(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function bk(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Nn(n),l=t?Id(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=vn(1);const u=vn(0),f=bn(n);if((f||!f&&!i)&&((Li(n)!=="body"||gl(o))&&(c=Fd(n)),bn(n))){const p=ga(n);d=oi(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const g=o&&!f&&!i?ab(o,c,!0):vn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+g.x,y:r.y*d.y-c.scrollTop*d.y+u.y+g.y}}function jk(e){return Array.from(e.getClientRects())}function Nk(e){const t=Nn(e),r=Fd(e),n=e.ownerDocument.body,a=ar(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ar(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+sp(e);const l=-r.scrollTop;return Kr(n).direction==="rtl"&&(o+=ar(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function _k(e,t){const r=lr(e),n=Nn(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=rp();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Sk=new Set(["absolute","fixed"]);function Ek(e,t){const r=ga(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=bn(e)?oi(e):vn(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function Sx(e,t,r){let n;if(t==="viewport")n=_k(e,r);else if(t==="document")n=Nk(Nn(e));else if(Yr(t))n=Ek(t,r);else{const a=sb(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Xc(n)}function ib(e,t){const r=As(e);return r===t||!Yr(r)||Ei(r)?!1:Kr(r).position==="fixed"||ib(r,t)}function Ck(e,t){const r=t.get(e);if(r)return r;let n=Qo(e,[],!1).filter(l=>Yr(l)&&Li(l)!=="body"),a=null;const i=Kr(e).position==="fixed";let o=i?As(e):e;for(;Yr(o)&&!Ei(o);){const l=Kr(o),c=tp(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Sk.has(a.position)||gl(o)&&!c&&ib(e,o))?n=n.filter(u=>u!==o):a=l,o=As(o)}return t.set(e,n),n}function kk(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Id(t)?[]:Ck(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=Sx(t,u,a);return d.top=ar(f.top,d.top),d.right=Rs(f.right,d.right),d.bottom=Rs(f.bottom,d.bottom),d.left=ar(f.left,d.left),d},Sx(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Pk(e){const{width:t,height:r}=nb(e);return{width:t,height:r}}function Tk(e,t,r){const n=bn(t),a=Nn(t),i=r==="fixed",o=ga(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=vn(0);function d(){c.x=sp(a)}if(n||!n&&!i)if((Li(t)!=="body"||gl(a))&&(l=Fd(t)),n){const p=ga(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?ab(a,l):vn(0),f=o.left+l.scrollLeft-c.x-u.x,g=o.top+l.scrollTop-c.y-u.y;return{x:f,y:g,width:o.width,height:o.height}}function $u(e){return Kr(e).position==="static"}function Ex(e,t){if(!bn(e)||Kr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Nn(e)===r&&(r=r.ownerDocument.body),r}function ob(e,t){const r=lr(e);if(Id(e))return r;if(!bn(e)){let a=As(e);for(;a&&!Ei(a);){if(Yr(a)&&!$u(a))return a;a=As(a)}return r}let n=Ex(e,t);for(;n&&fk(n)&&$u(n);)n=Ex(n,t);return n&&Ei(n)&&$u(n)&&!tp(n)?r:n||xk(e)||r}const Rk=async function(e){const t=this.getOffsetParent||ob,r=this.getDimensions,n=await r(e.floating);return{reference:Tk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ak(e){return Kr(e).direction==="rtl"}const Ok={convertOffsetParentRelativeRectToViewportRelativeRect:bk,getDocumentElement:Nn,getClippingRect:kk,getOffsetParent:ob,getElementRects:Rk,getClientRects:jk,getDimensions:Pk,getScale:oi,isElement:Yr,isRTL:Ak};function lb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Dk(e,t){let r=null,n;const a=Nn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:g,height:p}=d;if(l||t(),!g||!p)return;const b=Kl(f),v=Kl(a.clientWidth-(u+g)),m=Kl(a.clientHeight-(f+p)),x=Kl(u),w={rootMargin:-b+"px "+-v+"px "+-m+"px "+-x+"px",threshold:ar(0,Rs(1,c))||1};let N=!0;function j(S){const _=S[0].intersectionRatio;if(_!==c){if(!N)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!lb(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function Mk(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=np(e),u=a||i?[...d?Qo(d):[],...Qo(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=d&&l?Dk(d,r):null;let g=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let b,v=c?ga(e):null;c&&m();function m(){const x=ga(e);v&&!lb(v,x)&&r(),v=x,b=requestAnimationFrame(m)}return r(),()=>{var x;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const Ik=ik,Fk=ok,Lk=nk,$k=ck,Uk=sk,Cx=rk,zk=lk,Bk=(e,t,r)=>{const n=new Map,a={platform:Ok,...r},i={...a.platform,_c:n};return tk(e,t,{...a,platform:i})};var Wk=typeof document<"u",qk=function(){},yc=Wk?h.useLayoutEffect:qk;function Zc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zc(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Zc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function cb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kx(e,t){const r=cb(e);return Math.round(t*r)/r}function Uu(e){const t=h.useRef(e);return yc(()=>{t.current=e}),t}function Vk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=h.useState(n);Zc(g,n)||p(n);const[b,v]=h.useState(null),[m,x]=h.useState(null),y=h.useCallback(E=>{E!==S.current&&(S.current=E,v(E))},[]),w=h.useCallback(E=>{E!==_.current&&(_.current=E,x(E))},[]),N=i||b,j=o||m,S=h.useRef(null),_=h.useRef(null),R=h.useRef(u),P=c!=null,C=Uu(c),D=Uu(a),M=Uu(d),q=h.useCallback(()=>{if(!S.current||!_.current)return;const E={placement:t,strategy:r,middleware:g};D.current&&(E.platform=D.current),Bk(S.current,_.current,E).then(A=>{const U={...A,isPositioned:M.current!==!1};F.current&&!Zc(R.current,U)&&(R.current=U,Na.flushSync(()=>{f(U)}))})},[g,t,r,D,M]);yc(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[d]);const F=h.useRef(!1);yc(()=>(F.current=!0,()=>{F.current=!1}),[]),yc(()=>{if(N&&(S.current=N),j&&(_.current=j),N&&j){if(C.current)return C.current(N,j,q);q()}},[N,j,q,C,P]);const z=h.useMemo(()=>({reference:S,floating:_,setReference:y,setFloating:w}),[y,w]),W=h.useMemo(()=>({reference:N,floating:j}),[N,j]),O=h.useMemo(()=>{const E={position:r,left:0,top:0};if(!W.floating)return E;const A=kx(W.floating,u.x),U=kx(W.floating,u.y);return l?{...E,transform:"translate("+A+"px, "+U+"px)",...cb(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:U}},[r,l,W.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:q,refs:z,elements:W,floatingStyles:O}),[u,q,z,W,O])}const Hk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Cx({element:n.current,padding:a}).fn(r):{}:n?Cx({element:n,padding:a}).fn(r):{}}}},Gk=(e,t)=>({...Ik(e),options:[e,t]}),Yk=(e,t)=>({...Fk(e),options:[e,t]}),Kk=(e,t)=>({...zk(e),options:[e,t]}),Qk=(e,t)=>({...Lk(e),options:[e,t]}),Jk=(e,t)=>({...$k(e),options:[e,t]}),Xk=(e,t)=>({...Uk(e),options:[e,t]}),Zk=(e,t)=>({...Hk(e),options:[e,t]});var e4="Arrow",db=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(be.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});db.displayName=e4;var t4=db;function r4(e){const[t,r]=h.useState(void 0);return Nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ap="Popper",[ub,$i]=Hn(ap),[n4,fb]=ub(ap),hb=e=>{const{__scopePopper:t,children:r}=e,[n,a]=h.useState(null);return s.jsx(n4,{scope:t,anchor:n,onAnchorChange:a,children:r})};hb.displayName=ap;var mb="PopperAnchor",pb=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=fb(mb,r),o=h.useRef(null),l=Ue(t,o);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(be.div,{...a,ref:l})});pb.displayName=mb;var ip="PopperContent",[s4,a4]=ub(ip),gb=h.forwardRef((e,t)=>{var K,ge,Ee,Pe,je,Te;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:b,...v}=e,m=fb(ip,r),[x,y]=h.useState(null),w=Ue(t,it=>y(it)),[N,j]=h.useState(null),S=r4(N),_=(S==null?void 0:S.width)??0,R=(S==null?void 0:S.height)??0,P=n+(i!=="center"?"-"+i:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],M=D.length>0,q={padding:C,boundary:D.filter(o4),altBoundary:M},{refs:F,floatingStyles:z,placement:W,isPositioned:O,middlewareData:E}=Vk({strategy:"fixed",placement:P,whileElementsMounted:(...it)=>Mk(...it,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[Gk({mainAxis:a+R,alignmentAxis:o}),c&&Yk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Kk():void 0,...q}),c&&Qk({...q}),Jk({...q,apply:({elements:it,rects:Me,availableWidth:_t,availableHeight:Dt})=>{const{width:qt,height:en}=Me.reference,Cr=it.floating.style;Cr.setProperty("--radix-popper-available-width",`${_t}px`),Cr.setProperty("--radix-popper-available-height",`${Dt}px`),Cr.setProperty("--radix-popper-anchor-width",`${qt}px`),Cr.setProperty("--radix-popper-anchor-height",`${en}px`)}}),N&&Zk({element:N,padding:l}),l4({arrowWidth:_,arrowHeight:R}),g&&Xk({strategy:"referenceHidden",...q})]}),[A,U]=yb(W),X=Er(b);Nt(()=>{O&&(X==null||X())},[O,X]);const te=(K=E.arrow)==null?void 0:K.x,se=(ge=E.arrow)==null?void 0:ge.y,de=((Ee=E.arrow)==null?void 0:Ee.centerOffset)!==0,[Re,me]=h.useState();return Nt(()=>{x&&me(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:O?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Pe=E.transformOrigin)==null?void 0:Pe.x,(je=E.transformOrigin)==null?void 0:je.y].join(" "),...((Te=E.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(s4,{scope:r,placedSide:A,onArrowChange:j,arrowX:te,arrowY:se,shouldHideArrow:de,children:s.jsx(be.div,{"data-side":A,"data-align":U,...v,ref:w,style:{...v.style,animation:O?void 0:"none"}})})})});gb.displayName=ip;var xb="PopperArrow",i4={top:"bottom",right:"left",bottom:"top",left:"right"},vb=h.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=a4(xb,n),o=i4[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(t4,{...a,ref:r,style:{...a.style,display:"block"}})})});vb.displayName=xb;function o4(e){return e!==null}var l4=e=>({name:"transformOrigin",options:e,fn(t){var m,x,y;const{placement:r,rects:n,middlewareData:a}=t,o=((m=a.arrow)==null?void 0:m.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=yb(r),f={start:"0%",center:"50%",end:"100%"}[u],g=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let b="",v="";return d==="bottom"?(b=o?f:`${g}px`,v=`${-c}px`):d==="top"?(b=o?f:`${g}px`,v=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,v=o?f:`${p}px`):d==="left"&&(b=`${n.floating.width+c}px`,v=o?f:`${p}px`),{data:{x:b,y:v}}}});function yb(e){const[t,r="center"]=e.split("-");return[t,r]}var wb=hb,Ld=pb,op=gb,lp=vb,[$d,L8]=Hn("Tooltip",[$i]),cp=$i(),bb="TooltipProvider",c4=700,Px="tooltip.open",[d4,jb]=$d(bb),Nb=e=>{const{__scopeTooltip:t,delayDuration:r=c4,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(d4,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};Nb.displayName=bb;var _b="Tooltip",[$8,Ud]=$d(_b),vh="TooltipTrigger",u4=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ud(vh,r),i=jb(vh,r),o=cp(r),l=h.useRef(null),c=Ue(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Ld,{asChild:!0,...o,children:s.jsx(be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ae(e.onPointerMove,g=>{g.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ae(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ae(e.onBlur,a.onClose),onClick:ae(e.onClick,a.onClose)})})});u4.displayName=vh;var f4="TooltipPortal",[U8,h4]=$d(f4,{forceMount:void 0}),Ci="TooltipContent",Sb=h.forwardRef((e,t)=>{const r=h4(Ci,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Ud(Ci,e.__scopeTooltip);return s.jsx(Gn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(Eb,{side:a,...i,ref:t}):s.jsx(m4,{side:a,...i,ref:t})})}),m4=h.forwardRef((e,t)=>{const r=Ud(Ci,e.__scopeTooltip),n=jb(Ci,e.__scopeTooltip),a=h.useRef(null),i=Ue(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=n,g=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((b,v)=>{const m=b.currentTarget,x={x:b.clientX,y:b.clientY},y=y4(x,m.getBoundingClientRect()),w=w4(x,y),N=b4(v.getBoundingClientRect()),j=N4([...w,...N]);l(j),f(!0)},[f]);return h.useEffect(()=>()=>g(),[g]),h.useEffect(()=>{if(c&&u){const b=m=>p(m,u),v=m=>p(m,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",v)}}},[c,u,p,g]),h.useEffect(()=>{if(o){const b=v=>{const m=v.target,x={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(m))||(u==null?void 0:u.contains(m)),w=!j4(x,o);y?g():w&&(g(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,o,d,g]),s.jsx(Eb,{...e,ref:i})}),[p4,g4]=$d(_b,{isInside:!1}),x4=CS("TooltipContent"),Eb=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ud(Ci,r),d=cp(r),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Px,u),()=>document.removeEventListener(Px,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=g=>{const p=g.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(op,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(x4,{children:n}),s.jsx(p4,{scope:r,isInside:!0,children:s.jsx(KS,{id:c.contentId,role:"tooltip",children:a||n})})]})})});Sb.displayName=Ci;var Cb="TooltipArrow",v4=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=cp(r);return g4(Cb,r).isInside?null:s.jsx(lp,{...a,...n,ref:t})});v4.displayName=Cb;function y4(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function w4(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function b4(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function j4(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,g=c.y;u>n!=g>n&&r<(f-d)*(n-u)/(g-u)+d&&(a=!a)}return a}function N4(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_4(t)}function _4(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var S4=Nb,kb=Sb;const E4=S4,C4=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(kb,{ref:n,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));C4.displayName=kb.displayName;var zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bd=typeof window>"u"||"Deno"in globalThis;function Mr(){}function k4(e,t){return typeof e=="function"?e(t):e}function P4(e){return typeof e=="number"&&e>=0&&e!==1/0}function T4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yh(e,t){return typeof e=="function"?e(t):e}function R4(e,t){return typeof e=="function"?e(t):e}function Tx(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==dp(o,t.options))return!1}else if(!Xo(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Rx(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Jo(t.options.mutationKey)!==Jo(i))return!1}else if(!Xo(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function dp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jo)(e)}function Jo(e){return JSON.stringify(e,(t,r)=>wh(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Xo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Xo(e[r],t[r])):!1}function Pb(e,t){if(e===t)return e;const r=Ax(e)&&Ax(t);if(r||wh(e)&&wh(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=Pb(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Ax(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wh(e){if(!Ox(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ox(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ox(e){return Object.prototype.toString.call(e)==="[object Object]"}function A4(e){return new Promise(t=>{setTimeout(t,e)})}function O4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Pb(e,t):t}function D4(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function M4(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var up=Symbol();function Tb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===up?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ta,us,ci,$v,I4=($v=class extends zd{constructor(){super();Ie(this,ta);Ie(this,us);Ie(this,ci);xe(this,ci,t=>{if(!Bd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,us)||this.setEventListener(B(this,ci))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,us))==null||t.call(this),xe(this,us,void 0))}setEventListener(t){var r;xe(this,ci,t),(r=B(this,us))==null||r.call(this),xe(this,us,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,ta)!==t&&(xe(this,ta,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,ta)=="boolean"?B(this,ta):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ta=new WeakMap,us=new WeakMap,ci=new WeakMap,$v),Rb=new I4,di,fs,ui,Uv,F4=(Uv=class extends zd{constructor(){super();Ie(this,di,!0);Ie(this,fs);Ie(this,ui);xe(this,ui,t=>{if(!Bd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,fs)||this.setEventListener(B(this,ui))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,fs))==null||t.call(this),xe(this,fs,void 0))}setEventListener(t){var r;xe(this,ui,t),(r=B(this,fs))==null||r.call(this),xe(this,fs,t(this.setOnline.bind(this)))}setOnline(t){B(this,di)!==t&&(xe(this,di,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,di)}},di=new WeakMap,fs=new WeakMap,ui=new WeakMap,Uv),ed=new F4;function L4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function $4(e){return Math.min(1e3*2**e,3e4)}function Ab(e){return(e??"online")==="online"?ed.isOnline():!0}var Ob=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zu(e){return e instanceof Ob}function Db(e){let t=!1,r=0,n=!1,a;const i=L4(),o=v=>{var m;n||(g(new Ob(v)),(m=e.abort)==null||m.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Rb.isFocused()&&(e.networkMode==="always"||ed.isOnline())&&e.canRun(),u=()=>Ab(e.networkMode)&&e.canRun(),f=v=>{var m;n||(n=!0,(m=e.onSuccess)==null||m.call(e,v),a==null||a(),i.resolve(v))},g=v=>{var m;n||(n=!0,(m=e.onError)==null||m.call(e,v),a==null||a(),i.reject(v))},p=()=>new Promise(v=>{var m;a=x=>{(n||d())&&v(x)},(m=e.onPause)==null||m.call(e)}).then(()=>{var v;a=void 0,n||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(n)return;let v;const m=r===0?e.initialPromise:void 0;try{v=m??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var S;if(n)return;const y=e.retry??(Bd?0:3),w=e.retryDelay??$4,N=typeof w=="function"?w(r,x):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!j){g(x);return}r++,(S=e.onFail)==null||S.call(e,r,x),A4(N).then(()=>d()?void 0:p()).then(()=>{t?g(x):b()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():p().then(b),i)}}var U4=e=>setTimeout(e,0);function z4(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=U4;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ut=z4(),ra,zv,Mb=(zv=class{constructor(){Ie(this,ra)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P4(this.gcTime)&&xe(this,ra,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bd?1/0:5*60*1e3))}clearGcTimeout(){B(this,ra)&&(clearTimeout(B(this,ra)),xe(this,ra,void 0))}},ra=new WeakMap,zv),fi,na,xr,sa,Pt,al,aa,Ir,kn,Bv,B4=(Bv=class extends Mb{constructor(t){super();Ie(this,Ir);Ie(this,fi);Ie(this,na);Ie(this,xr);Ie(this,sa);Ie(this,Pt);Ie(this,al);Ie(this,aa);xe(this,aa,!1),xe(this,al,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,sa,t.client),xe(this,xr,B(this,sa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,fi,q4(this.options)),this.state=t.state??B(this,fi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Pt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,al),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,xr).remove(this)}setData(t,r){const n=O4(this.state.data,t,this.options);return St(this,Ir,kn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){St(this,Ir,kn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=B(this,Pt))==null?void 0:n.promise;return(a=B(this,Pt))==null||a.cancel(t),r?r.then(Mr).catch(Mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,fi))}isActive(){return this.observers.some(t=>R4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===up||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!T4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,Pt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,Pt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,xr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,Pt)&&(B(this,aa)?B(this,Pt).cancel({revert:!0}):B(this,Pt).cancelRetry()),this.scheduleGc()),B(this,xr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,Ir,kn).call(this,{type:"invalidate"})}fetch(t,r){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Pt))return B(this,Pt).continueRetry(),B(this,Pt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(p=>p.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,a=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(xe(this,aa,!0),n.signal)})},i=()=>{const g=Tb(this.options,r),b=(()=>{const v={client:B(this,sa),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return xe(this,aa,!1),this.options.persister?this.options.persister(g,b,this):g(b)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,sa),state:this.state,fetchFn:i};return a(g),g})();(d=this.options.behavior)==null||d.onFetch(l,this),xe(this,na,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&St(this,Ir,kn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=g=>{var p,b,v,m;zu(g)&&g.silent||St(this,Ir,kn).call(this,{type:"error",error:g}),zu(g)||((b=(p=B(this,xr).config).onError)==null||b.call(p,g,this),(m=(v=B(this,xr).config).onSettled)==null||m.call(v,this.state.data,g,this)),this.scheduleGc()};return xe(this,Pt,Db({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var p,b,v,m;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(x){c(x);return}(b=(p=B(this,xr).config).onSuccess)==null||b.call(p,g,this),(m=(v=B(this,xr).config).onSettled)==null||m.call(v,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,p)=>{St(this,Ir,kn).call(this,{type:"failed",failureCount:g,error:p})},onPause:()=>{St(this,Ir,kn).call(this,{type:"pause"})},onContinue:()=>{St(this,Ir,kn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,Pt).start()}},fi=new WeakMap,na=new WeakMap,xr=new WeakMap,sa=new WeakMap,Pt=new WeakMap,al=new WeakMap,aa=new WeakMap,Ir=new WeakSet,kn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...W4(n.data,this.options),fetchMeta:t.meta??null};case"success":return xe(this,na,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return zu(a)&&a.revert&&B(this,na)?{...B(this,na),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,xr).notify({query:this,type:"updated",action:t})})},Bv);function W4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ab(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function q4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ln,Wv,V4=(Wv=class extends zd{constructor(t={}){super();Ie(this,ln);this.config=t,xe(this,ln,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??dp(a,r);let o=this.get(i);return o||(o=new B4({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){B(this,ln).has(t.queryHash)||(B(this,ln).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,ln).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,ln).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,ln).get(t)}getAll(){return[...B(this,ln).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Tx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Tx(t,n)):r}notify(t){Ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ln=new WeakMap,Wv),cn,It,ia,dn,ns,qv,H4=(qv=class extends Mb{constructor(t){super();Ie(this,dn);Ie(this,cn);Ie(this,It);Ie(this,ia);this.mutationId=t.mutationId,xe(this,It,t.mutationCache),xe(this,cn,[]),this.state=t.state||G4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,cn).includes(t)||(B(this,cn).push(t),this.clearGcTimeout(),B(this,It).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,cn,B(this,cn).filter(r=>r!==t)),this.scheduleGc(),B(this,It).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,cn).length||(this.state.status==="pending"?this.scheduleGc():B(this,It).remove(this))}continue(){var t;return((t=B(this,ia))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,f,g,p,b,v,m,x,y,w,N,j,S,_,R;const r=()=>{St(this,dn,ns).call(this,{type:"continue"})};xe(this,ia,Db({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,C)=>{St(this,dn,ns).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{St(this,dn,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,It).canRun(this)}));const n=this.state.status==="pending",a=!B(this,ia).canStart();try{if(n)r();else{St(this,dn,ns).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=B(this,It).config).onMutate)==null?void 0:o.call(i,t,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));C!==this.state.context&&St(this,dn,ns).call(this,{type:"pending",context:C,variables:t,isPaused:a})}const P=await B(this,ia).start();return await((u=(d=B(this,It).config).onSuccess)==null?void 0:u.call(d,P,t,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,P,t,this.state.context)),await((b=(p=B(this,It).config).onSettled)==null?void 0:b.call(p,P,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,P,null,t,this.state.context)),St(this,dn,ns).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(x=B(this,It).config).onError)==null?void 0:y.call(x,P,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,P,t,this.state.context)),await((S=(j=B(this,It).config).onSettled)==null?void 0:S.call(j,void 0,P,this.state.variables,this.state.context,this)),await((R=(_=this.options).onSettled)==null?void 0:R.call(_,void 0,P,t,this.state.context)),P}finally{St(this,dn,ns).call(this,{type:"error",error:P})}}finally{B(this,It).runNext(this)}}},cn=new WeakMap,It=new WeakMap,ia=new WeakMap,dn=new WeakSet,ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ut.batch(()=>{B(this,cn).forEach(n=>{n.onMutationUpdate(t)}),B(this,It).notify({mutation:this,type:"updated",action:t})})},qv);function G4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var An,Fr,il,Vv,Y4=(Vv=class extends zd{constructor(t={}){super();Ie(this,An);Ie(this,Fr);Ie(this,il);this.config=t,xe(this,An,new Set),xe(this,Fr,new Map),xe(this,il,0)}build(t,r,n){const a=new H4({mutationCache:this,mutationId:++kl(this,il)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){B(this,An).add(t);const r=Ql(t);if(typeof r=="string"){const n=B(this,Fr).get(r);n?n.push(t):B(this,Fr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,An).delete(t)){const r=Ql(t);if(typeof r=="string"){const n=B(this,Fr).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&B(this,Fr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ql(t);if(typeof r=="string"){const n=B(this,Fr).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ql(t);if(typeof r=="string"){const a=(n=B(this,Fr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ut.batch(()=>{B(this,An).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,An).clear(),B(this,Fr).clear()})}getAll(){return Array.from(B(this,An))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Rx(r,n))}findAll(t={}){return this.getAll().filter(r=>Rx(t,r))}notify(t){Ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ut.batch(()=>Promise.all(t.map(r=>r.continue().catch(Mr))))}},An=new WeakMap,Fr=new WeakMap,il=new WeakMap,Vv);function Ql(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Dx(e){return{onFetch:(t,r)=>{var u,f,g,p,b;const n=t.options,a=(g=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=Tb(t.options,t.fetchOptions),y=async(w,N,j)=>{if(v)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return m(D),D})(),R=await x(_),{maxPages:P}=t.options,C=j?M4:D4;return{pages:C(w.pages,R,P),pageParams:C(w.pageParams,N,P)}};if(a&&i.length){const w=a==="backward",N=w?K4:Mx,j={pages:i,pageParams:o},S=N(n,j);l=await y(j,S,w)}else{const w=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:Mx(n,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var v,m;return(m=(v=t.options).persister)==null?void 0:m.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Mx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function K4(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rt,hs,ms,hi,mi,ps,pi,gi,Hv,Q4=(Hv=class{constructor(e={}){Ie(this,rt);Ie(this,hs);Ie(this,ms);Ie(this,hi);Ie(this,mi);Ie(this,ps);Ie(this,pi);Ie(this,gi);xe(this,rt,e.queryCache||new V4),xe(this,hs,e.mutationCache||new Y4),xe(this,ms,e.defaultOptions||{}),xe(this,hi,new Map),xe(this,mi,new Map),xe(this,ps,0)}mount(){kl(this,ps)._++,B(this,ps)===1&&(xe(this,pi,Rb.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,rt).onFocus())})),xe(this,gi,ed.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,rt).onOnline())})))}unmount(){var e,t;kl(this,ps)._--,B(this,ps)===0&&((e=B(this,pi))==null||e.call(this),xe(this,pi,void 0),(t=B(this,gi))==null||t.call(this),xe(this,gi,void 0))}isFetching(e){return B(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,hs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,rt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(yh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=B(this,rt).get(n.queryHash),i=a==null?void 0:a.state.data,o=k4(t,i);if(o!==void 0)return B(this,rt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ut.batch(()=>B(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,rt);Ut.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,rt);return Ut.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ut.batch(()=>B(this,rt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Mr).catch(Mr)}invalidateQueries(e,t={}){return Ut.batch(()=>(B(this,rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ut.batch(()=>B(this,rt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Mr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Mr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,rt).build(this,t);return r.isStaleByTime(yh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mr).catch(Mr)}fetchInfiniteQuery(e){return e.behavior=Dx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mr).catch(Mr)}ensureInfiniteQueryData(e){return e.behavior=Dx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ed.isOnline()?B(this,hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,rt)}getMutationCache(){return B(this,hs)}getDefaultOptions(){return B(this,ms)}setDefaultOptions(e){xe(this,ms,e)}setQueryDefaults(e,t){B(this,hi).set(Jo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,hi).values()],r={};return t.forEach(n=>{Xo(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,mi).set(Jo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,mi).values()],r={};return t.forEach(n=>{Xo(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===up&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,rt).clear(),B(this,hs).clear()}},rt=new WeakMap,hs=new WeakMap,ms=new WeakMap,hi=new WeakMap,mi=new WeakMap,ps=new WeakMap,pi=new WeakMap,gi=new WeakMap,Hv),J4=h.createContext(void 0),X4=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(J4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}var vs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vs||(vs={}));const Ix="popstate";function Z4(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return bh("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:td(a)}return tP(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ib(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eP(){return Math.random().toString(36).substr(2,8)}function Fx(e,t){return{usr:e.state,key:e.key,idx:t}}function bh(e,t,r,n){return r===void 0&&(r=null),Zo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ui(t):t,{state:r,key:t&&t.key||n||eP()})}function td(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ui(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tP(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=vs.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Zo({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=vs.Pop;let m=u(),x=m==null?null:m-d;d=m,c&&c({action:l,location:v.location,delta:x})}function g(m,x){l=vs.Push;let y=bh(v.location,m,x);d=u()+1;let w=Fx(y,d),N=v.createHref(y);try{o.pushState(w,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:v.location,delta:1})}function p(m,x){l=vs.Replace;let y=bh(v.location,m,x);d=u();let w=Fx(y,d),N=v.createHref(y);o.replaceState(w,"",N),i&&c&&c({action:l,location:v.location,delta:0})}function b(m){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof m=="string"?m:td(m);return y=y.replace(/ $/,"%20"),et(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return l},get location(){return e(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ix,f),c=m,()=>{a.removeEventListener(Ix,f),c=null}},createHref(m){return t(a,m)},createURL:b,encodeLocation(m){let x=b(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:p,go(m){return o.go(m)}};return v}var Lx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lx||(Lx={}));function rP(e,t,r){return r===void 0&&(r="/"),nP(e,t,r,!1)}function nP(e,t,r,n){let a=typeof t=="string"?Ui(t):t,i=ki(a.pathname||"/",r);if(i==null)return null;let o=Fb(e);sP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=pP(i);l=hP(o[c],d,n)}return l}function Fb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ks([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Fb(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:uP(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Lb(i.path))a(i,o,c)}),t}function Lb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Lb(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aP=/^:[\w-]+$/,iP=3,oP=2,lP=1,cP=10,dP=-2,$x=e=>e==="*";function uP(e,t){let r=e.split("/"),n=r.length;return r.some($x)&&(n+=dP),t&&(n+=oP),r.filter(a=>!$x(a)).reduce((a,i)=>a+(aP.test(i)?iP:i===""?lP:cP),n)}function fP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function hP(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=rd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=rd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ks([i,f.pathname]),pathnameBase:yP(ks([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=ks([i,f.pathnameBase]))}return o}function rd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mP(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:g,isOptional:p}=u;if(g==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[f];return p&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function mP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ib(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ib(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ui(e):e;return{pathname:r?r.startsWith("/")?r:xP(r,t):t,search:wP(n),hash:bP(a)}}function xP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Bu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fp(e,t){let r=vP(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hp(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ui(e):(a=Zo({},e),et(!a.pathname||!a.pathname.includes("?"),Bu("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Bu("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Bu("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}l=f>=0?t[f]:"/"}let c=gP(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),yP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $b=["post","put","patch","delete"];new Set($b);const NP=["get",...$b];new Set(NP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}const Wd=h.createContext(null),Ub=h.createContext(null),Yn=h.createContext(null),qd=h.createContext(null),Is=h.createContext({outlet:null,matches:[],isDataRoute:!1}),zb=h.createContext(null);function _P(e,t){let{relative:r}=t===void 0?{}:t;zi()||et(!1);let{basename:n,navigator:a}=h.useContext(Yn),{hash:i,pathname:o,search:l}=Vd(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ks([n,o])),a.createHref({pathname:c,search:l,hash:i})}function zi(){return h.useContext(qd)!=null}function Fs(){return zi()||et(!1),h.useContext(qd).location}function Bb(e){h.useContext(Yn).static||h.useLayoutEffect(e)}function _n(){let{isDataRoute:e}=h.useContext(Is);return e?FP():SP()}function SP(){zi()||et(!1);let e=h.useContext(Wd),{basename:t,future:r,navigator:n}=h.useContext(Yn),{matches:a}=h.useContext(Is),{pathname:i}=Fs(),o=JSON.stringify(fp(a,r.v7_relativeSplatPath)),l=h.useRef(!1);return Bb(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=hp(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ks([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function Vd(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Yn),{matches:a}=h.useContext(Is),{pathname:i}=Fs(),o=JSON.stringify(fp(a,n.v7_relativeSplatPath));return h.useMemo(()=>hp(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function EP(e,t){return CP(e,t)}function CP(e,t,r,n){zi()||et(!1);let{navigator:a}=h.useContext(Yn),{matches:i}=h.useContext(Is),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Fs(),u;if(t){var f;let m=typeof t=="string"?Ui(t):t;c==="/"||(f=m.pathname)!=null&&f.startsWith(c)||et(!1),u=m}else u=d;let g=u.pathname||"/",p=g;if(c!=="/"){let m=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(m.length).join("/")}let b=rP(e,{pathname:p}),v=AP(b&&b.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:ks([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:ks([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r,n);return t&&v?h.createElement(qd.Provider,{value:{location:el({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vs.Pop}},v):v}function kP(){let e=IP(),t=jP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,null)}const PP=h.createElement(kP,null);class TP extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Is.Provider,{value:this.props.routeContext},h.createElement(zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RP(e){let{routeContext:t,match:r,children:n}=e,a=h.useContext(Wd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Is.Provider,{value:t},n)}function AP(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||et(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:g,errors:p}=r,b=f.route.loader&&g[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,g)=>{let p,b=!1,v=null,m=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||PP,c&&(d<0&&g===0?(b=!0,m=null):d===g&&(b=!0,m=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,g+1)),y=()=>{let w;return p?w=v:b?w=m:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,h.createElement(RP,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(TP,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var Wb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wb||{}),nd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nd||{});function OP(e){let t=h.useContext(Wd);return t||et(!1),t}function DP(e){let t=h.useContext(Ub);return t||et(!1),t}function MP(e){let t=h.useContext(Is);return t||et(!1),t}function qb(e){let t=MP(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function IP(){var e;let t=h.useContext(zb),r=DP(nd.UseRouteError),n=qb(nd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function FP(){let{router:e}=OP(Wb.UseNavigateStable),t=qb(nd.UseNavigateStable),r=h.useRef(!1);return Bb(()=>{r.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,el({fromRouteId:t},i)))},[e,t])}function LP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $P(e){let{to:t,replace:r,state:n,relative:a}=e;zi()||et(!1);let{future:i,static:o}=h.useContext(Yn),{matches:l}=h.useContext(Is),{pathname:c}=Fs(),d=_n(),u=hp(t,fp(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function lt(e){et(!1)}function UP(e){let{basename:t="/",children:r=null,location:n,navigationType:a=vs.Pop,navigator:i,static:o=!1,future:l}=e;zi()&&et(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:el({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ui(n));let{pathname:u="/",search:f="",hash:g="",state:p=null,key:b="default"}=n,v=h.useMemo(()=>{let m=ki(u,c);return m==null?null:{location:{pathname:m,search:f,hash:g,state:p,key:b},navigationType:a}},[c,u,f,g,p,b,a]);return v==null?null:h.createElement(Yn.Provider,{value:d},h.createElement(qd.Provider,{children:r,value:v}))}function zP(e){let{children:t,location:r}=e;return EP(jh(t),r)}new Promise(()=>{});function jh(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let i=[...t,a];if(n.type===h.Fragment){r.push.apply(r,jh(n.props.children,i));return}n.type!==lt&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=jh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(this,arguments)}function Vb(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function BP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WP(e,t){return e.button===0&&(!t||t==="_self")&&!BP(e)}const qP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VP=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],HP="6";try{window.__reactRouterVersion=HP}catch{}const GP=h.createContext({isTransitioning:!1}),YP="startTransition",Ux=Zh[YP];function KP(e){let{basename:t,children:r,future:n,window:a}=e,i=h.useRef();i.current==null&&(i.current=Z4({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=h.useCallback(f=>{d&&Ux?Ux(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>LP(n),[n]),h.createElement(UP,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const QP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XP=h.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,g=Vb(t,qP),{basename:p}=h.useContext(Yn),b,v=!1;if(typeof d=="string"&&JP.test(d)&&(b=d,QP))try{let w=new URL(window.location.href),N=d.startsWith("//")?new URL(w.protocol+d):new URL(d),j=ki(N.pathname,p);N.origin===w.origin&&j!=null?d=j+N.search+N.hash:v=!0}catch{}let m=_P(d,{relative:a}),x=tT(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return h.createElement("a",sd({},g,{href:b||m,onClick:v||i?n:y,ref:r,target:c}))}),ZP=h.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,f=Vb(t,VP),g=Vd(c,{relative:f.relative}),p=Fs(),b=h.useContext(Ub),{navigator:v,basename:m}=h.useContext(Yn),x=b!=null&&rT(g)&&d===!0,y=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,w=p.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(w=w.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&m&&(N=ki(N,m)||N);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=w===y||!o&&w.startsWith(y)&&w.charAt(j)==="/",_=N!=null&&(N===y||!o&&N.startsWith(y)&&N.charAt(y.length)==="/"),R={isActive:S,isPending:_,isTransitioning:x},P=S?n:void 0,C;typeof i=="function"?C=i(R):C=[i,S?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(R):l;return h.createElement(XP,sd({},f,{"aria-current":P,className:C,ref:r,style:D,to:c,viewTransition:d}),typeof u=="function"?u(R):u)});var Nh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nh||(Nh={}));var zx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zx||(zx={}));function eT(e){let t=h.useContext(Wd);return t||et(!1),t}function tT(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=_n(),d=Fs(),u=Vd(e,{relative:o});return h.useCallback(f=>{if(WP(f,r)){f.preventDefault();let g=n!==void 0?n:td(d)===td(u);c(e,{replace:g,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function rT(e,t){t===void 0&&(t={});let r=h.useContext(GP);r==null&&et(!1);let{basename:n}=eT(Nh.useViewTransitionState),a=Vd(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ki(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ki(r.nextLocation.pathname,n)||r.nextLocation.pathname;return rd(a.pathname,o)!=null||rd(a.pathname,i)!=null}const _h=Ad("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"gradient-primary text-white hover:opacity-90 transition-opacity shadow-lg hover:shadow-xl"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?SS:"button";return s.jsx(o,{className:_e(_h({variant:t,size:r,className:e})),ref:i,...a})});I.displayName="Button";const J=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const ye=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));ye.displayName="CardHeader";const we=h.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));we.displayName="CardTitle";const Fe=h.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));Fe.displayName="CardDescription";const Z=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("p-6 pt-0",e),...t}));Z.displayName="CardContent";const nT=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...t}));nT.displayName="CardFooter";const sT="/assets/hero-image-BnyXYLkl.jpg",aT=()=>{const e=_n();return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-accent/10 to-secondary/10"}),s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("section",{className:"py-20 px-6 relative",children:[s.jsx("div",{className:"absolute inset-0 z-0",children:s.jsx("img",{src:sT,alt:"School event management - Students at graduation ceremony with digital interfaces",className:"w-full h-full object-cover opacity-20 rounded-3xl mx-6"})}),s.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[s.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-foreground mb-6 leading-tight",children:["School Event",s.jsx("span",{className:"block gradient-primary bg-clip-text text-transparent",children:"Management System"})]}),s.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto leading-relaxed",children:"Streamline your school events from planning to execution. Manage participants, approvals, and analytics all in one beautiful platform."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(I,{size:"lg",variant:"gradient",className:"px-8 py-3 shadow-xl",onClick:()=>e("/login"),children:["Get Started",s.jsx(dx,{className:"ml-2 w-5 h-5"})]}),s.jsx(I,{variant:"outline",size:"lg",className:"border-primary/20 text-primary hover:bg-primary hover:text-white px-8 py-3",children:"Learn More"})]})]})]}),s.jsx("section",{className:"py-20 px-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Everything You Need to Manage Events"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"From event creation to post-event analytics, we've got you covered with powerful tools and intuitive design."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs(J,{className:"bg-white border shadow-lg card-elevated",children:[s.jsxs(ye,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 gradient-primary rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Je,{className:"w-6 h-6 text-white"})}),s.jsx(we,{className:"text-xl text-foreground",children:"Event Planning"})]}),s.jsx(Z,{children:s.jsx(Fe,{className:"text-muted-foreground text-center",children:"Create and manage events with detailed scheduling, venue booking, and comprehensive planning tools."})})]}),s.jsxs(J,{className:"bg-white border shadow-lg card-elevated",children:[s.jsxs(ye,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 gradient-secondary rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Ye,{className:"w-6 h-6 text-white"})}),s.jsx(we,{className:"text-xl text-foreground",children:"Participant Management"})]}),s.jsx(Z,{children:s.jsx(Fe,{className:"text-muted-foreground text-center",children:"Handle registrations, track attendance, and manage participant data with ease and efficiency."})})]}),s.jsxs(J,{className:"bg-white border shadow-lg card-elevated",children:[s.jsxs(ye,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 gradient-secondary rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(wn,{className:"w-6 h-6 text-white"})}),s.jsx(we,{className:"text-xl text-foreground",children:"Approval Workflow"})]}),s.jsx(Z,{children:s.jsx(Fe,{className:"text-muted-foreground text-center",children:"Streamlined approval process with automated notifications and role-based access control."})})]})]})]})}),s.jsx("section",{className:"py-20 px-6",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(J,{className:"bg-white border shadow-xl p-8 card-elevated",children:[s.jsxs(ye,{children:[s.jsx(we,{className:"text-3xl font-bold text-foreground mb-4",children:"Ready to Transform Your Event Management?"}),s.jsx(Fe,{className:"text-muted-foreground text-lg",children:"Join thousands of schools already using our platform to create memorable events."})]}),s.jsx(Z,{className:"pt-6",children:s.jsxs(I,{size:"lg",variant:"gradient",className:"px-8 py-3",onClick:()=>e("/login"),children:["Start Your Journey",s.jsx(dx,{className:"ml-2 w-5 h-5"})]})})]})})}),s.jsx("footer",{className:"py-8 px-6 border-t border-border",children:s.jsx("div",{className:"max-w-6xl mx-auto text-center",children:s.jsx("p",{className:"text-muted-foreground",children:" 2025 School Event Management System."})})})]})]})},xl="/assets/image-CNPeLHcr.png",ee=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ee.displayName="Input";var iT="Label",Hb=h.forwardRef((e,t)=>s.jsx(be.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Hb.displayName=iT;var Gb=Hb;const oT=Ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=h.forwardRef(({className:e,...t},r)=>s.jsx(Gb,{ref:r,className:_e(oT(),e),...t}));H.displayName=Gb.displayName;var lT=h.createContext(void 0);function mp(e){const t=h.useContext(lT);return e||t||"ltr"}var Wu="rovingFocusGroup.onEntryFocus",cT={bubbles:!1,cancelable:!0},vl="RovingFocusGroup",[Sh,Yb,dT]=qm(vl),[uT,Kb]=Hn(vl,[dT]),[fT,hT]=uT(vl),Qb=h.forwardRef((e,t)=>s.jsx(Sh.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Sh.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(mT,{...e,ref:t})})}));Qb.displayName=vl;var mT=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,g=h.useRef(null),p=Ue(t,g),b=mp(i),[v,m]=pa({prop:o,defaultProp:l??null,onChange:c,caller:vl}),[x,y]=h.useState(!1),w=Er(d),N=Yb(r),j=h.useRef(!1),[S,_]=h.useState(0);return h.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(Wu,w),()=>R.removeEventListener(Wu,w)},[w]),s.jsx(fT,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:v,onItemFocus:h.useCallback(R=>m(R),[m]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>_(R=>R+1),[]),onFocusableItemRemove:h.useCallback(()=>_(R=>R-1),[]),children:s.jsx(be.div,{tabIndex:x||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{j.current=!0}),onFocus:ae(e.onFocus,R=>{const P=!j.current;if(R.target===R.currentTarget&&P&&!x){const C=new CustomEvent(Wu,cT);if(R.currentTarget.dispatchEvent(C),!C.defaultPrevented){const D=N().filter(W=>W.focusable),M=D.find(W=>W.active),q=D.find(W=>W.id===v),z=[M,q,...D].filter(Boolean).map(W=>W.ref.current);Zb(z,u)}}j.current=!1}),onBlur:ae(e.onBlur,()=>y(!1))})})}),Jb="RovingFocusGroupItem",Xb=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Fn(),d=i||c,u=hT(Jb,r),f=u.currentTabStopId===d,g=Yb(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:v}=u;return h.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),s.jsx(Sh.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(be.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ae(e.onMouseDown,m=>{n?u.onItemFocus(d):m.preventDefault()}),onFocus:ae(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ae(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const x=xT(m,u.orientation,u.dir);if(x!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let w=g().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const N=w.indexOf(m.currentTarget);w=u.loop?vT(w,N+1):w.slice(N+1)}setTimeout(()=>Zb(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});Xb.displayName=Jb;var pT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xT(e,t,r){const n=gT(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return pT[n]}function Zb(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function vT(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var yT=Qb,wT=Xb,Hd="Tabs",[bT,z8]=Hn(Hd,[Kb]),e1=Kb(),[jT,pp]=bT(Hd),t1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=mp(l),[f,g]=pa({prop:n,onChange:a,defaultProp:i??"",caller:Hd});return s.jsx(jT,{scope:r,baseId:Fn(),value:f,onValueChange:g,orientation:o,dir:u,activationMode:c,children:s.jsx(be.div,{dir:u,"data-orientation":o,...d,ref:t})})});t1.displayName=Hd;var r1="TabsList",n1=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=pp(r1,r),o=e1(r);return s.jsx(yT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(be.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});n1.displayName=r1;var s1="TabsTrigger",a1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=pp(s1,r),l=e1(r),c=l1(o.baseId,n),d=c1(o.baseId,n),u=n===o.value;return s.jsx(wT,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(be.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ae(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ae(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ae(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});a1.displayName=s1;var i1="TabsContent",o1=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=pp(i1,r),c=l1(l.baseId,n),d=c1(l.baseId,n),u=n===l.value,f=h.useRef(u);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Gn,{present:a||u,children:({present:g})=>s.jsx(be.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});o1.displayName=i1;function l1(e,t){return`${e}-trigger-${t}`}function c1(e,t){return`${e}-content-${t}`}var NT=t1,d1=n1,u1=a1,f1=o1;const gp=NT,Gd=h.forwardRef(({className:e,...t},r)=>s.jsx(d1,{ref:r,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Gd.displayName=d1.displayName;const Br=h.forwardRef(({className:e,...t},r)=>s.jsx(u1,{ref:r,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Br.displayName=u1.displayName;const Wr=h.forwardRef(({className:e,...t},r)=>s.jsx(f1,{ref:r,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wr.displayName=f1.displayName;const _T="modulepreload",ST=function(e){return"/"+e},Bx={},yl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=ST(c),c in Bx)return;Bx[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":_T,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ET=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yl(async()=>{const{default:n}=await Promise.resolve().then(()=>Bi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Wx extends xp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qx extends xp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vx extends xp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Eh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Eh||(Eh={}));var CT=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class kT{constructor(t,{headers:r={},customFetch:n,region:a=Eh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ET(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return CT(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o,signal:l}=r;let c={},{region:d}=r;d||(d=this.region);const u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(c["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let f;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(c["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(c["Content-Type"]="application/json",f=JSON.stringify(o)));const g=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:f,signal:l}).catch(m=>{throw m.name==="AbortError"?m:new Wx(m)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new qx(g);if(!g.ok)throw new Vx(g);let b=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return b==="application/json"?v=yield g.json():b==="application/octet-stream"?v=yield g.blob():b==="text/event-stream"?v=g:b==="multipart/form-data"?v=yield g.formData():v=yield g.text(),{data:v,error:null,response:g}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Wx(a)}:{data:null,error:a,response:a instanceof Vx||a instanceof qx?a.context:void 0}}})}}var Kt={},vp={},Yd={},wl={},Kd={},Qd={},PT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pi=PT();const TT=Pi.fetch,h1=Pi.fetch.bind(Pi),m1=Pi.Headers,RT=Pi.Request,AT=Pi.Response,Bi=Object.freeze(Object.defineProperty({__proto__:null,Headers:m1,Request:RT,Response:AT,default:h1,fetch:TT},Symbol.toStringTag,{value:"Module"})),OT=GN(Bi);var Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});let DT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Jd.default=DT;var p1=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qd,"__esModule",{value:!0});const MT=p1(OT),IT=p1(Jd);let FT=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=MT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,f=null,g=null,p=i.status,b=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const m=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&x&&x.length>1&&(g=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,p=406,b="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(f=[],u=null,p=200,b="OK")}catch{i.status===404&&m===""?(p=204,b="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,b="OK"),u&&this.shouldThrowOnError)throw new IT.default(u)}return{error:u,data:f,count:g,status:p,statusText:b}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Qd.default=FT;var LT=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kd,"__esModule",{value:!0});const $T=LT(Qd);let UT=class extends $T.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Kd.default=UT;var zT=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wl,"__esModule",{value:!0});const BT=zT(Kd);let WT=class extends BT.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};wl.default=WT;var qT=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yd,"__esModule",{value:!0});const ro=qT(wl);let VT=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new ro.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ro.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new ro.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ro.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ro.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Yd.default=VT;var g1=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vp,"__esModule",{value:!0});const HT=g1(Yd),GT=g1(wl);let YT=class x1{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new HT.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new x1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{c.searchParams.append(f,g)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new GT.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};vp.default=YT;var Wi=Nr&&Nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const v1=Wi(vp);Kt.PostgrestClient=v1.default;const y1=Wi(Yd);Kt.PostgrestQueryBuilder=y1.default;const w1=Wi(wl);Kt.PostgrestFilterBuilder=w1.default;const b1=Wi(Kd);Kt.PostgrestTransformBuilder=b1.default;const j1=Wi(Qd);Kt.PostgrestBuilder=j1.default;const N1=Wi(Jd);Kt.PostgrestError=N1.default;var KT=Kt.default={PostgrestClient:v1.default,PostgrestQueryBuilder:y1.default,PostgrestFilterBuilder:w1.default,PostgrestTransformBuilder:b1.default,PostgrestBuilder:j1.default,PostgrestError:N1.default};const{PostgrestClient:QT,PostgrestQueryBuilder:G8,PostgrestFilterBuilder:Y8,PostgrestTransformBuilder:K8,PostgrestBuilder:Q8,PostgrestError:J8}=KT;class JT{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XT="2.15.5",ZT=`realtime-js/${XT}`,eR="1.0.0",Ch=1e4,tR=1e3,rR=100;var Eo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Eo||(Eo={}));var mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mt||(mt={}));var $r;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($r||($r={}));var kh;(function(e){e.websocket="websocket"})(kh||(kh={}));var Ks;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ks||(Ks={}));class nR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class _1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const Hx=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=sR(o,e,t,a),i),{})},sR=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?S1(i,o):Ph(o)},S1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lR(t,r)}switch(e){case Be.bool:return aR(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return iR(t);case Be.json:case Be.jsonb:return oR(t);case Be.timestamp:return cR(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Ph(t);default:return Ph(t)}},Ph=e=>e,aR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>S1(t,l))}return e},cR=e=>typeof e=="string"?e.replace(" ","T"):e,E1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class qu{constructor(t,r,n={},a=Ch){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gx||(Gx={}));class Co{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Co.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Co.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Co.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const g=u.map(m=>m.presence_ref),p=f.map(m=>m.presence_ref),b=u.filter(m=>p.indexOf(m.presence_ref)<0),v=f.filter(m=>g.indexOf(m.presence_ref)<0);b.length>0&&(l[d]=b),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),g=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...g)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yx||(Yx={}));var ko;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ko||(ko={}));var Tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class yp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qu(this,$r.join,this.params,this.timeout),this.rejoinTimer=new _1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on($r.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Co(this),this.broadcastEndpointURL=E1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[ko.PRESENCE]&&this.bindings[ko.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Tn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(Tn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,x=[];for(let y=0;y<m;y++){const w=v[y],{filter:{event:N,schema:j,table:S,filter:_}}=w,R=p&&p[y];if(R&&R.event===N&&R.schema===j&&R.table===S&&R.filter===_)x.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=mt.errored,t==null||t(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Tn.SUBSCRIBED);return}}).receive("error",p=>{this.state=mt.errored,t==null||t(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===mt.joined&&t===ko.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($r.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new qu(this,$r.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new qu(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=$r;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var b,v,m;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((m=(v=p.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(p=>p.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,v,m,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,j=(b=p.filter)===null||b===void 0?void 0:b.event;return N&&((v=r.ids)===null||v===void 0?void 0:v.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const N=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:v,table:m,commit_timestamp:x,type:y,errors:w}=b;g=Object.assign(Object.assign({},{schema:v,table:m,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(b))}p.callback(g,n)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yp.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($r.close,{},t)}_onError(t){this._on($r.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hx(t.columns,t.old_record)),r}}const Vu=()=>{},Jl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dR=[1e3,2e3,5e3,1e4],uR=1e4,fR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hR{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ch,this.transport=null,this.heartbeatIntervalMs=Jl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vu,this.ref=0,this.reconnectTimer=null,this.logger=Vu,this.conn=null,this.sendBuffer=[],this.serializer=new nR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>yl(async()=>{const{default:l}=await Promise.resolve().then(()=>Bi);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${kh.websocket}`,this.httpEndpoint=E1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eR}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Eo.connecting:return Ks.Connecting;case Eo.open:return Ks.Open;case Eo.closing:return Ks.Closing;default:return Ks.Closed}}isConnected(){return this.connectionState()===Ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new yp(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($r.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:ZT};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push($r.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ch,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Jl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Vu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>dR[f-1]||uR,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,g)=>g(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mR extends wp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Th extends wp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var pR=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const C1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yl(async()=>{const{default:n}=await Promise.resolve().then(()=>Bi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gR=()=>pR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yl(()=>Promise.resolve().then(()=>Bi),void 0)).Response:Response}),Rh=e=>{if(Array.isArray(e))return e.map(r=>Rh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Rh(n)}),t},xR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Sa=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Hu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vR=(e,t,r)=>Sa(void 0,void 0,void 0,function*(){const n=yield gR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new mR(Hu(a),i,o))}).catch(a=>{t(new Th(Hu(a),a))}):t(new Th(Hu(e),e))}),yR=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(xR(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function bl(e,t,r,n,a,i){return Sa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,yR(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>vR(c,l,n))})})}function ad(e,t,r,n){return Sa(this,void 0,void 0,function*(){return bl(e,"GET",t,r,n)})}function on(e,t,r,n,a){return Sa(this,void 0,void 0,function*(){return bl(e,"POST",t,n,a,r)})}function Ah(e,t,r,n,a){return Sa(this,void 0,void 0,function*(){return bl(e,"PUT",t,n,a,r)})}function wR(e,t,r,n){return Sa(this,void 0,void 0,function*(){return bl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function k1(e,t,r,n,a){return Sa(this,void 0,void 0,function*(){return bl(e,"DELETE",t,n,a,r)})}var bR=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class jR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return bR(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}}var NR=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class _R{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new jR(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return NR(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}}var Ht=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const SR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ER{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=C1(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ht(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Kx),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?Ah:on)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ht(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Kx.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Ah(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ct(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield on(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new wp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ht(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield on(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ht(this,void 0,void 0,function*(){try{const a=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>ad(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new _R(c,this.shouldThrowOnError)}info(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ad(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}exists(t){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield wR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n)&&n instanceof Th){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Ht(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ht(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},SR),r),{prefix:t||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ht(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield on(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const CR="2.12.2",kR={"X-Client-Info":`storage-js/${CR}`};var Pa=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class PR{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},kR),r),this.fetch=C1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Pa(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}getBucket(t){return Pa(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Pa(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Pa(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Pa(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pa(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}}class TR extends PR{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new ER(this.url,this.headers,t,this.fetch)}}const RR="2.58.0";let ho="";typeof Deno<"u"?ho="deno":typeof document<"u"?ho="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ho="react-native":ho="node";const AR={"X-Client-Info":`supabase-js-${ho}/${RR}`},OR={headers:AR},DR={schema:"public"},MR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IR={};var FR=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const LR=e=>{let t;return e?t=e:typeof fetch>"u"?t=h1:t=fetch,(...r)=>t(...r)},$R=()=>typeof Headers>"u"?m1:Headers,UR=(e,t,r)=>{const n=LR(r),a=$R();return(i,o)=>FR(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var zR=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function BR(e){return e.endsWith("/")?e:e+"/"}function WR(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,g={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>zR(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function qR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const P1="2.72.0",$a=30*1e3,Oh=3,Gu=Oh*$a,VR="http://localhost:9999",HR="supabase.auth.token",GR={"X-Client-Info":`gotrue-js/${P1}`},Dh="X-Supabase-Api-Version",T1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KR=10*60*1e3;class bp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QR extends bp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function JR(e){return ve(e)&&e.name==="AuthApiError"}class R1 extends bp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ls extends bp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ss extends Ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XR(e){return ve(e)&&e.name==="AuthSessionMissingError"}class no extends Ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xl extends Ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zl extends Ls{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZR(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qx extends Ls{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mh extends Ls{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Yu(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class Jx extends Ls{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ih extends Ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xx=` 	
\r=`.split(""),e5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xx.length;t+=1)e[Xx[t].charCodeAt(0)]=-2;for(let t=0;t<id.length;t+=1)e[id[t].charCodeAt(0)]=t;return e})();function Zx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(id[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(id[n]),t.queuedBits-=6}}function A1(e,t,r){const n=e5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ev(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{n5(o,n,r)};for(let o=0;o<e.length;o+=1)A1(e.charCodeAt(o),a,i);return t.join("")}function t5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function r5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}t5(n,t)}}function n5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function s5(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)A1(e.charCodeAt(a),r,n);return new Uint8Array(t)}function a5(e){const t=[];return r5(e,r=>t.push(r)),new Uint8Array(t)}function i5(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Zx(a,r,n)),Zx(null,r,n),t.join("")}function o5(e){return Math.round(Date.now()/1e3)+e}function l5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const gr=()=>typeof window<"u"&&typeof document<"u",Ws={tested:!1,writable:!1},O1=()=>{if(!gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ws.tested)return Ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ws.tested=!0,Ws.writable=!0}catch{Ws.tested=!0,Ws.writable=!1}return Ws.writable};function c5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const D1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yl(async()=>{const{default:n}=await Promise.resolve().then(()=>Bi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},d5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ua=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},qs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zn=async(e,t)=>{await e.removeItem(t)};class Xd{constructor(){this.promise=new Xd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Xd.promiseConstructor=Promise;function Ku(e){const t=e.split(".");if(t.length!==3)throw new Ih("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!YR.test(t[n]))throw new Ih("JWT not in base64url format");return{header:JSON.parse(ev(t[0])),payload:JSON.parse(ev(t[1])),signature:s5(t[2]),raw:{header:t[0],payload:t[1]}}}async function u5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function f5(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function h5(e){return("0"+e.toString(16)).substr(-2)}function m5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,h5).join("")}async function p5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function g5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await p5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ta(e,t,r=!1){const n=m5();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ua(e,`${t}-code-verifier`,a);const i=await g5(n);return[i,n===i?"plain":"s256"]}const x5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v5(e){const t=e.headers.get(Dh);if(!t||!t.match(x5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function y5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function w5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ra(e){if(!b5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tv(e){return JSON.parse(JSON.stringify(e))}var j5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Gs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),N5=[502,503,504];async function rv(e){var t;if(!d5(e))throw new Mh(Gs(e),0);if(N5.includes(e.status))throw new Mh(Gs(e),e.status);let r;try{r=await e.json()}catch(i){throw new R1(Gs(i),i)}let n;const a=v5(e);if(a&&a.getTime()>=T1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jx(Gs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ss}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jx(Gs(r),e.status,r.weak_password.reasons);throw new QR(Gs(r),e.status||500,n)}const _5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Se(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Dh]||(i[Dh]=T1["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await S5(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function S5(e,t,r,n,a,i){const o=_5(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Mh(Gs(c),0)}if(l.ok||await rv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await rv(c)}}function sn(e){var t;let r=null;P5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=o5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nv(e){const t=sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function E5(e){return{data:e,error:null}}function C5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=j5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function k5(e){return e}function P5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ju=["global","local","others"];var T5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class R5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=D1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ju[0]){if(Ju.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ds})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=T5(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:C5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:k5});if(u.error)throw u.error;const f=await u.json(),g=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(b.split(";")[1].split("=")[1]);d[`${m}Page`]=v}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(ve(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ra(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ra(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ds})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ra(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ds})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ra(t.userId);try{const{data:r,error:n}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ra(t.userId),Ra(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function sv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function A5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Aa={debug:!!(globalThis&&O1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class O5 extends M1{}async function D5(e,t,r){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new O5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Aa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function I1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function M5(e){return parseInt(e,16)}function I5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function F5(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:f,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=I1(e.address),b=u?`${u}://${n}`:n,v=e.statement?`${e.statement}
`:"",m=`${b} wants you to sign in with your Ethereum account:
${p}

${v}`;let x=`URI: ${f}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),d){let y=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${m}
${x}`}A5();const L5={url:VR,storageKey:HR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function av(e,t,r){return await r()}const Oa={};class tl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tl.nextInstanceID,tl.nextInstanceID+=1,this.instanceID>0&&gr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},L5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new R5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=D1(a.fetch),this.lock=a.lock||av,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:gr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=D5:this.lock=av,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:O1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sv(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=sv(this.memoryStorage)),gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${P1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=c5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),gr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ZR(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new R1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:sn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:g}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Ta(this.storage,this.storageKey)),i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:u,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},xform:sn})}else if("phone"in t){const{phone:u,password:f,options:g}=t;i=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:sn})}else throw new Xl("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nv})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nv})}else throw new Xl("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new no}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,d,u,f,g;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:v,wallet:m,statement:x,options:y}=t;let w;if(gr())if(typeof m=="object")w=m;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=I1(j[0]);let _=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const P=await w.request({method:"eth_chainId"});_=M5(P)}const R={domain:N.host,address:S,statement:x,uri:N.href,version:"1",chainId:_,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=F5(R),b=await w.request({method:"personal_sign",params:[I5(p),S]})}try{const{data:v,error:m}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:sn});if(m)throw m;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new no}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:m})}catch(v){if(ve(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,f,g,p;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:m,wallet:x,statement:y,options:w}=t;let N;if(gr())if(typeof x=="object")N=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)b=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:m,error:x}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:i5(v)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sn});if(x)throw x;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new no}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:x})}catch(m){if(ve(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const r=await qs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sn});if(await Zn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new no}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sn}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new no}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ta(this.storage,this.storageKey));const{error:f}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Xl("You must provide either an email or phone number.")}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:sn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ta(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:E5})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ss;const{error:a}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xl("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Gu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await qs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Qu()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ss}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ds})})}catch(r){if(ve(r))return XR(r)&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ss;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ta(this.storage,this.storageKey));const{data:d,error:u}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ds});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ss;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Ku(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ss;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!gr())throw new Zl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qx("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Zl("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let g=u+f;c&&(g=parseInt(c));const p=g-u;p*1e3<=$a&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=g-f;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,u);const{data:v,error:m}=await this._getUser(i);if(m)throw m;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(JR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=l5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ta(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:g}=i;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return gr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await f5(async a=>(a>0&&await u5(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Yu(i)&&Date.now()+o-n<$a})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await qs(this.storage,this.storageKey);if(a&&this.userStorage){let o=await qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Ua(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Qu()}else if(a&&!a.user&&!a.user){const o=await qs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Zn(this.storage,this.storageKey+"-user"),await Ua(this.storage,this.storageKey,a)):a.user=Qu()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Gu}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Yu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ss;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Xd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ss;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ve(i)){const o={session:null,error:i};return Yu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ua(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=tv(a);await Ua(this.storage,this.storageKey,i)}else{const a=tv(r);await Ua(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Zn(this.storage,this.storageKey),await Zn(this.storage,this.storageKey+"-code-verifier"),await Zn(this.storage,this.storageKey+"-user"),this.userStorage&&await Zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$a);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/$a);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${$a}ms, refresh threshold is ${Oh} ticks`),a<=Oh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof M1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ta(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ku(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+KR>a)return n;const{data:i,error:o}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Ku(n);r!=null&&r.allowExpired||y5(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=w5(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,a5(`${l}.${c}`)))throw new Ih("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}tl.nextInstanceID=0;const $5=tl;class U5 extends $5{constructor(t){super(t)}}var z5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class B5{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=qR(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:DR,realtime:IR,auth:Object.assign(Object.assign({},MR),{storageKey:c}),global:OR},u=WR(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=UR(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new QT(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new TR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new kT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return z5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U5({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new hR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const W5=(e,t,r)=>new B5(e,t,r);function q5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}q5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const V5="https://oyuxvbjbgeqrrnmjkwwv.supabase.co",H5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im95dXh2YmpiZ2VxcnJubWprd3d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNDYxNzIsImV4cCI6MjA3NDYyMjE3Mn0.5Tc_CRklFxA98y805Zz3TqTC7E6q9LfgxhHqFPAYN-A",$=W5(V5,H5),G5=({onVerify:e,onResend:t,email:r,isLoading:n=!1})=>{const[a,i]=h.useState(["","","","","",""]),[o,l]=h.useState(60),[c,d]=h.useState(!1),u=h.useRef([]);h.useEffect(()=>{if(o>0){const b=setTimeout(()=>l(o-1),1e3);return()=>clearTimeout(b)}else d(!0)},[o]);const f=(b,v)=>{var x;if(!/^\d*$/.test(b))return;const m=[...a];m[v]=b,i(m),b&&v<5&&((x=u.current[v+1])==null||x.focus()),m.every(y=>y!=="")&&m.join("").length===6&&e(m.join(""))},g=(b,v)=>{var m;b.key==="Backspace"&&!a[v]&&v>0&&((m=u.current[v-1])==null||m.focus())},p=()=>{t(),l(60),d(!1),i(["","","","","",""])};return s.jsxs(J,{className:"w-full max-w-md mx-auto",children:[s.jsxs(ye,{className:"text-center",children:[s.jsx(we,{children:"Enter Verification Code"}),s.jsxs(Fe,{children:["We've sent a 6-digit verification code to ",r]})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center space-x-2",children:a.map((b,v)=>s.jsx(ee,{ref:m=>u.current[v]=m,type:"text",maxLength:1,value:b,onChange:m=>f(m.target.value,v),onKeyDown:m=>g(m,v),className:"w-12 h-12 text-center text-lg font-semibold",disabled:n},v))}),s.jsx("div",{className:"text-center",children:c?s.jsx(I,{variant:"link",onClick:p,disabled:n,className:"text-sm",children:"Resend verification code"}):s.jsxs("p",{className:"text-sm text-gray-500",children:["Resend code in ",o,"s"]})}),s.jsx(I,{onClick:()=>e(a.join("")),disabled:a.some(b=>b==="")||n,className:"w-full",children:n?"Verifying...":"Verify Code"})]})]})},iv=()=>Math.floor(1e5+Math.random()*9e5).toString(),ov=async(e,t)=>{const r=new Date(Date.now()+6e5);await $.from("otps").delete().eq("email",e);const{error:n}=await $.from("otps").insert([{email:e,otp:t,expires_at:r.toISOString(),used:!1}]);return{error:n}},Y5=async(e,t)=>{const{data:r,error:n}=await $.from("otps").select("*").eq("email",e).eq("otp",t).eq("used",!1).gte("expires_at",new Date().toISOString()).single();return n||!r?{valid:!1,error:"Invalid or expired OTP"}:(await $.from("otps").update({used:!0}).eq("id",r.id),{valid:!0,error:null})},lv=async(e,t)=>{try{console.log(` Sending REAL EMAIL to: ${e}`);const r=await fetch("http://localhost:3001/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t})}),n=await r.json();if(r.ok&&n.success)return console.log(` REAL EMAIL SENT to ${e} using your Gmail!`),{success:!0,error:null};throw new Error(n.error||"Email sending failed")}catch(r){return console.error("Email sending failed:",r),{success:!1,error:"Failed to send email. Please try again."}}},K5={};var Fh=null;function Q5(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return K5.randomBytes(e)}catch{}if(!Fh)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Fh(e)}function J5(e){Fh=e}function jp(e,t){if(e=e||Np,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(od(Q5(rl),rl)),r.join("")}function F1(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=Np;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(a){qr(function(){try{a(null,jp(e))}catch(i){a(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(a,i){n(function(o,l){if(o){i(o);return}a(l)})})}function L1(e,t){if(typeof t>"u"&&(t=Np),typeof t=="number"&&(t=jp(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return Lh(e,t)}function $1(e,t,r,n){function a(i){typeof e=="string"&&typeof t=="number"?F1(t,function(o,l){Lh(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?Lh(e,t,i,n):qr(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(i,o){a(function(l,c){if(l){o(l);return}i(c)})})}function U1(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function X5(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:U1(L1(e,t.substring(0,t.length-31)),t)}function Z5(e,t,r,n){function a(i){if(typeof e!="string"||typeof t!="string"){qr(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){qr(i.bind(this,null,!1));return}$1(e,t.substring(0,29),function(o,l){o?i(o):i(null,U1(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(i,o){a(function(l,c){if(l){o(l);return}i(c)})})}function e3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function t3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function r3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return z1(e)>72}var qr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function z1(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function n3(e){for(var t=0,r,n,a=new Array(z1(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?a[t++]=r:r<2048?(a[t++]=r>>6|192,a[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,a[t++]=r>>18|240,a[t++]=r>>12&63|128,a[t++]=r>>6&63|128,a[t++]=r&63|128):(a[t++]=r>>12|224,a[t++]=r>>6&63|128,a[t++]=r&63|128);return a}var Da="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),es=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function od(e,t){var r=0,n=[],a,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(a=e[r++]&255,n.push(Da[a>>2&63]),a=(a&3)<<4,r>=t){n.push(Da[a&63]);break}if(i=e[r++]&255,a|=i>>4&15,n.push(Da[a&63]),a=(i&15)<<2,r>=t){n.push(Da[a&63]);break}i=e[r++]&255,a|=i>>6&3,n.push(Da[a&63]),n.push(Da[i&63])}return n.join("")}function B1(e,t){var r=0,n=e.length,a=0,i=[],o,l,c,d,u,f;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&a<t&&(f=e.charCodeAt(r++),o=f<es.length?es[f]:-1,f=e.charCodeAt(r++),l=f<es.length?es[f]:-1,!(o==-1||l==-1||(u=o<<2>>>0,u|=(l&48)>>4,i.push(String.fromCharCode(u)),++a>=t||r>=n)||(f=e.charCodeAt(r++),c=f<es.length?es[f]:-1,c==-1)||(u=(l&15)<<4>>>0,u|=(c&60)>>2,i.push(String.fromCharCode(u)),++a>=t||r>=n)));)f=e.charCodeAt(r++),d=f<es.length?es[f]:-1,u=(c&3)<<6>>>0,u|=d,i.push(String.fromCharCode(u)),++a;var g=[];for(r=0;r<a;r++)g.push(i[r].charCodeAt(0));return g}var rl=16,Np=10,s3=16,a3=100,cv=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],dv=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],W1=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function nl(e,t,r,n){var a,i=e[t],o=e[t+1];return i^=r[0],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[1],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[2],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[3],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[4],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[5],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[6],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[7],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[8],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[9],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[10],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[11],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[12],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[13],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[14],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[15],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[16],e[t]=o^r[s3+1],e[t+1]=i,e}function za(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function uv(e,t,r){for(var n=0,a=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=za(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)a=nl(a,0,t,r),t[c]=a[0],t[c+1]=a[1];for(c=0;c<o;c+=2)a=nl(a,0,t,r),r[c]=a[0],r[c+1]=a[1]}function i3(e,t,r,n){for(var a=0,i=[0,0],o=r.length,l=n.length,c,d=0;d<o;d++)c=za(t,a),a=c.offp,r[d]=r[d]^c.key;for(a=0,d=0;d<o;d+=2)c=za(e,a),a=c.offp,i[0]^=c.key,c=za(e,a),a=c.offp,i[1]^=c.key,i=nl(i,0,r,n),r[d]=i[0],r[d+1]=i[1];for(d=0;d<l;d+=2)c=za(e,a),a=c.offp,i[0]^=c.key,c=za(e,a),a=c.offp,i[1]^=c.key,i=nl(i,0,r,n),n[d]=i[0],n[d+1]=i[1]}function fv(e,t,r,n,a){var i=W1.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){qr(n.bind(this,l));return}else throw l;if(t.length!==rl)if(l=Error("Illegal salt length: "+t.length+" != "+rl),n){qr(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,d,u=0,f;typeof Int32Array=="function"?(c=new Int32Array(cv),d=new Int32Array(dv)):(c=cv.slice(),d=dv.slice()),i3(t,e,c,d);function g(){if(a&&a(u/r),u<r)for(var b=Date.now();u<r&&(u=u+1,uv(e,c,d),uv(t,c,d),!(Date.now()-b>a3)););else{for(u=0;u<64;u++)for(f=0;f<o>>1;f++)nl(i,f<<1,c,d);var v=[];for(u=0;u<o;u++)v.push((i[u]>>24&255)>>>0),v.push((i[u]>>16&255)>>>0),v.push((i[u]>>8&255)>>>0),v.push((i[u]&255)>>>0);if(n){n(null,v);return}else return v}n&&qr(g)}if(typeof n<"u")g();else for(var p;;)if(typeof(p=g())<"u")return p||[]}function Lh(e,t,r,n){var a;if(typeof e!="string"||typeof t!="string")if(a=Error("Invalid string / salt: Not a string"),r){qr(r.bind(this,a));return}else throw a;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(a=Error("Invalid salt version: "+t.substring(0,2)),r){qr(r.bind(this,a));return}else throw a;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+t.substring(2,4)),r){qr(r.bind(this,a));return}else throw a;o=4}if(t.charAt(o+2)>"$")if(a=Error("Missing salt rounds"),r){qr(r.bind(this,a));return}else throw a;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),d=l+c,u=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var f=n3(e),g=B1(u,rl);function p(b){var v=[];return v.push("$2"),i>="a"&&v.push(i),v.push("$"),d<10&&v.push("0"),v.push(d.toString()),v.push("$"),v.push(od(g,g.length)),v.push(od(b,W1.length*4-1)),v.join("")}if(typeof r>"u")return p(fv(f,g,d));fv(f,g,d,function(b,v){b?r(b,null):r(null,p(v))},n)}function o3(e,t){return od(e,t)}function l3(e,t){return B1(e,t)}const hv={setRandomFallback:J5,genSaltSync:jp,genSalt:F1,hashSync:L1,hash:$1,compareSync:X5,compare:Z5,getRounds:e3,getSalt:t3,truncates:r3,encodeBase64:o3,decodeBase64:l3},c3=[{label:"Participant",value:"participant"},{label:"Organizer",value:"organizer"},{label:"Admin",value:"admin"}],d3=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState({email:"",password:""}),[a,i]=h.useState({name:"",email:"",password:"",confirmPassword:"",role:"participant"}),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(null),[g,p]=h.useState(!1),b=_n(),v=async w=>{w.preventDefault(),p(!0);try{const{data:N,error:j}=await $.from("users").select("*").eq("email",r.email).single();if(j||!N){Ae({title:"Login Failed",description:"Invalid email or password.",variant:"destructive"});return}if(!await hv.compare(r.password,N.password)){Ae({title:"Login Failed",description:"Invalid email or password.",variant:"destructive"});return}const _=iv(),{error:R}=await ov(N.email,_);if(R){Ae({title:"Error",description:"Failed to generate OTP. Please try again.",variant:"destructive"});return}const P=await lv(N.email,_);if(!P.success){Ae({title:"Email Error",description:P.error||"Failed to send email. Please try again.",variant:"destructive"});return}f(N),d(N.email),l(!0),Ae({title:"OTP Sent",description:`Verification code sent to ${N.email}`})}catch{Ae({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{p(!1)}},m=async w=>{p(!0);try{const{valid:N,error:j}=await Y5(c,w);if(!N){Ae({title:"Invalid OTP",description:j||"Please check your code and try again.",variant:"destructive"});return}localStorage.setItem("user",JSON.stringify(u)),Ae({title:"Login Successful!",description:"Welcome to the School Event Management System"}),u.role==="organizer"?b("/organizer-dashboard"):u.role==="participant"?b("/participant-dashboard"):b("/dashboard")}catch{Ae({title:"Error",description:"Failed to verify OTP. Please try again.",variant:"destructive"})}finally{p(!1)}},x=async()=>{p(!0);try{const w=iv(),{error:N}=await ov(c,w);if(N){Ae({title:"Error",description:"Failed to resend OTP. Please try again.",variant:"destructive"});return}const j=await lv(c,w);if(!j.success){Ae({title:"Email Error",description:j.error||"Failed to send email. Please try again.",variant:"destructive"});return}Ae({title:"OTP Resent",description:`New verification code sent to ${c}`})}catch{Ae({title:"Error",description:"Failed to resend OTP. Please try again.",variant:"destructive"})}finally{p(!1)}},y=async w=>{w.preventDefault(),p(!0);try{if(a.password!==a.confirmPassword){Ae({title:"Password Mismatch",description:"Please ensure both passwords match",variant:"destructive"}),p(!1);return}console.log(" Starting signup process...");const N=await hv.hash(a.password,10),{error:j}=await $.from("users").insert([{name:a.name,email:a.email,password:N,role:a.role}]);j?(console.error(" Signup error:",j),Ae({title:"Signup Failed",description:j.message,variant:"destructive"})):(console.log(" Account created successfully!"),Ae({title:" Account Created Successfully!",description:`Welcome ${a.name}! Please login to continue.`}),i({name:"",email:"",password:"",confirmPassword:"",role:"participant"}),setTimeout(()=>{const S=document.querySelector('[data-value="login"]');if(S)S.click();else{const _=document.querySelector('button[value="login"]');_&&_.click()}},1500))}catch(N){console.error(" Signup error:",N),Ae({title:"Error",description:"An unexpected error occurred during signup.",variant:"destructive"})}finally{p(!1)}};return s.jsxs("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-accent/5 to-secondary/5"}),s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 gradient-primary rounded-2xl mb-4",children:s.jsx("img",{src:xl,alt:"Logo",className:"w-14 h-14 object-contain"})}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Event Manager"}),s.jsx("p",{className:"text-muted-foreground",children:"School Event Management System"})]}),o?s.jsx(G5,{onVerify:m,onResend:x,email:c,isLoading:g}):s.jsxs(J,{className:"card-elevated bg-white border shadow-xl",children:[s.jsxs(ye,{className:"text-center",children:[s.jsx(we,{className:"text-2xl gradient-primary bg-clip-text text-transparent",children:"Welcome Back"}),s.jsx(Fe,{children:"Sign in to manage your school events"})]}),s.jsx(Z,{children:s.jsxs(gp,{defaultValue:"login",className:"w-full",children:[s.jsxs(Gd,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Br,{value:"login",children:"Login"}),s.jsx(Br,{value:"signup",children:"Sign Up"})]}),s.jsx(Wr,{value:"login",className:"space-y-4",children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",children:"Email"}),s.jsx(ee,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:w=>n({...r,email:w.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ee,{id:"password",type:e?"text":"password",placeholder:"Enter your password",value:r.password,onChange:w=>n({...r,password:w.target.value}),required:!0}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?s.jsx(wE,{className:"w-4 h-4"}):s.jsx(_a,{className:"w-4 h-4"})})]})]}),s.jsx(I,{type:"submit",variant:"gradient",className:"w-full",disabled:g,children:g?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing In..."]}):"Login"})]})}),s.jsx(Wr,{value:"signup",className:"space-y-4",children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"name",children:"Full Name"}),s.jsx(ee,{id:"name",placeholder:"Enter your full name",value:a.name,onChange:w=>i({...a,name:w.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"signup-email",children:"Email"}),s.jsx(ee,{id:"signup-email",type:"email",placeholder:"Enter your email",value:a.email,onChange:w=>i({...a,email:w.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"signup-password",children:"Password"}),s.jsx(ee,{id:"signup-password",type:"password",placeholder:"Create a password",value:a.password,onChange:w=>i({...a,password:w.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(ee,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:a.confirmPassword,onChange:w=>i({...a,confirmPassword:w.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"role",children:"Select Role"}),s.jsx("select",{id:"role",className:"w-full border rounded px-3 py-2",value:a.role,onChange:w=>i({...a,role:w.target.value}),required:!0,children:c3.map(w=>s.jsx("option",{value:w.value,children:w.label},w.value))})]}),s.jsx(I,{type:"submit",variant:"gradient",className:"w-full",disabled:g,children:g?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]})})]})})]}),s.jsx("div",{className:"mt-8 text-center text-muted-foreground text-sm",children:s.jsx("p",{children:" 2025 School Event Management System"})})]})]})},u3=Ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oe({className:e,variant:t,...r}){return s.jsx("div",{className:_e(u3({variant:t}),e),...r})}const f3=async e=>{try{const{data:t,error:r}=await $.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(20);return r?(console.error("Error fetching notifications:",r),[]):t||[]}catch(t){return console.error("Error in getNotifications:",t),[]}},h3=async e=>{try{const{count:t,error:r}=await $.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("is_read",!1);return r?(console.error("Error fetching unread count:",r),0):t||0}catch(t){return console.error("Error in getUnreadCount:",t),0}},m3=async e=>{try{const{error:t}=await $.from("notifications").update({is_read:!0}).eq("id",e);return t?(console.error("Error marking notification as read:",t),!1):!0}catch(t){return console.error("Error in markAsRead:",t),!1}},p3=async e=>{try{const{error:t}=await $.from("notifications").update({is_read:!0}).eq("user_id",e).eq("is_read",!1);return t?(console.error("Error marking all notifications as read:",t),!1):!0}catch(t){return console.error("Error in markAllAsRead:",t),!1}},so=async(e,t,r,n="announcement",a)=>{try{const{error:i}=await $.from("notifications").insert([{user_id:e,title:t,message:r,type:n,related_event_id:a}]);return i?(console.error("Error creating notification:",i),!1):!0}catch(i){return console.error("Error in createNotification:",i),!1}},ld={participantJoined:async(e,t,r)=>so(r,"New Participant Registered",`${t} has registered for your event`,"participant_joined",e),eventApproved:async(e,t,r)=>so(t,"Event Approved",`Your event "${r}" has been approved by admin`,"event_approved",e),eventRejected:async(e,t,r,n)=>{const a=n?`Your event "${r}" was rejected. Reason: ${n}`:`Your event "${r}" was rejected by admin`;return so(t,"Event Rejected",a,"event_rejected",e)},newEventRequest:async(e,t,r)=>{const{data:n,error:a}=await $.from("users").select("id").eq("role","admin");if(a||!n)return console.error("Error fetching admins:",a),!1;const i=n.map(l=>so(l.id,"New Event Request",`${t} submitted a new event request: "${r}"`,"event_request",e));return(await Promise.all(i)).every(l=>l===!0)},reportUpdated:async(e,t,r)=>so(t,"Report Updated",`Your report status has been updated to: ${r}`,"report_update")},Xr=({collapsed:e,onToggle:t})=>{const n=Fs().pathname,[a,i]=h.useState(!1),[o,l]=h.useState(0),c=JSON.parse(localStorage.getItem("user")||"{}");h.useEffect(()=>{const p=async()=>{if(c!=null&&c.id){const v=await h3(c.id);l(v)}};p();const b=setInterval(p,3e4);return()=>clearInterval(b)},[c==null?void 0:c.id]);const d=p=>n===p,u=n.includes("/dashboard")||n.includes("/venue")||n.includes("/reports")||n.includes("/approvals"),f=[{title:"Dashboard",url:u?"/dashboard":"/organizer-dashboard",icon:bE},{title:"Calendar of Activities",url:"/calendar",icon:Je},{title:"Notifications",url:"/notifications",icon:Tt,badge:o>0?o:void 0},{title:"Participants",url:"/participants",icon:Ye},{title:"Venue & Registration",url:"/venue",icon:sr},{title:"Program Flow",url:"/program",icon:CE},{title:"Multimedia",url:u?"/admin-multimedia":"/multimedia",icon:Go},{title:"Approvals",url:"/approvals",icon:jE},{title:"Feedback",url:"/feedback",icon:zr},{title:"Reports & Analytics",url:"/reports",icon:uh}],g=()=>{localStorage.removeItem("user"),window.location.href="/login"};return s.jsxs("div",{className:_e("h-screen bg-white border-r border-border transition-all duration-300 flex flex-col text-foreground",e?"w-16":"w-64"),children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!e&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-gray-100",children:s.jsx("img",{src:xl,alt:"Logo",className:"w-12 h-12 object-contain rounded-xl shadow"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-foreground",children:"Event Manager"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"School Events"})]})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:t,className:"p-2 hover:bg-muted",children:e?s.jsx(Lw,{className:"w-4 h-4"}):s.jsx(Fw,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:s.jsx("nav",{className:"space-y-1",children:f.map(p=>s.jsxs(ZP,{to:p.url,className:_e("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors relative",d(p.url)?"bg-gradient-to-r from-blue-500 to-violet-500 text-white shadow-sm":"text-gray-700 hover:text-white hover:bg-gradient-to-r hover:from-blue-400 hover:to-violet-500",e?"justify-center":"justify-start"),children:[s.jsxs("div",{className:"relative",children:[s.jsx(p.icon,{className:_e("w-5 h-5",!e&&"mr-3")}),p.badge&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center min-w-[20px] text-[10px] font-bold",children:p.badge>99?"99+":p.badge})]}),!e&&s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:p.title}),p.badge&&s.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:p.badge>99?"99+":p.badge})]})]},p.title))})}),s.jsx("div",{className:"p-4 border-t border-border",children:!e&&s.jsxs("div",{children:[s.jsx(I,{variant:"outline",className:"w-full mb-3 bg-gradient-to-r from-blue-500 to-violet-500 text-white border-0 hover:from-blue-600 hover:to-violet-600",onClick:()=>i(!0),children:"Log out"}),a&&s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-xs w-full text-center",children:[s.jsx("p",{className:"mb-4 text-foreground font-semibold",children:"Are you sure you want to log out?"}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(I,{variant:"destructive",onClick:g,className:"w-24",children:"Yes"}),s.jsx(I,{variant:"outline",onClick:()=>i(!1),className:"w-24",children:"Cancel"})]})]})}),s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx("p",{children:"Version 1.0.0"}),s.jsx("p",{children:" 2025 Event Manager"})]})]})})]})},g3=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(null),[a,i]=h.useState([]),[o,l]=h.useState([]),[c,d]=h.useState(null),[u,f]=h.useState(!1),[g,p]=h.useState(!1),b=_n(),{toast:v}=hr(),m=async()=>{var _,R;f(!0);try{console.log(" ADMIN DASHBOARD: Loading REAL data from database...");const[{data:P},{data:C}]=await Promise.all([$.from("events").select(`
            *,
            organizer:organizer_id (name)
          `).order("created_at",{ascending:!1}),$.from("event_requests").select(`
            *,
            requester:requester_id (name, email)
          `).order("created_at",{ascending:!1})]);console.log(" REAL DATA LOADED:"),console.log("- Events table:",(P==null?void 0:P.length)||0,"events"),console.log("- Event requests table:",(C==null?void 0:C.length)||0,"requests");const D=[];if(P)for(const M of P){const{count:q,error:F}=await $.from("event_registrations").select("*",{count:"exact",head:!0}).eq("event_id",M.id),z=F?0:q||0;D.push({id:M.id,title:M.title,date:M.date,time:M.time||"00:00",venue:M.venue||"TBA",current_participants:z,max_participants:M.max_participants||100,status:M.status,event_type:M.event_type||"General",description:M.description||"",organizer_name:((_=M.organizer)==null?void 0:_.name)||"Unknown"})}if(C)for(const M of C){const{count:q,error:F}=await $.from("event_registrations").select("*",{count:"exact",head:!0}).eq("event_id",M.id),z=F?0:q||0;D.push({id:M.id,title:M.title,date:M.date,time:M.time||"00:00",venue:M.venue||"TBA",current_participants:z,max_participants:M.expected_participants||50,status:M.status,event_type:M.event_type||"General",description:M.description||"",organizer_name:((R=M.requester)==null?void 0:R.name)||"Unknown Requester"})}console.log(" PROCESSED EVENTS:",D.length),console.log(" TOTAL PARTICIPANTS:",D.reduce((M,q)=>M+q.current_participants,0)),i(D)}catch(P){console.error(" Error loading REAL events data:",P),v({title:"Error",description:"Failed to load events data from database",variant:"destructive"})}finally{f(!1)}},x=async()=>{var _;f(!0);try{console.log(" LOADING REAL PARTICIPANTS DATA using your working method...");const{data:R}=await $.from("event_requests").select(`
          *,
          requester:requester_id (name)
        `).eq("status","approved").order("date",{ascending:!0});console.log(" Event requests loaded:",(R==null?void 0:R.length)||0),console.log("Event Request IDs:",R==null?void 0:R.map(D=>D.id));const P=[];for(const D of R||[]){console.log(`
 Processing event: ${D.title} (ID: ${D.id})`);let M=[];try{const{data:q,error:F}=await $.rpc("get_event_participants",{event_id:D.id});console.log(`RPC get_event_participants for ${D.title}:`,q,F),q&&!F&&(M=q.map((z,W)=>({id:z.id||`participant-${W}`,name:z.name||z.user_name||"Registered User",email:z.email||z.user_email||"user@student.edu",role:z.role||z.user_role||"participant",student_id:z.student_id||"",department:z.department||"",year_level:z.year_level||"",phone:z.phone||"",registration_date:z.registration_date||z.created_at||new Date().toISOString(),attendance_status:z.attendance_status||"registered"})),console.log(` FOUND ${M.length} REAL PARTICIPANTS via RPC!`))}catch(q){console.log("RPC method failed:",q)}if(M.length===0)try{const{data:q,error:F}=await $.from("event_registrations").select("*").eq("event_id",D.id);if(console.log(`Direct query event_registrations for ${D.title}:`,q,F),q&&q.length>0&&!F){for(const z of q){const{data:W}=await $.from("users").select("*").eq("id",z.participant_id||z.user_id).single();W&&M.push({id:W.id,name:W.name||"Registered User",email:W.email||"user@student.edu",role:W.role||"participant",student_id:W.student_id||"",department:W.department||"",year_level:W.year_level||"",phone:W.phone||"",registration_date:z.registration_date||z.created_at||new Date().toISOString(),attendance_status:z.attendance_status||"registered"})}console.log(` FOUND ${M.length} REAL PARTICIPANTS via direct query + user lookup!`)}}catch(q){console.log("Direct query method failed:",q)}console.log(` Final result for "${D.title}": ${M.length} users who actually registered for THIS event`),P.push({id:D.id,title:D.title,date:D.date,time:D.time||"00:00",venue:D.venue||"TBA",current_participants:M.length,max_participants:D.expected_participants||50,status:"approved",event_type:D.event_type||"General",description:D.description||"",organizer_name:((_=D.requester)==null?void 0:_.name)||"Unknown Requester",participants:M})}const C=P.reduce((D,M)=>D+M.participants.length,0);console.log(" FINAL RESULTS:"),console.log(` Total events with participants: ${P.length}`),console.log(` Total participants across all events: ${C}`),l(P)}catch(R){console.error(" Error loading REAL participants data:",R),v({title:"Error",description:"Failed to load participants data from database",variant:"destructive"})}finally{f(!1)}},y=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});h.useEffect(()=>{const _=localStorage.getItem("user");if(_){const R=JSON.parse(_);n(R),R.role!=="admin"&&(R.role==="participant"?b("/participant-dashboard"):R.role==="organizer"?b("/organizer-dashboard"):b("/login"))}else b("/login")},[b]),h.useEffect(()=>{(r==null?void 0:r.role)==="admin"&&(m(),x())},[r]);const w=()=>{localStorage.removeItem("user"),b("/login")},N=()=>{p(!0),x()};if(!r)return s.jsx("div",{children:"Loading..."});a.reduce((_,R)=>_+R.current_participants,0);const j=a.filter(_=>_.status==="approved").length,S=a.filter(_=>_.status==="pending").length;return s.jsxs("div",{className:"flex h-screen bg-white",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsx("header",{className:"bg-white border-b border-border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("img",{src:xl,alt:"Logo",className:"w-12 h-12 object-contain rounded-xl shadow"}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Welcome back, ",(r==null?void 0:r.name)||"Admin","!"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Here's what's happening with your school events today."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(I,{variant:"outline",size:"icon",className:"relative hover:bg-muted/50 transition-smooth",children:[s.jsx(Tt,{className:"h-4 w-4"}),s.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-accent rounded-full border-2 border-card"})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:w,children:s.jsx(Km,{className:"w-4 h-4"})})]})]})}),s.jsxs("main",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Dashboard Overview"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(I,{variant:"outline",onClick:()=>{m(),x()},disabled:u,children:u?"Refreshing...":"Refresh Data"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(we,{className:"text-sm font-medium",children:"Total Events"}),s.jsx(Je,{className:"h-4 w-4 text-primary"})]}),s.jsx(Z,{children:s.jsx("div",{className:"text-2xl font-bold",children:u?"...":a.length})})]}),s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(we,{className:"text-sm font-medium",children:"Approved Events"}),s.jsx(Gc,{className:"h-4 w-4 text-green-600"})]}),s.jsx(Z,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:u?"...":j})})]}),s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(we,{className:"text-sm font-medium",children:"Total Participants"}),s.jsx(Ye,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u?"...":o.reduce((_,R)=>_+R.participants.length,0)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",o.length," events"]}),o.length>0&&s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[" ",o.filter(_=>_.participants.length>0).length," active events"]})]})]}),s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(we,{className:"text-sm font-medium",children:"Pending Events"}),s.jsx($t,{className:"h-4 w-4 text-yellow-600"})]}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u?"...":S}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center space-x-2",children:[s.jsx(Gc,{className:"w-5 h-5"}),s.jsx("span",{children:"Recent Events"})]}),s.jsx(Fe,{children:"Overview of your latest school events"})]}),s.jsxs(Z,{children:[u?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading events..."})]}):a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No events in the system yet"})]}):s.jsx("div",{className:"space-y-4",children:a.slice(0,5).map(_=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 gradient-secondary rounded-lg flex items-center justify-center",children:s.jsx(Ho,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:_.title}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[s.jsx("span",{children:y(_.date)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[_.current_participants," participants"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oe,{variant:_.status==="approved"?"default":"secondary",children:_.status}),s.jsx(oe,{variant:"outline",children:_.event_type})]})]},_.id))}),s.jsxs("div",{className:"flex items-center space-x-4 mt-6 pt-4 border-t",children:[s.jsxs(I,{className:"gradient-primary",onClick:()=>b("/approvals"),children:[s.jsx($t,{className:"w-4 h-4 mr-2"}),"Event Approvals"]}),s.jsxs(I,{variant:"outline",onClick:N,children:[s.jsx(Ye,{className:"w-4 h-4 mr-2"}),"View Participants"]})]})]})]})}),s.jsx("div",{children:s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:"w-5 h-5"}),s.jsx("span",{children:"Recent Participants"})]}),s.jsx(Fe,{children:"Latest event registrations"})]}),s.jsx(Z,{children:u?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Loading participants..."})]}):o.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Ye,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No events with participants yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Create events and participants can register"}),s.jsx(I,{variant:"outline",size:"sm",onClick:N,children:"View All Events"})]}):s.jsxs("div",{className:"space-y-3",children:[o.filter(_=>_.participants.length>0).slice(0,4).map(_=>{var R;return s.jsxs("div",{className:"p-3 border border-border rounded-lg hover:bg-muted/30 transition-colors",children:[s.jsx("h5",{className:"font-medium text-sm text-foreground truncate",children:_.title}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("p",{className:"text-xs text-green-600 font-medium",children:[_.participants.length," participants registered"]}),s.jsx(oe,{variant:"secondary",className:"text-xs",children:y(_.date)})]}),_.participants.length>0&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Latest: ",(R=_.participants[_.participants.length-1])==null?void 0:R.name]})]},_.id)}),o.filter(_=>_.participants.length>0).length===0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-center text-xs text-muted-foreground mb-2",children:[o.length," events available, no participants yet"]}),o.slice(0,3).map(_=>s.jsxs("div",{className:"p-2 border border-dashed border-muted-foreground/30 rounded text-center",children:[s.jsx("p",{className:"text-xs font-medium",children:_.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"0 participants"})]},_.id))]}),s.jsxs(I,{variant:"outline",className:"w-full mt-4",onClick:N,children:[s.jsx(_a,{className:"w-4 h-4 mr-2"}),"View All Events & Participants"]})]})})]})})]}),g&&s.jsx("div",{className:"mt-8",children:s.jsxs(J,{className:"card-elevated",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(we,{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:"w-5 h-5"}),s.jsx("span",{children:"Event Participants"})]}),s.jsx(Fe,{children:"View participants for each approved event"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{variant:"outline",size:"sm",onClick:()=>x(),disabled:u,children:u?"Loading...":"Refresh"}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>p(!1),children:"Hide"})]})]})}),s.jsx(Z,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Events with Participants"}),u?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Loading events..."})]}):o.length===0?s.jsxs("div",{className:"p-6 text-center border rounded-lg",children:[s.jsx(Ye,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No approved events with participants yet"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Create and approve events, then participants can register"})]}):o.map(_=>s.jsx(J,{className:`cursor-pointer transition-colors hover:border-primary/50 ${(c==null?void 0:c.id)===_.id?"border-primary bg-primary/5":""}`,onClick:()=>d(_),children:s.jsxs(Z,{className:"p-4",children:[s.jsx("h4",{className:"font-medium text-sm",children:_.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[y(_.date)," at ",_.time]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.venue}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx(oe,{variant:"outline",className:"text-xs",children:_.event_type}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ye,{className:"w-3 h-3"}),s.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[_.participants.length,"/",_.max_participants]})]})]}),_.participants.length===0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:"No participants yet"})]})},_.id))]}),s.jsx("div",{className:"lg:col-span-2",children:c?s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium mb-4",children:[c.title," - Participants"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[c.participants.length," registered participants"]}),c.participants.length===0?s.jsxs("div",{className:"text-center py-8 border rounded-lg",children:[s.jsx(hx,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No participants registered yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Participants can register for this event from the participant dashboard"})]}):s.jsxs("div",{className:"space-y-4",children:[c.participants.map(_=>s.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Cs,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.email})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Student ID:"}),s.jsx("p",{className:"font-medium",children:_.student_id||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Department:"}),s.jsx("p",{className:"font-medium",children:_.department||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Year Level:"}),s.jsx("p",{className:"font-medium",children:_.year_level||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone:"}),s.jsx("p",{className:"font-medium",children:_.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered:"}),s.jsx("p",{className:"font-medium",children:y(_.registration_date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Role in System:"}),s.jsx(oe,{variant:"outline",className:"mt-1",children:_.role})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx(oe,{variant:_.attendance_status==="registered"||_.attendance_status==="attended"?"default":"secondary",className:_.attendance_status==="attended"?"bg-green-100 text-green-800":_.attendance_status==="registered"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:_.attendance_status}),s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{v({title:"Feature Coming Soon",description:"Attendance marking will be available soon"})},children:[s.jsx(hx,{className:"w-4 h-4 mr-1"}),"Mark Present"]})]})]})},_.id)),s.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Participants Summary"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c.participants.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Registered"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.participants.filter(_=>_.attendance_status==="attended").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Attended"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.max_participants-c.participants.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Available Slots"})]})]})]})]})]}):s.jsx("div",{className:"h-64 flex items-center justify-center border rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select an Event"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose an event from the left to view its participants"})]})})})]})})]})})]})]})]})},yn=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));yn.displayName="Textarea";const q1=async()=>{try{console.log(" Creating venues from approved events...");const{data:e,error:t}=await $.from("event_requests").select("*").eq("status","approved").order("created_at",{ascending:!1});if(t)return console.error(" Error fetching approved events:",t),[];if(!e||e.length===0)return console.log(" No approved events found"),[];console.log(" Found",e.length,"approved events");const r=new Map;e.forEach(i=>{if(i.venue&&i.venue.trim()){const o=i.venue.trim();r.has(o)||r.set(o,{name:o,description:`Venue for "${i.title}" event`,capacity:(i.expected_participants||50).toString(),location:o,venue_type:"auditorium",facilities:["Audio System","Seating","Lighting"],hourly_rate:0,is_active:!0,image_url:null})}});const n=Array.from(r.values()),a=[];for(const i of n)try{const{data:o}=await $.from("venues").select("id").eq("name",i.name).single();if(o)console.log(" Venue already exists:",i.name);else{const{data:l,error:c}=await $.from("venues").insert([i]).select().single();!c&&l&&(console.log(" Created venue:",l.name),a.push({id:l.id,name:l.name,location:l.location,capacity:parseInt(l.capacity)||50,description:l.description,image_url:l.image_url,amenities:Array.isArray(l.facilities)?l.facilities:["Audio System"],created_at:l.created_at,updated_at:l.updated_at,status:"Available",events_count:1,is_available:!0,created_by:"system",last_modified_by:"system"}))}}catch(o){console.error(" Error creating venue:",i.name,o)}return console.log(" Created",a.length,"new venues from approved events"),a}catch(e){return console.error(" Error creating venues from approved events:",e),[]}},cd=async()=>{try{console.log(" Loading venues from VENUES DATABASE...");const{data:e,error:t}=await $.from("venues").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(t)return console.error(" Database error:",t),[];if(!e||e.length===0)return console.log(" No venues in database"),[];const r=e.map(n=>({id:n.id,name:n.name,location:n.location||n.name,capacity:parseInt(n.capacity)||50,description:n.description||"Event venue",image_url:n.image_url,amenities:Array.isArray(n.facilities)?n.facilities:["Audio System"],created_at:n.created_at,updated_at:n.updated_at,status:n.is_active?"Available":"Maintenance",events_count:0,is_available:n.is_active,created_by:"database",last_modified_by:"user"}));return console.log(" Loaded",r.length,"venues from database"),r}catch(e){return console.error(" Error loading venues from database:",e),[]}},V1=async e=>{try{console.log(" UPLOADING VENUE IMAGE:",e.name);try{const t=e.name.split(".").pop(),n=`venue-images/${`${Date.now()}_${Math.random().toString(36).substring(2)}.${t}`}`,{data:a,error:i}=await $.storage.from("venue-images").upload(n,e);if(i)throw i;const{data:o}=$.storage.from("venue-images").getPublicUrl(n);return console.log(" IMAGE UPLOADED TO SUPABASE:",o.publicUrl),o.publicUrl}catch(t){return console.warn(" Supabase storage failed, using base64 fallback:",t),new Promise(r=>{const n=new FileReader;n.onload=a=>{var o;const i=(o=a.target)==null?void 0:o.result;console.log(" IMAGE CONVERTED TO BASE64 (fallback)"),r(i)},n.readAsDataURL(e)})}}catch(t){return console.error(" Error uploading venue image:",t),null}},H1=async e=>{try{console.log(" Creating multimedia post...",e);const{data:t,error:r}=await $.from("multimedia_posts").insert([{user_id:"00000000-0000-0000-0000-000000000000",user_name:e.user_name,user_role:e.user_role,title:e.title||"",content:e.content,media_type:e.media_type,media_url:e.media_url||null,tags:e.tags||[],likes_count:0,comments_count:0,is_active:!0,is_approved:!0}]).select().single();return r?(console.error(" Error creating post:",r),null):(console.log(" Post created successfully!",t),t)}catch(t){return console.error(" Error in createMultimediaPost:",t),null}},_p=async()=>{try{console.log(" Loading multimedia feed...");const{data:e,error:t}=await $.from("multimedia_posts").select("*").eq("is_active",!0).eq("is_approved",!0).order("created_at",{ascending:!1});return t?(console.error(" Error loading posts:",t),[]):(console.log(" Loaded posts:",(e==null?void 0:e.length)||0),e)}catch(e){return console.error(" Error in getAllMultimediaPosts:",e),[]}},G1=async e=>{try{console.log(" Uploading multimedia file...",e.name);const t=e.name.split(".").pop(),n=`multimedia/${`multimedia-${Date.now()}.${t}`}`,{data:a,error:i}=await $.storage.from("multimedia-files").upload(n,e);if(i)return console.log(" Storage upload failed, using base64 fallback:",i),new Promise(o=>{const l=new FileReader;l.onload=()=>o(l.result),l.onerror=()=>o(null),l.readAsDataURL(e)});if(a){const{data:{publicUrl:o}}=$.storage.from("multimedia-files").getPublicUrl(n);return console.log(" Media uploaded to storage:",o),o}return null}catch(t){return console.error(" Error uploading media:",t),new Promise(r=>{const n=new FileReader;n.onload=()=>r(n.result),n.onerror=()=>r(null),n.readAsDataURL(e)})}},Y1=async(e,t)=>{try{console.log(" Liking post...",e);const{data:r}=await $.from("multimedia_likes").select("id").eq("post_id",e).eq("user_id",t);if(r&&r.length>0)return console.log(" User already liked this post"),!0;const{error:n}=await $.from("multimedia_likes").insert([{post_id:e,user_id:t}]);if(n)return console.error(" Error liking post:",n),!1;const{data:a,error:i}=await $.from("multimedia_likes").select("id").eq("post_id",e);if(i)return console.error(" Error counting likes:",i),!1;const o=(a==null?void 0:a.length)||0,{error:l}=await $.from("multimedia_posts").update({likes_count:o}).eq("id",e);return l?(console.error(" Error updating likes count:",l),!1):(console.log(" Post liked successfully! Total likes:",o),!0)}catch(r){return console.error(" Error in likePost:",r),!1}},K1=async(e,t,r,n)=>{try{console.log(" Adding comment...",e);const{data:a,error:i}=await $.from("multimedia_comments").insert({post_id:e,user_id:t,user_name:r,comment_text:n,is_active:!0}).select().single();if(i)return console.error(" Error adding comment:",i),null;console.log(" Comment inserted:",a);const{data:o,error:l}=await $.from("multimedia_comments").select("id").eq("post_id",e).eq("is_active",!0);if(l)console.error(" Error counting comments:",l);else{const c=(o==null?void 0:o.length)||0;console.log(" Total comments for post:",c);const{error:d}=await $.from("multimedia_posts").update({comments_count:c}).eq("id",e);d?console.error(" Error updating comments count:",d):console.log(" Comments count updated:",c)}return console.log(" Comment added successfully!"),a}catch(a){return console.error(" Error in addComment:",a),null}},Q1=async e=>{try{const{data:t,error:r}=await $.from("multimedia_comments").select("*").eq("post_id",e).eq("is_active",!0).order("created_at",{ascending:!0});return r?(console.error(" Error loading comments:",r),[]):t}catch(t){return console.error(" Error in getPostComments:",t),[]}},x3=()=>{const[e,t]=h.useState([]),[r,n]=h.useState(!1),[a,i]=h.useState({title:"",content:"",media_type:"text",tags:""}),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState({}),[g,p]=h.useState({}),[b,v]=h.useState({}),{toast:m}=hr(),x=async()=>{try{console.log(" ORGANIZER: Loading multimedia posts...");const P=await _p();t(P),console.log(" ORGANIZER: Loaded posts:",P.length)}catch(P){console.error("Error loading posts:",P)}};h.useEffect(()=>{x();const P=setInterval(x,1e4);return()=>clearInterval(P)},[]);const y=async P=>{try{console.log(" Loading comments for post:",P);const C=await Q1(P);p(D=>({...D,[P]:C})),console.log(" Loaded comments:",C.length)}catch(C){console.error("Error loading comments:",C)}},w=async P=>{const C=b[P];v(D=>({...D,[P]:!C})),!C&&!g[P]&&await y(P)},N=P=>{var D;const C=(D=P.target.files)==null?void 0:D[0];C&&(l(C),C.type.startsWith("image/")?i(M=>({...M,media_type:"image"})):C.type.startsWith("video/")&&i(M=>({...M,media_type:"video"})))},j=async()=>{if(!a.content.trim()){m({title:"Content Required",description:"Please enter some content for your post",variant:"destructive"});return}d(!0);try{let P=null;if(o&&(console.log(" ORGANIZER: Uploading media file..."),P=await G1(o),!P))throw new Error("Failed to upload media");await H1({user_name:"Event Organizer",user_role:"organizer",title:a.title,content:a.content,media_type:a.media_type,media_url:P,tags:a.tags?a.tags.split(",").map(D=>D.trim()):[]})&&(m({title:" Post Created!",description:"Your post has been shared successfully!"}),i({title:"",content:"",media_type:"text",tags:""}),l(null),n(!1),await x())}catch(P){console.error("Error creating post:",P),m({title:"Error",description:"Failed to create post. Please try again.",variant:"destructive"})}finally{d(!1)}},S=async P=>{try{console.log(" ORGANIZER: Liking post...",P),await Y1(P,"00000000-0000-0000-0000-000000000001")?(await x(),m({title:" Liked!",description:"You liked this post"})):m({title:"Like Failed",description:"Could not like this post",variant:"destructive"})}catch(C){console.error("Error liking post:",C),m({title:"Error",description:"Failed to like post",variant:"destructive"})}},_=async P=>{const C=u[P];if(C!=null&&C.trim())try{console.log(" ORGANIZER: Adding comment...",P,C),await K1(P,"00000000-0000-0000-0000-000000000001","Event Organizer",C)?(f(M=>({...M,[P]:""})),await x(),m({title:" Comment Added!",description:"Your comment has been posted"})):m({title:"Comment Failed",description:"Could not add comment",variant:"destructive"})}catch(D){console.error("Error adding comment:",D),m({title:"Error",description:"Failed to add comment",variant:"destructive"})}},R=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"pt-6",children:s.jsxs(I,{onClick:()=>n(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white flex items-center gap-2 py-4",size:"lg",children:[s.jsx(At,{className:"w-5 h-5"}),"What's happening at your event? Share a moment! "]})})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg mx-4",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:" Create New Post"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-title",children:"Title (Optional)"}),s.jsx(ee,{id:"post-title",placeholder:"Add a catchy title...",value:a.title,onChange:P=>i(C=>({...C,title:P.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-content",children:"Content *"}),s.jsx(yn,{id:"post-content",rows:4,placeholder:"What's on your mind? Share your event updates, funny moments, memes!",value:a.content,onChange:P=>i(C=>({...C,content:P.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-tags",children:"Tags (comma-separated)"}),s.jsx(ee,{id:"post-tags",placeholder:"funny, event, sports, meme, success",value:a.tags,onChange:P=>i(C=>({...C,tags:P.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{children:"Media Type"}),s.jsx("div",{className:"flex gap-2 mt-2",children:[{type:"text",label:"Text"},{type:"image",label:"Image"},{type:"video",label:"Video"},{type:"meme",label:"Meme"}].map(({type:P,label:C})=>s.jsx(I,{variant:a.media_type===P?"default":"outline",size:"sm",onClick:()=>i(D=>({...D,media_type:P})),children:C},P))})]}),(a.media_type==="image"||a.media_type==="video")&&s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-file",children:"Upload File"}),s.jsx(ee,{id:"post-file",type:"file",accept:a.media_type==="image"?"image/*":"video/*",onChange:N}),o&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",o.name]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(I,{onClick:j,disabled:c,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600",children:c?"Posting...":" Post"}),s.jsx(I,{variant:"outline",onClick:()=>{n(!1),i({title:"",content:"",media_type:"text",tags:""}),l(null)},children:"Cancel"})]})]})}),s.jsx("div",{className:"space-y-6",children:e.length===0?s.jsx(J,{className:"card-elevated",children:s.jsxs(Z,{className:"text-center py-12",children:[s.jsx(fo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No posts yet!"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Be the first to share something awesome!"}),s.jsxs(I,{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600",children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Create First Post"]})]})}):e.map(P=>{var C;return s.jsx(J,{className:"card-elevated",children:s.jsxs(Z,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:P.user_name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:P.user_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[R(P.created_at),"  ",P.user_role]})]}),s.jsx(oe,{variant:"secondary",className:"text-xs",children:P.media_type})]}),P.title&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:P.title}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:P.content})}),P.media_url&&s.jsx("div",{className:"mb-4",children:P.media_type==="image"||P.media_type==="meme"?s.jsx("img",{src:P.media_url,alt:"Post media",className:"w-full max-h-96 object-cover rounded-lg cursor-pointer",onClick:()=>window.open(P.media_url,"_blank")}):P.media_type==="video"?s.jsx("video",{src:P.media_url,controls:!0,className:"w-full max-h-96 rounded-lg"}):null}),P.tags&&P.tags.length>0&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:P.tags.map((D,M)=>s.jsxs(oe,{variant:"outline",className:"text-xs",children:["#",D]},M))})}),s.jsxs("div",{className:"flex items-center gap-6 pt-4 border-t",children:[s.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>S(P.id),className:"flex items-center gap-2 text-gray-600 hover:text-red-500",children:[s.jsx(In,{className:"w-4 h-4"}),P.likes_count," Likes"]}),s.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>w(P.id),className:"flex items-center gap-2 text-gray-600 hover:text-blue-500",children:[s.jsx(zr,{className:"w-4 h-4"}),P.comments_count," Comments"]}),s.jsxs(I,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-green-500",children:[s.jsx(pl,{className:"w-4 h-4"}),"Share"]})]}),b[P.id]&&s.jsxs("div",{className:"mt-4 pt-4 border-t bg-gray-50 -mx-6 px-6 py-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Comments"}),g[P.id]&&g[P.id].length>0?s.jsx("div",{className:"space-y-3",children:g[P.id].map(D=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:D.user_name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 shadow-sm",children:[s.jsx("h5",{className:"font-medium text-sm text-gray-900",children:D.user_name}),s.jsx("p",{className:"text-gray-800 text-sm",children:D.comment_text})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R(D.created_at)})]})]},D.id))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No comments yet. Be the first to comment!"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ee,{placeholder:"Write a comment...",value:u[P.id]||"",onChange:D=>f(M=>({...M,[P.id]:D.target.value})),onKeyPress:D=>{D.key==="Enter"&&_(P.id)},className:"flex-1"}),s.jsx(I,{size:"sm",onClick:()=>_(P.id),disabled:!((C=u[P.id])!=null&&C.trim()),children:s.jsx(zr,{className:"w-4 h-4"})})]})})]})},P.id)})})]})},v3=()=>{const e=_n(),{toast:t}=hr(),[r,n]=h.useState(null),[a,i]=h.useState("calendar"),[o,l]=h.useState(""),[c,d]=h.useState("all"),[u,f]=h.useState(!1),[g,p]=h.useState(null),[b,v]=h.useState([]);h.useState(""),h.useState(""),h.useState(""),h.useState("rejection_complaint"),h.useState(!1);const[m,x]=h.useState(null),[y,w]=h.useState(!1),[N,j]=h.useState([]);h.useState(!1),h.useState({title:"",description:"",date:"",time:"",venue:"",event_type:"Academic",custom_event_type:"",expected_participants:50,requirements:"",budget_estimate:0,request_reason:""});const[S,_]=h.useState([]),[R,P]=h.useState([]),[C,D]=h.useState([]),[M,q]=h.useState([]),[F,z]=h.useState(null),[W,O]=h.useState([]),[E,A]=h.useState([]),[U,X]=h.useState(null),[te,se]=h.useState(!1),[de,Re]=h.useState(!1),[me,K]=h.useState({event_id:"",title:"",description:"",activities:[]}),[ge,Ee]=h.useState({time:"",title:"",description:"",location:"",duration:60,activity_type:"activity"}),[Pe,je]=h.useState(!1),[Te,it]=h.useState(null),[Me,_t]=h.useState({name:"",capacity:"",location:"",description:"",amenities:""}),Dt=async()=>{try{f(!0);const[{data:T},{data:L}]=await Promise.all([$.from("events").select(`
            *,
            organizer:organizer_id (name)
          `).eq("status","approved").order("date",{ascending:!0}),$.from("event_requests").select(`
            *,
            requester:requester_id (name)
          `).eq("status","approved").order("date",{ascending:!0})]);if(!(r!=null&&r.id)){_([]);return}let Y=[],pe=[];try{const{data:le}=await $.from("event_registrations").select("event_id").eq("participant_id",r.id);Y=le||[]}catch{console.log("Event registrations table not found, creating empty array..."),Y=[]}try{const{data:le}=await $.from("event_favorites").select("event_id").eq("user_id",r.id);pe=le||[]}catch{console.log("Event favorites table not found, creating empty array..."),pe=[]}const ne=(Y==null?void 0:Y.map(le=>le.event_id))||[],ce=(pe==null?void 0:pe.map(le=>le.event_id))||[],Ce=(T||[]).map(le=>{var st;return{id:le.id,title:le.title,date:le.date,time:le.time,venue:le.venue,organizer_name:((st=le.organizer)==null?void 0:st.name)||"Unknown",current_participants:le.current_participants||0,max_participants:le.max_participants||100,status:le.status,event_type:le.event_type,description:le.description||"",isRegistered:ne.includes(le.id),isFavorite:ce.includes(le.id),isMyEvent:!1}}),ze=(L||[]).map(le=>{var st;return{id:le.id,title:le.title,date:le.date,time:le.time,venue:le.venue,organizer_name:((st=le.requester)==null?void 0:st.name)||"Unknown",current_participants:0,max_participants:le.expected_participants||50,status:"approved",event_type:le.event_type,description:le.description||"",isRegistered:le.requester_id===r.id,isFavorite:ce.includes(le.id),isMyEvent:le.requester_id===r.id}}),ft=[...Ce,...ze],Tr=await Promise.all(ft.map(async le=>{try{const{count:st,error:Sn}=await $.from("event_registrations").select("*",{count:"exact",head:!0}).eq("event_id",le.id);return{...le,current_participants:st||0}}catch(st){return console.log(`Failed to get count for event ${le.title}:`,st),{...le,current_participants:0}}}));console.log("Organizer Dashboard - Events with updated participant counts:"),Tr.forEach(le=>{console.log(`${le.title}: ${le.current_participants}/${le.max_participants}`)}),_(Tr)}catch(T){console.error("Error loading events:",T),t({title:"Error",description:"Failed to load events",variant:"destructive"}),_([])}finally{f(!1)}},qt=async()=>{if(r!=null&&r.id)try{const{data:T,error:L}=await $.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(L){console.error("Error loading notifications:",L);return}console.log("Loaded notifications:",T),P(T||[])}catch(T){console.error("Error loading notifications:",T)}},en=async()=>{if(r!=null&&r.id)try{console.log("Loading reports for user:",r.id);const{data:T,error:L}=await $.from("reports").select("*").eq("reporter_id",r.id).order("created_at",{ascending:!1});if(L){if(console.error("Reports query error:",L),L.message.includes('relation "reports" does not exist')){t({title:"Database Setup Required",description:"Reports table not found. Please run the database setup script first.",variant:"destructive"}),D([]);return}throw L}console.log("Raw reports data:",T);const Y=(T||[]).map(pe=>({...pe,event_title:pe.related_event_id?"Related Event":"General Report"}));console.log("Formatted reports:",Y),D(Y)}catch(T){console.error("Error loading reports:",T),t({title:"Error",description:"Failed to load reports. Please check database setup.",variant:"destructive"}),D([])}},Cr=async T=>{try{console.log("Loading messages for report:",T);const{data:L,error:Y}=await $.from("report_messages").select("*").eq("report_id",T).order("created_at",{ascending:!0});if(Y){console.error("Error loading messages:",Y);return}console.log("Raw messages data:",L);let pe=[];if(L&&L.length>0)try{const ne=[...new Set(L.map(ze=>ze.sender_id))],{data:ce}=await $.from("users").select("id, name, role").in("id",ne),Ce=new Map;ce==null||ce.forEach(ze=>Ce.set(ze.id,{name:ze.name,role:ze.role})),pe=L.map(ze=>{const ft=Ce.get(ze.sender_id)||{name:"Unknown",role:"user"};return{id:ze.id,message:ze.message,sender_id:ze.sender_id,sender_name:ft.name,sender_role:ft.role,created_at:ze.created_at}})}catch{console.log("Could not load sender names, using fallback"),pe=L.map(ce=>({id:ce.id,message:ce.message,sender_id:ce.sender_id,sender_name:ce.sender_id===(r==null?void 0:r.id)?"You":"Admin",sender_role:ce.sender_id===(r==null?void 0:r.id)?"participant":"admin",created_at:ce.created_at}))}console.log("Formatted messages:",pe),v(pe)}catch(L){console.error("Error loading report messages:",L)}},tn=async()=>{if(r!=null&&r.id)try{console.log("Loading event requests for user:",r.id);const{data:T,error:L}=await $.from("event_requests").select("*").eq("requester_id",r.id).order("created_at",{ascending:!1});if(L)throw console.error("Supabase error:",L),L;console.log("Event requests loaded:",T),j(T||[])}catch(T){console.error("Error loading event requests:",T),t({title:"Info",description:"No event requests found or table not created yet."}),j([])}},Vt=async()=>{try{console.log(" ORGANIZER: Loading venues from VENUES DATABASE...");const T=await cd();if(T.length>0){console.log(" ORGANIZER: Found existing venues:",T.length),q(T);return}console.log(" ORGANIZER: No venues found, creating from approved events...");const L=await q1();if(L.length>0)console.log(" ORGANIZER: Created venues from events:",L.length),q(L);else{const Y=await cd();Y.length>0?(console.log(" ORGANIZER: Found venues after creation:",Y.length),q(Y)):(console.log(" ORGANIZER: Still no venues found after creation attempt"),q([]))}}catch(T){console.error("Error loading venues:",T),q([])}},kr=T=>{var L;z(T),_t({name:T.name,capacity:T.capacity.toString(),location:T.location,description:T.description||"",amenities:((L=T.amenities)==null?void 0:L.join(", "))||""}),je(!0)},Pr=async T=>{if(confirm("Are you sure you want to delete this venue? This will remove it from the database."))try{const{error:L}=await $.from("venues").update({is_active:!1}).eq("id",T);if(L)throw console.error(" Database delete error:",L),L;console.log(" VENUE DELETED FROM DATABASE!"),await Vt(),t({title:"Success",description:"Venue deleted from DATABASE! Admin will see this change immediately!"})}catch(L){console.error("Error deleting venue:",L),t({title:"Error",description:"Failed to delete venue",variant:"destructive"})}},Ea=async T=>{try{console.log(" ORGANIZER: Starting image upload to DATABASE...",T.name),t({title:"Uploading...",description:"Please wait while we save your image to database."});const L=await V1(T);if(L&&F){console.log(" ORGANIZER: Image uploaded, saving to database...",L);const{error:Y}=await $.from("venues").update({image_url:L,updated_at:new Date().toISOString()}).eq("id",F.id);if(Y)throw console.error(" Database image save error:",Y),Y;console.log(" IMAGE SAVED TO DATABASE!"),await Vt(),z({...F,image_url:L}),t({title:"SUCCESS!",description:"Image uploaded and saved to DATABASE! Admin will see it immediately!"})}else t({title:"Upload Failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}catch(L){console.error("Error uploading image:",L),t({title:"Upload Failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}},Kn=async()=>{try{if(F){console.log(" ORGANIZER: Saving venue to DATABASE...",Me);const T={name:Me.name,description:Me.description||"Event venue",capacity:Me.capacity,location:Me.location,venue_type:"auditorium",facilities:Me.amenities.split(",").map(Y=>Y.trim()).filter(Y=>Y),hourly_rate:0,is_active:!0,image_url:F.image_url,updated_at:new Date().toISOString()},{error:L}=await $.from("venues").update(T).eq("id",F.id);if(L)throw console.error(" Database save error:",L),L;console.log(" VENUE SAVED TO DATABASE!"),await Vt(),je(!1),z(null),t({title:"SUCCESS!",description:"Venue saved to DATABASE! Admin will see changes immediately!"})}}catch(T){console.error("Error saving venue:",T),t({title:"Error",description:"Failed to save venue changes",variant:"destructive"})}},k=async()=>{if(r!=null&&r.id)try{console.log(" ORGANIZER: Loading program flows from database...");const{data:T,error:L}=await $.from("event_requests").select("*").eq("requester_id",r.id).ilike("admin_comments","PROGRAM_FLOW:%");if(L){console.error(" ORGANIZER: Database error:",L),O([]);return}const Y=(T==null?void 0:T.map(pe=>{var ne;try{const ce=((ne=pe.admin_comments)==null?void 0:ne.replace("PROGRAM_FLOW:",""))||"{}",Ce=JSON.parse(ce);return{id:pe.id,event_id:pe.id,event_title:pe.title,event_date:pe.date,organizer_id:pe.requester_id,organizer_name:r.email||"Event Organizer",title:Ce.title||pe.title+" Program Flow",description:Ce.description||"",status:Ce.status||"draft",activities:Ce.activities||[],created_at:pe.created_at,updated_at:pe.updated_at,is_active:!0,admin_comments:Ce.admin_comments}}catch(ce){return console.error(" ORGANIZER: JSON parse error:",ce),null}}).filter(Boolean))||[];O(Y),console.log(" ORGANIZER: Loaded program flows from database:",Y.length)}catch(T){console.error(" ORGANIZER: Error loading program flows:",T),O([])}},V=async()=>{if(r!=null&&r.id)try{console.log(" ORGANIZER: Loading approved events for user:",r.id);const{data:T,error:L}=await $.from("event_requests").select("*").eq("requester_id",r.id).eq("status","approved").order("date",{ascending:!0});if(L){console.error(" Error loading from event_requests:",L),A([]);return}console.log(" ORGANIZER: Found approved events:",(T==null?void 0:T.length)||0),T&&T.length>0&&T.forEach(Y=>{console.log("- Event:",Y.title,"Date:",Y.date)}),A(T||[])}catch(T){console.error("Error loading approved events:",T),A([])}},fe=()=>{K({event_id:"",title:"",description:"",activities:[]}),Ee({time:"",title:"",description:"",location:"",duration:60,activity_type:"activity"}),se(!0)},Ve=()=>{if(!ge.title||!ge.time){t({title:"Missing Information",description:"Please fill in activity title and time",variant:"destructive"});return}const T={...ge,is_active:!0,order_index:me.activities.length};K(L=>({...L,activities:[...L.activities,T]})),Ee({time:"",title:"",description:"",location:"",duration:60,activity_type:"activity"}),t({title:"Activity Added",description:"Activity added to program flow"})},Mt=T=>{K(L=>({...L,activities:L.activities.filter((Y,pe)=>pe!==T)}))},yt=async()=>{if(!me.event_id||!me.title){t({title:"Missing Information",description:"Please select an event and enter a title",variant:"destructive"});return}try{console.log(" ORGANIZER: Saving program flow to database...",me.title);const T={title:me.title,description:me.description,status:"draft",activities:me.activities,admin_comments:null},L="PROGRAM_FLOW:"+JSON.stringify(T),{data:Y,error:pe}=await $.from("event_requests").update({admin_comments:L,updated_at:new Date().toISOString()}).eq("id",me.event_id).eq("requester_id",r==null?void 0:r.id).select();if(pe){console.error(" ORGANIZER: Database error:",pe),t({title:"Error",description:"Failed to save program flow to database",variant:"destructive"});return}console.log(" ORGANIZER: Program flow saved to database:",Y),await k(),se(!1),t({title:" Program Flow Created!",description:"Your program flow has been saved to database"})}catch(T){console.error(" ORGANIZER: Error saving program flow:",T),t({title:"Error",description:"Failed to save program flow",variant:"destructive"})}},rn=async T=>{var L;try{console.log(" ORGANIZER: Submitting program flow for approval...",T);const{data:Y,error:pe}=await $.from("event_requests").select("admin_comments").eq("id",T).eq("requester_id",r==null?void 0:r.id).single();if(pe||!((L=Y==null?void 0:Y.admin_comments)!=null&&L.startsWith("PROGRAM_FLOW:"))){console.error(" ORGANIZER: Error fetching current data:",pe),t({title:"Error",description:"Program flow not found",variant:"destructive"});return}try{const ne=Y.admin_comments.replace("PROGRAM_FLOW:",""),ce=JSON.parse(ne);ce.status="submitted",ce.updated_at=new Date().toISOString();const Ce="PROGRAM_FLOW:"+JSON.stringify(ce),{data:ze,error:ft}=await $.from("event_requests").update({admin_comments:Ce,updated_at:new Date().toISOString()}).eq("id",T).eq("requester_id",r==null?void 0:r.id).select();if(ft){console.error(" ORGANIZER: Database update error:",ft),t({title:"Error",description:"Failed to submit program flow",variant:"destructive"});return}console.log(" ORGANIZER: Program flow submitted to database:",ze),await k(),t({title:" Program Flow Submitted!",description:"Your program flow has been sent to admin for approval"})}catch(ne){console.error(" ORGANIZER: JSON parse error:",ne),t({title:"Error",description:"Invalid program flow data",variant:"destructive"})}}catch(Y){console.error(" ORGANIZER: Error submitting program flow:",Y),t({title:"Error",description:"Failed to submit program flow",variant:"destructive"})}},ut=async T=>{if(confirm("Are you sure you want to delete this program flow?"))try{console.log(" ORGANIZER: Deleting program flow..."),O(L=>L.filter(Y=>Y.id!==T)),t({title:"Program Flow Deleted",description:"Program flow has been removed"})}catch(L){console.error("Error deleting program flow:",L),t({title:"Error",description:"Failed to delete program flow",variant:"destructive"})}};h.useEffect(()=>{const T=localStorage.getItem("user");if(T){const L=JSON.parse(T);n(L),L.role!=="organizer"&&(L.role==="participant"?e("/participant-dashboard"):e("/dashboard"))}else e("/login")},[e]),h.useEffect(()=>{r!=null&&r.id&&(Dt(),qt(),en(),tn(),Vt(),console.log(" ORGANIZER: Loading venues from DATABASE"))},[r]),h.useEffect(()=>{if(r!=null&&r.id){const T=setInterval(async()=>{try{await Vt(),console.log(" ORGANIZER: Auto-synced venues from DATABASE")}catch(L){console.error("Venue sync error:",L)}},3e3);return()=>clearInterval(T)}},[r==null?void 0:r.id]),h.useEffect(()=>{a==="notifications"&&(r!=null&&r.id)&&qt()},[a,r==null?void 0:r.id]),h.useEffect(()=>{a==="reports"&&(r!=null&&r.id)&&(en(),g&&Cr(g.id))},[a,r==null?void 0:r.id]),h.useEffect(()=>{a==="program"&&(r!=null&&r.id)&&(k(),V())},[a,r==null?void 0:r.id]),h.useEffect(()=>{if(g&&a==="reports"){const T=setInterval(()=>{Cr(g.id)},5e3);return()=>clearInterval(T)}},[g,a]);const rr=()=>{localStorage.removeItem("user"),e("/login")},Bs=async T=>{if(r!=null&&r.id)try{const L=S.find(Y=>Y.id===T);if(!L)return;if(L.isRegistered){const{error:Y}=await $.from("event_registrations").delete().eq("event_id",T).eq("participant_id",r.id);if(Y)throw console.error("Unregister error:",Y),Y;await $.from("events").update({current_participants:Math.max(0,L.current_participants-1)}).eq("id",T),t({title:"Unregistered",description:`You have been unregistered from ${L.title}`})}else{if(L.current_participants>=L.max_participants){t({title:"Event Full",description:"This event has reached maximum capacity",variant:"destructive"});return}const{error:Y}=await $.from("event_registrations").insert([{event_id:T,participant_id:r.id}]);if(Y)throw console.error("Register error:",Y),Y;await $.from("events").update({current_participants:L.current_participants+1}).eq("id",T);try{await $.from("notifications").insert([{user_id:r.id,title:"Registration Confirmed",message:`Your registration for "${L.title}" has been confirmed.`,type:"registration",related_event_id:T}])}catch(pe){console.log("Notification creation failed (non-critical):",pe)}try{const{data:pe}=await $.from("events").select("organizer_id, organizer_name").eq("id",T).single();pe!=null&&pe.organizer_id&&pe.organizer_id!==r.id&&await ld.participantJoined(T,r.name||"New Participant",pe.organizer_id)}catch(pe){console.log("Organizer notification failed (non-critical):",pe)}t({title:"Registered Successfully",description:`You have been registered for ${L.title}`})}await Dt(),await qt()}catch(L){console.error("Registration error:",L),t({title:"Registration Failed",description:"Failed to update registration. Please try again.",variant:"destructive"})}},mr=async T=>{if(r!=null&&r.id)try{const L=S.find(Y=>Y.id===T);if(!L)return;if(L.isFavorite){const{error:Y}=await $.from("event_favorites").delete().eq("event_id",T).eq("user_id",r.id);if(Y){if(console.error("Remove favorite error:",Y),Y.message.includes('relation "event_favorites" does not exist')){t({title:"Database Setup Required",description:"Please run the database setup script first.",variant:"destructive"});return}throw Y}t({title:"Removed from Favorites",description:`${L.title} has been removed from your favorites.`})}else{const{error:Y}=await $.from("event_favorites").insert([{event_id:T,user_id:r.id}]);if(Y){if(console.error("Add favorite error:",Y),Y.message.includes('relation "event_favorites" does not exist')){t({title:"Database Setup Required",description:"Please run the database setup script first.",variant:"destructive"});return}if(Y.message.includes("duplicate key")||Y.code==="23505"){t({title:"Already in Favorites",description:`${L.title} is already in your favorites.`}),await Dt();return}throw Y}t({title:"Added to Favorites",description:`${L.title} has been added to your favorites.`})}await Dt()}catch(L){console.error("Favorite toggle error:",L),t({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},ue=T=>{switch(T){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";case"open":return"bg-red-100 text-red-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ot=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Ca=S.filter(T=>{const L=T.title.toLowerCase().includes(o.toLowerCase())||T.description.toLowerCase().includes(o.toLowerCase())||T.organizer_name.toLowerCase().includes(o.toLowerCase());return c==="all"?L:c==="available"?L&&!T.isMyEvent:c==="myevents"?L&&T.isMyEvent:c==="registered"?L&&T.isRegistered:c==="favorites"?L&&T.isFavorite:L&&T.event_type.toLowerCase()===c.toLowerCase()}),Vi=R.filter(T=>!T.is_read).length;return r?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[s.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-border/50 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:xl,alt:"Logo",className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold gradient-primary bg-clip-text text-transparent",children:"Organizer Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"School Event Management"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(I,{variant:"ghost",size:"sm",className:"relative",children:[s.jsx(Tt,{className:"w-4 h-4"}),Vi>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Vi})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:r.name}),s.jsx(oe,{variant:"secondary",children:"Organizer"})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:rr,children:s.jsx(Km,{className:"w-4 h-4"})})]})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(gp,{value:a,onValueChange:i,className:"space-y-6",children:[s.jsxs(Gd,{className:"grid w-full grid-cols-4 bg-white/50 backdrop-blur-sm",children:[s.jsxs(Br,{value:"calendar",className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"w-4 h-4"}),s.jsx("span",{children:"Calendar of Activities"})]}),s.jsxs(Br,{value:"venues",className:"flex items-center space-x-2",children:[s.jsx(rs,{className:"w-4 h-4"}),s.jsx("span",{children:"Venue Registration"})]}),s.jsxs(Br,{value:"multimedia",className:"flex items-center space-x-2",children:[s.jsx(fo,{className:"w-4 h-4"}),s.jsx("span",{children:"Multimedia"})]}),s.jsxs(Br,{value:"program",className:"flex items-center space-x-2",children:[s.jsx(zw,{className:"w-4 h-4"}),s.jsx("span",{children:"Program Flow"})]})]}),s.jsxs(Wr,{value:"calendar",className:"space-y-6",children:[s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(ee,{placeholder:"Search events...",value:o,onChange:T=>l(T.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Od,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"all",children:"All Events"}),s.jsx("option",{value:"available",children:"Available Events"}),s.jsx("option",{value:"myevents",children:"My Events"}),s.jsx("option",{value:"registered",children:"Registered Events"}),s.jsx("option",{value:"favorites",children:"Favorites"}),s.jsx("option",{value:"academic",children:"Academic"}),s.jsx("option",{value:"sports",children:"Sports"}),s.jsx("option",{value:"cultural",children:"Cultural"}),s.jsx("option",{value:"social",children:"Social"}),s.jsx("option",{value:"workshop",children:"Workshop"}),s.jsx("option",{value:"conference",children:"Conference"}),s.jsx("option",{value:"competition",children:"Competition"}),s.jsx("option",{value:"seminar",children:"Seminar"}),s.jsx("option",{value:"training",children:"Training"}),s.jsx("option",{value:"others",children:"Others"})]}),s.jsx(I,{onClick:async()=>{try{f(!0),console.log(" MANUAL: Creating venues from approved events...");const{data:T}=await $.from("event_requests").select("*").eq("status","approved");if(console.log("Found approved events:",T),T&&T.length>0){const L=T.map(async Y=>{if(Y.venue)try{const pe={name:Y.venue,description:`Venue for "${Y.title}" event`,capacity:(Y.expected_participants||50).toString(),location:Y.venue,venue_type:"auditorium",facilities:["Audio System","Seating","Lighting"],hourly_rate:0,is_active:!0,image_url:null},{data:ne,error:ce}=await $.from("venues").upsert([pe],{onConflict:"name"}).select().single();if(!ce&&ne)return console.log(" Created/Updated venue:",ne.name),ne}catch(pe){console.log(" Error with venue:",Y.venue,pe)}return null});await Promise.all(L),await Vt(),t({title:"Venues Created!",description:"Venues have been created from your approved events"})}else t({title:"No Approved Events",description:"No approved events found to create venues from",variant:"destructive"})}catch(T){console.error("Error creating venues:",T),t({title:"Creation Failed",description:"Failed to create venues",variant:"destructive"})}finally{f(!1)}},disabled:u,variant:"outline",size:"sm",className:"ml-2",children:u?"Creating...":"Create Venues from Events"})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Events"}),s.jsx("p",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:S.filter(T=>!T.isMyEvent).length})]}),s.jsx(Ho,{className:"w-8 h-8 text-primary"})]})})}),s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"My Events"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:S.filter(T=>T.isMyEvent).length})]}),s.jsx(wn,{className:"w-8 h-8 text-green-600"})]})})}),s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Registered"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:S.filter(T=>T.isRegistered).length})]}),s.jsx(Ye,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Favorites"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:S.filter(T=>T.isFavorite).length})]}),s.jsx(In,{className:"w-8 h-8 text-red-500"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ca.map(T=>s.jsx(J,{className:"card-elevated overflow-hidden",children:s.jsxs(Z,{className:"p-0",children:[s.jsxs("div",{className:"relative p-6 pb-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oe,{className:ue(T.status),children:T.status}),T.isMyEvent&&s.jsx(oe,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"My Event"})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>mr(T.id),className:"p-1",children:s.jsx(In,{className:`w-4 h-4 ${T.isFavorite?"fill-red-500 text-red-500":"text-muted-foreground"}`})})]}),s.jsx("h3",{className:"font-bold text-lg mb-2 cursor-pointer hover:text-primary",onClick:()=>{x(T),w(!0)},children:T.title}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:T.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[ot(T.date)," at ",T.time]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:T.venue})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:T.organizer_name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[T.current_participants,"/",T.max_participants," participants"]})]})]})]}),s.jsx("div",{className:"border-t p-4 bg-muted/20",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(I,{variant:T.isRegistered?"secondary":"default",size:"sm",onClick:()=>Bs(T.id),className:"flex-1",disabled:u||T.status==="completed"||T.current_participants>=T.max_participants&&!T.isRegistered,children:u?"Loading...":T.isRegistered?"Registered":"Register"}),s.jsx(I,{variant:"ghost",size:"sm",children:s.jsx(pl,{className:"w-4 h-4"})})]})})]})},T.id))}),Ca.length===0&&s.jsx(J,{className:"card-elevated",children:s.jsxs(Z,{className:"p-12 text-center",children:[s.jsx(Ho,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No events found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})})]}),s.jsx(Wr,{value:"venues",className:"space-y-6",children:s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"w-6 h-6"}),"Venue Management - SAME DATABASE AS ADMIN!"]}),s.jsx(Fe,{children:"Manage venues used in your approved events"})]}),s.jsx(Z,{children:M.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(rs,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No venues found"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Venues will appear here when you have approved events"})]}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:M.map(T=>s.jsxs(J,{className:"overflow-hidden hover:shadow-lg transition-all duration-300",children:[s.jsxs("div",{className:"relative",children:[T.image_url?s.jsx("img",{src:T.image_url,alt:T.name,className:"w-full h-48 object-cover"}):s.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:s.jsx(rs,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(oe,{variant:T.is_available?"secondary":"destructive",children:T.status||(T.is_available?"Available":"Unavailable")})})]}),s.jsxs(Z,{className:"p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:T.name}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx(sr,{className:"w-4 h-4"}),T.location]})]}),T.event_details&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg space-y-1",children:[s.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Event: ",T.event_details.event_name]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Date: ",ot(T.event_details.event_date)]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-4 h-4 text-blue-500"}),s.jsxs("span",{children:["Capacity: ",s.jsx("strong",{children:T.capacity})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Je,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{children:[s.jsx("strong",{children:T.events_count})," events"]})]})]}),T.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:T.description}),T.amenities&&T.amenities.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.amenities.slice(0,3).map((L,Y)=>s.jsx(oe,{variant:"outline",className:"text-xs",children:L},Y)),T.amenities.length>3&&s.jsxs(oe,{variant:"outline",className:"text-xs",children:["+",T.amenities.length-3," more"]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(I,{size:"sm",variant:"outline",onClick:()=>kr(T),className:"flex-1",children:[s.jsx(fo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(I,{size:"sm",variant:"destructive",onClick:()=>Pr(T.id),className:"flex-1",children:[s.jsx(ml,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]},T.id))})})]})}),s.jsx(Wr,{value:"multimedia",className:"space-y-6",children:s.jsx(x3,{})}),s.jsxs(Wr,{value:"program",className:"space-y-6",children:[s.jsx(J,{className:"card-elevated",children:s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(we,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5"}),"Program Flow Management"]}),s.jsx(Fe,{children:"Create and manage event program flows for your approved events"})]}),s.jsxs(I,{onClick:fe,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Create Program Flow"]})]})})}),s.jsx("div",{className:"grid gap-6",children:W.length===0?s.jsx(J,{className:"card-elevated",children:s.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Zs,{className:"w-16 h-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"No Program Flows Yet"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first program flow to organize your event activities and timeline."}),s.jsxs(I,{onClick:fe,variant:"outline",children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Create Your First Program Flow"]})]})}):W.map(T=>s.jsxs(J,{className:"card-elevated",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{className:"text-xl",children:T.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Je,{className:"w-4 h-4"}),s.jsx("span",{children:T.event_title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($t,{className:"w-4 h-4"}),s.jsx("span",{children:ot(T.event_date)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-4 h-4"}),s.jsxs("span",{children:[T.activities.length," Activities"]})]})]}),T.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(oe,{variant:T.status==="approved"?"default":T.status==="submitted"?"secondary":T.status==="rejected"?"destructive":"outline",children:[T.status==="approved"&&s.jsx(wn,{className:"w-3 h-3 mr-1"}),T.status==="rejected"&&s.jsx(_i,{className:"w-3 h-3 mr-1"}),T.status.charAt(0).toUpperCase()+T.status.slice(1)]})})]})}),s.jsxs(Z,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4"}),"Activity Timeline"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:T.activities.map((L,Y)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-16 text-xs font-mono text-center bg-primary/10 rounded px-2 py-1",children:L.time}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h5",{className:"font-medium text-sm",children:L.title}),s.jsx(oe,{variant:"outline",className:"text-xs",children:L.activity_type})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:L.description}),L.location&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(sr,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:L.location})]})]}),s.jsxs("div",{className:"flex-shrink-0 text-xs text-muted-foreground",children:[L.duration,"min"]})]},L.id||Y))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created ",ot(T.created_at)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{X(T),Re(!0)},children:[s.jsx(_a,{className:"w-4 h-4 mr-1"}),"View Details"]}),T.status==="draft"&&s.jsxs(s.Fragment,{children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{K({event_id:T.event_id,title:T.title,description:T.description||"",activities:T.activities}),se(!0)},children:[s.jsx(NE,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(I,{size:"sm",onClick:()=>rn(T.id),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[s.jsx(Si,{className:"w-4 h-4 mr-1"}),"Submit for Approval"]})]}),T.status!=="approved"&&s.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>ut(T.id),children:[s.jsx(Yo,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})]},T.id))})]})]})}),y&&m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:m.title}),s.jsx(I,{variant:"ghost",onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oe,{className:ue(m.status),children:m.status}),m.isMyEvent&&s.jsx(oe,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"My Event"}),s.jsx(oe,{variant:"outline",children:m.event_type})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Date:"}),s.jsx("span",{children:ot(m.date)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Time:"}),s.jsx("span",{children:m.time})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sr,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Venue:"}),s.jsx("span",{children:m.venue})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Organizer:"}),s.jsx("span",{children:m.organizer_name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Participants:"}),s.jsxs("span",{children:[m.current_participants,"/",m.max_participants]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:"Registration:"}),m.isRegistered?s.jsx(oe,{className:"bg-green-100 text-green-800",children:"Registered"}):s.jsx(oe,{variant:"outline",children:"Not Registered"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Description:"}),s.jsx("p",{className:"text-muted-foreground bg-muted/50 p-4 rounded-lg",children:m.description||"No description available."})]}),s.jsxs("div",{className:"flex items-center space-x-4 pt-4 border-t",children:[!m.isMyEvent&&s.jsxs(s.Fragment,{children:[s.jsx(I,{variant:m.isRegistered?"secondary":"default",onClick:()=>{Bs(m.id),w(!1)},disabled:u||m.current_participants>=m.max_participants&&!m.isRegistered,children:m.isRegistered?"Unregister":"Register"}),s.jsxs(I,{variant:"outline",onClick:()=>{mr(m.id),w(!1)},children:[s.jsx(In,{className:`w-4 h-4 mr-2 ${m.isFavorite?"fill-red-500 text-red-500":""}`}),m.isFavorite?"Remove Favorite":"Add to Favorites"]})]}),m.isMyEvent&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"This is your event. You are automatically registered as the organizer."})]})]})]})})}),Pe&&F&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(rs,{className:"w-6 h-6"}),"Edit Venue: ",F.name]}),s.jsx(I,{variant:"ghost",onClick:()=>je(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-6",children:[F.event_details&&s.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg",children:[s.jsx(H,{className:"text-lg font-semibold text-blue-800",children:"Event Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Event Name:"}),s.jsx("p",{className:"text-gray-800",children:F.event_details.event_name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Event Date:"}),s.jsx("p",{className:"text-gray-800",children:ot(F.event_details.event_date)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Participants:"}),s.jsxs("p",{className:"text-gray-800",children:[F.event_details.participants_count," people"]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{className:"text-lg font-semibold",children:"Current Venue Image"}),s.jsx("div",{className:"relative",children:F.image_url?s.jsx("img",{src:F.image_url,alt:F.name,className:"w-full h-64 object-cover rounded-lg"}):s.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rs,{className:"w-16 h-16 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"No image uploaded"})]})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(H,{htmlFor:"venue-image",className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(fo,{className:"w-5 h-5"}),"Upload New Image"]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[s.jsx("input",{id:"venue-image",type:"file",accept:"image/*",onChange:T=>{var Y;const L=(Y=T.target.files)==null?void 0:Y[0];L&&(it(L),Ea(L))},className:"hidden"}),s.jsxs("label",{htmlFor:"venue-image",className:"cursor-pointer",children:[s.jsx(fo,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload venue image"}),s.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"venue-name",children:"Venue Name"}),s.jsx(ee,{id:"venue-name",value:Me.name,onChange:T=>_t({...Me,name:T.target.value}),placeholder:"Enter venue name"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"venue-capacity",children:"Capacity"}),s.jsx(ee,{id:"venue-capacity",type:"number",value:Me.capacity,onChange:T=>_t({...Me,capacity:T.target.value}),placeholder:"Enter maximum capacity"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"venue-location",children:"Location"}),s.jsx(ee,{id:"venue-location",value:Me.location,onChange:T=>_t({...Me,location:T.target.value}),placeholder:"Enter venue location"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"venue-description",children:"Description"}),s.jsx(yn,{id:"venue-description",value:Me.description,onChange:T=>_t({...Me,description:T.target.value}),placeholder:"Describe the venue...",rows:3})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{htmlFor:"venue-amenities",children:"Amenities (comma-separated)"}),s.jsx(ee,{id:"venue-amenities",value:Me.amenities,onChange:T=>_t({...Me,amenities:T.target.value}),placeholder:"e.g., Audio System, Air Conditioning, WiFi, Parking"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(I,{onClick:Kn,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[s.jsx(rs,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),s.jsx(I,{variant:"outline",onClick:()=>je(!1),className:"flex-1",children:"Cancel"})]})]})]})})}),te&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Zs,{className:"w-6 h-6"}),me.event_id?"Edit Program Flow":"Create Program Flow"]}),s.jsx(I,{variant:"ghost",onClick:()=>se(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"event_id",children:"Select Event"}),s.jsxs("select",{id:"event_id",value:me.event_id,onChange:T=>K(L=>({...L,event_id:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Choose an approved event..."}),E.map(T=>s.jsxs("option",{value:T.id,children:[T.title," - ",ot(T.date)]},T.id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"title",children:"Program Flow Title"}),s.jsx(ee,{id:"title",value:me.title,onChange:T=>K(L=>({...L,title:T.target.value})),placeholder:"e.g., Sports Festival Program Flow"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(yn,{id:"description",value:me.description,onChange:T=>K(L=>({...L,description:T.target.value})),placeholder:"Describe the overall program flow...",rows:3})]})]}),s.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4"}),"Add Activity"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"activity_time",children:"Time"}),s.jsx(ee,{id:"activity_time",type:"time",value:ge.time,onChange:T=>Ee(L=>({...L,time:T.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"activity_title",children:"Activity Title"}),s.jsx(ee,{id:"activity_title",value:ge.title,onChange:T=>Ee(L=>({...L,title:T.target.value})),placeholder:"e.g., Opening Ceremony"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"activity_duration",children:"Duration (minutes)"}),s.jsx(ee,{id:"activity_duration",type:"number",value:ge.duration,onChange:T=>Ee(L=>({...L,duration:parseInt(T.target.value)||60})),placeholder:"60"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"activity_type",children:"Type"}),s.jsxs("select",{id:"activity_type",value:ge.activity_type,onChange:T=>Ee(L=>({...L,activity_type:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"opening",children:"Opening"}),s.jsx("option",{value:"presentation",children:"Presentation"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"break",children:"Break"}),s.jsx("option",{value:"closing",children:"Closing"}),s.jsx("option",{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"activity_location",children:"Location (Optional)"}),s.jsx(ee,{id:"activity_location",value:ge.location,onChange:T=>Ee(L=>({...L,location:T.target.value})),placeholder:"e.g., Main Stadium"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"activity_description",children:"Description"}),s.jsx(ee,{id:"activity_description",value:ge.description,onChange:T=>Ee(L=>({...L,description:T.target.value})),placeholder:"Describe the activity..."})]})]}),s.jsxs(I,{onClick:Ve,className:"w-full",variant:"outline",children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Activity to Program"]})]}),me.activities.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4"}),"Program Activities (",me.activities.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:me.activities.map((T,L)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background rounded-lg border",children:[s.jsx("div",{className:"flex-shrink-0 w-16 text-xs font-mono text-center bg-primary/10 rounded px-2 py-1",children:T.time}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h5",{className:"font-medium text-sm",children:T.title}),s.jsx(oe,{variant:"outline",className:"text-xs",children:T.activity_type})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:T.description}),T.location&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(sr,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:T.location})]})]}),s.jsxs("div",{className:"flex-shrink-0 text-xs text-muted-foreground",children:[T.duration,"min"]}),s.jsx(I,{variant:"destructive",size:"sm",onClick:()=>Mt(L),children:s.jsx(Yo,{className:"w-3 h-3"})})]},L))})]}),s.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[s.jsxs(I,{onClick:yt,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",disabled:!me.event_id||!me.title,children:[s.jsx(Si,{className:"w-4 h-4 mr-2"}),"Save Program Flow"]}),s.jsx(I,{variant:"outline",onClick:()=>se(!1),className:"flex-1",children:"Cancel"})]})]})]})})}),de&&U&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Zs,{className:"w-6 h-6"}),U.title]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Je,{className:"w-4 h-4"}),s.jsx("span",{children:U.event_title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($t,{className:"w-4 h-4"}),s.jsx("span",{children:ot(U.event_date)})]}),s.jsx(oe,{variant:U.status==="approved"?"default":U.status==="submitted"?"secondary":U.status==="rejected"?"destructive":"outline",children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})]})]}),s.jsx(I,{variant:"ghost",onClick:()=>Re(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-6",children:[U.description&&s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:U.description})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4"}),"Complete Activity Timeline (",U.activities.length," activities)"]}),s.jsx("div",{className:"space-y-3",children:U.activities.map((T,L)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-background rounded-lg border",children:[s.jsxs("div",{className:"flex-shrink-0 w-20 text-center",children:[s.jsx("div",{className:"text-lg font-mono font-bold text-primary",children:T.time}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.duration,"min"]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium",children:T.title}),s.jsx(oe,{variant:"outline",children:T.activity_type})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:T.description}),T.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:T.location})]})]})]},T.id||L))})]}),U.admin_comments&&s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"Admin Comments"}),s.jsx("p",{className:"text-sm text-yellow-700",children:U.admin_comments})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(I,{variant:"outline",onClick:()=>Re(!1),children:"Close"})})]})]})})})]}):s.jsx("div",{children:"Loading..."})};function mv(e,[t,r]){return Math.min(r,Math.max(t,e))}var Xu=0;function Sp(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pv()),document.body.insertAdjacentElement("beforeend",e[1]??pv()),Xu++,()=>{Xu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xu--}},[])}function pv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zu="focusScope.autoFocusOnMount",ef="focusScope.autoFocusOnUnmount",gv={bubbles:!1,cancelable:!0},y3="FocusScope",Zd=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=Er(a),u=Er(i),f=h.useRef(null),g=Ue(t,v=>c(v)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let v=function(w){if(p.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:as(f.current,{select:!0})},m=function(w){if(p.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||as(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&as(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",m);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",m),y.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){vv.add(p);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(Zu,gv);l.addEventListener(Zu,d),l.dispatchEvent(x),x.defaultPrevented||(w3(S3(J1(l)),{select:!0}),document.activeElement===v&&as(l))}return()=>{l.removeEventListener(Zu,d),setTimeout(()=>{const x=new CustomEvent(ef,gv);l.addEventListener(ef,u),l.dispatchEvent(x),x.defaultPrevented||as(v??document.body,{select:!0}),l.removeEventListener(ef,u),vv.remove(p)},0)}}},[l,d,u,p]);const b=h.useCallback(v=>{if(!r&&!n||p.paused)return;const m=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(m&&x){const y=v.currentTarget,[w,N]=b3(y);w&&N?!v.shiftKey&&x===N?(v.preventDefault(),r&&as(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),r&&as(N,{select:!0})):x===y&&v.preventDefault()}},[r,n,p.paused]);return s.jsx(be.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});Zd.displayName=y3;function w3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(as(n,{select:t}),document.activeElement!==r)return}function b3(e){const t=J1(e),r=xv(t,e),n=xv(t.reverse(),e);return[r,n]}function J1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function xv(e,t){for(const r of e)if(!j3(r,{upTo:t}))return r}function j3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function N3(e){return e instanceof HTMLInputElement&&"select"in e}function as(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&N3(e)&&t&&e.select()}}var vv=_3();function _3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=yv(e,t),e.unshift(t)},remove(t){var r;e=yv(e,t),(r=e[0])==null||r.resume()}}}function yv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function S3(e){return e.filter(t=>t.tagName!=="A")}function E3(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var C3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ma=new WeakMap,ec=new WeakMap,tc={},tf=0,X1=function(e){return e&&(e.host||X1(e.parentNode))},k3=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=X1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},P3=function(e,t,r,n){var a=k3(t,Array.isArray(e)?e:[e]);tc[r]||(tc[r]=new WeakMap);var i=tc[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))u(g);else try{var p=g.getAttribute(n),b=p!==null&&p!=="false",v=(Ma.get(g)||0)+1,m=(i.get(g)||0)+1;Ma.set(g,v),i.set(g,m),o.push(g),v===1&&b&&ec.set(g,!0),m===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",g,x)}})};return u(t),l.clear(),tf++,function(){o.forEach(function(f){var g=Ma.get(f)-1,p=i.get(f)-1;Ma.set(f,g),i.set(f,p),g||(ec.has(f)||f.removeAttribute(n),ec.delete(f)),p||f.removeAttribute(r)}),tf--,tf||(Ma=new WeakMap,Ma=new WeakMap,ec=new WeakMap,tc={})}},Ep=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=C3(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),P3(n,a,r,"aria-hidden")):function(){return null}},hn=function(){return hn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},hn.apply(this,arguments)};function Z1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function T3(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var wc="right-scroll-bar-position",bc="width-before-scroll-bar",R3="with-scroll-bars-hidden",A3="--removed-body-scroll-bar-size";function rf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function O3(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var D3=typeof window<"u"?h.useLayoutEffect:h.useEffect,wv=new WeakMap;function M3(e,t){var r=O3(null,function(n){return e.forEach(function(a){return rf(a,n)})});return D3(function(){var n=wv.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||rf(l,null)}),i.forEach(function(l){a.has(l)||rf(l,o)})}wv.set(r,e)},[e]),r}function I3(e){return e}function F3(e,t){t===void 0&&(t=I3);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function L3(e){e===void 0&&(e={});var t=F3(null);return t.options=hn({async:!0,ssr:!1},e),t}var ej=function(e){var t=e.sideCar,r=Z1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,hn({},r))};ej.isSideCarExport=!0;function $3(e,t){return e.useMedium(t),ej}var tj=L3(),nf=function(){},eu=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:nf,onWheelCapture:nf,onTouchMoveCapture:nf}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,g=e.sideCar,p=e.noRelative,b=e.noIsolation,v=e.inert,m=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,N=Z1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=g,S=M3([r,t]),_=hn(hn({},N),a);return h.createElement(h.Fragment,null,u&&h.createElement(j,{sideCar:tj,removeScrollBar:d,shards:f,noRelative:p,noIsolation:b,inert:v,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:w}),o?h.cloneElement(h.Children.only(l),hn(hn({},_),{ref:S})):h.createElement(y,hn({},_,{className:c,ref:S}),l))});eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eu.classNames={fullWidth:bc,zeroRight:wc};var U3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=U3();return t&&e.setAttribute("nonce",t),e}function B3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function W3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var q3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=z3())&&(B3(t,r),W3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V3=function(){var e=q3();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rj=function(){var e=V3(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},H3={left:0,top:0,right:0,gap:0},sf=function(e){return parseInt(e||"",10)||0},G3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[sf(r),sf(n),sf(a)]},Y3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return H3;var t=G3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},K3=rj(),li="data-scroll-locked",Q3=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(R3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(li,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(bc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(wc," .").concat(wc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(bc," .").concat(bc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(li,`] {
    `).concat(A3,": ").concat(l,`px;
  }
`)},bv=function(){var e=parseInt(document.body.getAttribute(li)||"0",10);return isFinite(e)?e:0},J3=function(){h.useEffect(function(){return document.body.setAttribute(li,(bv()+1).toString()),function(){var e=bv()-1;e<=0?document.body.removeAttribute(li):document.body.setAttribute(li,e.toString())}},[])},X3=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;J3();var i=h.useMemo(function(){return Y3(a)},[a]);return h.createElement(K3,{styles:Q3(i,!t,a,r?"":"!important")})},$h=!1;if(typeof window<"u")try{var rc=Object.defineProperty({},"passive",{get:function(){return $h=!0,!0}});window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{$h=!1}var Ia=$h?{passive:!1}:!1,Z3=function(e){return e.tagName==="TEXTAREA"},nj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Z3(e)&&r[t]==="visible")},e6=function(e){return nj(e,"overflowY")},t6=function(e){return nj(e,"overflowX")},jv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=sj(e,n);if(a){var i=aj(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},r6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},n6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},sj=function(e,t){return e==="v"?e6(t):t6(t)},aj=function(e,t){return e==="v"?r6(t):n6(t)},s6=function(e,t){return e==="h"&&t==="rtl"?-1:1},a6=function(e,t,r,n,a){var i=s6(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,g=0;do{if(!l)break;var p=aj(e,l),b=p[0],v=p[1],m=p[2],x=v-m-i*b;(b||x)&&sj(e,l)&&(f+=x,g+=b);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(g)<1||!a))&&(d=!0),d},nc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nv=function(e){return[e.deltaX,e.deltaY]},_v=function(e){return e&&"current"in e?e.current:e},i6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},o6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},l6=0,Fa=[];function c6(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(l6++)[0],i=h.useState(rj)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=T3([e.lockRef.current],(e.shards||[]).map(_v),!0).filter(Boolean);return v.forEach(function(m){return m.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(v,m){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=nc(v),y=r.current,w="deltaX"in v?v.deltaX:y[0]-x[0],N="deltaY"in v?v.deltaY:y[1]-x[1],j,S=v.target,_=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in v&&_==="h"&&S.type==="range")return!1;var R=jv(_,S);if(!R)return!0;if(R?j=_:(j=_==="v"?"h":"v",R=jv(_,S)),!R)return!1;if(!n.current&&"changedTouches"in v&&(w||N)&&(n.current=j),!j)return!0;var P=n.current||j;return a6(P,m,v,P==="h"?w:N,!0)},[]),c=h.useCallback(function(v){var m=v;if(!(!Fa.length||Fa[Fa.length-1]!==i)){var x="deltaY"in m?Nv(m):nc(m),y=t.current.filter(function(j){return j.name===m.type&&(j.target===m.target||m.target===j.shadowParent)&&i6(j.delta,x)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(_v).filter(Boolean).filter(function(j){return j.contains(m.target)}),N=w.length>0?l(m,w[0]):!o.current.noIsolation;N&&m.cancelable&&m.preventDefault()}}},[]),d=h.useCallback(function(v,m,x,y){var w={name:v,delta:m,target:x,should:y,shadowParent:d6(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),u=h.useCallback(function(v){r.current=nc(v),n.current=void 0},[]),f=h.useCallback(function(v){d(v.type,Nv(v),v.target,l(v,e.lockRef.current))},[]),g=h.useCallback(function(v){d(v.type,nc(v),v.target,l(v,e.lockRef.current))},[]);h.useEffect(function(){return Fa.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ia),document.addEventListener("touchmove",c,Ia),document.addEventListener("touchstart",u,Ia),function(){Fa=Fa.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ia),document.removeEventListener("touchmove",c,Ia),document.removeEventListener("touchstart",u,Ia)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(i,{styles:o6(a)}):null,p?h.createElement(X3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function d6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const u6=$3(tj,c6);var tu=h.forwardRef(function(e,t){return h.createElement(eu,hn({},e,{ref:t,sideCar:u6}))});tu.classNames=eu.classNames;var f6=[" ","Enter","ArrowUp","ArrowDown"],h6=[" ","Enter"],xa="Select",[ru,nu,m6]=qm(xa),[qi,X8]=Hn(xa,[m6,$i]),su=$i(),[p6,$s]=qi(xa),[g6,x6]=qi(xa),ij=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:g,required:p,form:b}=e,v=su(t),[m,x]=h.useState(null),[y,w]=h.useState(null),[N,j]=h.useState(!1),S=mp(d),[_,R]=pa({prop:n,defaultProp:a??!1,onChange:i,caller:xa}),[P,C]=pa({prop:o,defaultProp:l,onChange:c,caller:xa}),D=h.useRef(null),M=m?b||!!m.closest("form"):!0,[q,F]=h.useState(new Set),z=Array.from(q).map(W=>W.props.value).join(";");return s.jsx(wb,{...v,children:s.jsxs(p6,{required:p,scope:t,trigger:m,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:Fn(),value:P,onValueChange:C,open:_,onOpenChange:R,dir:S,triggerPointerDownPosRef:D,disabled:g,children:[s.jsx(ru.Provider,{scope:t,children:s.jsx(g6,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(W=>{F(O=>new Set(O).add(W))},[]),onNativeOptionRemove:h.useCallback(W=>{F(O=>{const E=new Set(O);return E.delete(W),E})},[]),children:r})}),M?s.jsxs(Tj,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:P,onChange:W=>C(W.target.value),disabled:g,form:b,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(q)]},z):null]})})};ij.displayName=xa;var oj="SelectTrigger",lj=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=su(r),o=$s(oj,r),l=o.disabled||n,c=Ue(t,o.onTriggerChange),d=nu(r),u=h.useRef("touch"),[f,g,p]=Aj(v=>{const m=d().filter(w=>!w.disabled),x=m.find(w=>w.value===o.value),y=Oj(m,v,x);y!==void 0&&o.onValueChange(y.value)}),b=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Ld,{asChild:!0,...i,children:s.jsx(be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Rj(o.value)?"":void 0,...a,ref:c,onClick:ae(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&b(v)}),onPointerDown:ae(a.onPointerDown,v=>{u.current=v.pointerType;const m=v.target;m.hasPointerCapture(v.pointerId)&&m.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:ae(a.onKeyDown,v=>{const m=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(m&&v.key===" ")&&f6.includes(v.key)&&(b(),v.preventDefault())})})})});lj.displayName=oj;var cj="SelectValue",dj=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=$s(cj,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ue(t,c.onValueNodeChange);return Nt(()=>{d(u)},[d,u]),s.jsx(be.span,{...l,ref:f,style:{pointerEvents:"none"},children:Rj(c.value)?s.jsx(s.Fragment,{children:o}):i})});dj.displayName=cj;var v6="SelectIcon",uj=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(be.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});uj.displayName=v6;var y6="SelectPortal",fj=e=>s.jsx(fl,{asChild:!0,...e});fj.displayName=y6;var va="SelectContent",hj=h.forwardRef((e,t)=>{const r=$s(va,e.__scopeSelect),[n,a]=h.useState();if(Nt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Na.createPortal(s.jsx(mj,{scope:e.__scopeSelect,children:s.jsx(ru.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(pj,{...e,ref:t})});hj.displayName=va;var Or=10,[mj,Us]=qi(va),w6="SelectContentImpl",b6=ma("SelectContent.RemoveScroll"),pj=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:m,...x}=e,y=$s(va,r),[w,N]=h.useState(null),[j,S]=h.useState(null),_=Ue(t,K=>N(K)),[R,P]=h.useState(null),[C,D]=h.useState(null),M=nu(r),[q,F]=h.useState(!1),z=h.useRef(!1);h.useEffect(()=>{if(w)return Ep(w)},[w]),Sp();const W=h.useCallback(K=>{const[ge,...Ee]=M().map(Te=>Te.ref.current),[Pe]=Ee.slice(-1),je=document.activeElement;for(const Te of K)if(Te===je||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===ge&&j&&(j.scrollTop=0),Te===Pe&&j&&(j.scrollTop=j.scrollHeight),Te==null||Te.focus(),document.activeElement!==je))return},[M,j]),O=h.useCallback(()=>W([R,w]),[W,R,w]);h.useEffect(()=>{q&&O()},[q,O]);const{onOpenChange:E,triggerPointerDownPosRef:A}=y;h.useEffect(()=>{if(w){let K={x:0,y:0};const ge=Pe=>{var je,Te;K={x:Math.abs(Math.round(Pe.pageX)-(((je=A.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Te=A.current)==null?void 0:Te.y)??0))}},Ee=Pe=>{K.x<=10&&K.y<=10?Pe.preventDefault():w.contains(Pe.target)||E(!1),document.removeEventListener("pointermove",ge),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[w,E,A]),h.useEffect(()=>{const K=()=>E(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[E]);const[U,X]=Aj(K=>{const ge=M().filter(je=>!je.disabled),Ee=ge.find(je=>je.ref.current===document.activeElement),Pe=Oj(ge,K,Ee);Pe&&setTimeout(()=>Pe.ref.current.focus())}),te=h.useCallback((K,ge,Ee)=>{const Pe=!z.current&&!Ee;(y.value!==void 0&&y.value===ge||Pe)&&(P(K),Pe&&(z.current=!0))},[y.value]),se=h.useCallback(()=>w==null?void 0:w.focus(),[w]),de=h.useCallback((K,ge,Ee)=>{const Pe=!z.current&&!Ee;(y.value!==void 0&&y.value===ge||Pe)&&D(K)},[y.value]),Re=n==="popper"?Uh:gj,me=Re===Uh?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:m}:{};return s.jsx(mj,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:te,selectedItem:R,onItemLeave:se,itemTextRefCallback:de,focusSelectedItem:O,selectedItemText:C,position:n,isPositioned:q,searchRef:U,children:s.jsx(tu,{as:b6,allowPinchZoom:!0,children:s.jsx(Zd,{asChild:!0,trapped:y.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ae(a,K=>{var ge;(ge=y.trigger)==null||ge.focus({preventScroll:!0}),K.preventDefault()}),children:s.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Re,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:K=>K.preventDefault(),...x,...me,onPlaced:()=>F(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ae(x.onKeyDown,K=>{const ge=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ge&&K.key.length===1&&X(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Pe=M().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const je=K.target,Te=Pe.indexOf(je);Pe=Pe.slice(Te+1)}setTimeout(()=>W(Pe)),K.preventDefault()}})})})})})})});pj.displayName=w6;var j6="SelectItemAlignedPosition",gj=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=$s(va,r),o=Us(va,r),[l,c]=h.useState(null),[d,u]=h.useState(null),f=Ue(t,_=>u(_)),g=nu(r),p=h.useRef(!1),b=h.useRef(!0),{viewport:v,selectedItem:m,selectedItemText:x,focusSelectedItem:y}=o,w=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&m&&x){const _=i.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(i.dir!=="rtl"){const je=C.left-R.left,Te=P.left-je,it=_.left-Te,Me=_.width+it,_t=Math.max(Me,R.width),Dt=window.innerWidth-Or,qt=mv(Te,[Or,Math.max(Or,Dt-_t)]);l.style.minWidth=Me+"px",l.style.left=qt+"px"}else{const je=R.right-C.right,Te=window.innerWidth-P.right-je,it=window.innerWidth-_.right-Te,Me=_.width+it,_t=Math.max(Me,R.width),Dt=window.innerWidth-Or,qt=mv(Te,[Or,Math.max(Or,Dt-_t)]);l.style.minWidth=Me+"px",l.style.right=qt+"px"}const D=g(),M=window.innerHeight-Or*2,q=v.scrollHeight,F=window.getComputedStyle(d),z=parseInt(F.borderTopWidth,10),W=parseInt(F.paddingTop,10),O=parseInt(F.borderBottomWidth,10),E=parseInt(F.paddingBottom,10),A=z+W+q+E+O,U=Math.min(m.offsetHeight*5,A),X=window.getComputedStyle(v),te=parseInt(X.paddingTop,10),se=parseInt(X.paddingBottom,10),de=_.top+_.height/2-Or,Re=M-de,me=m.offsetHeight/2,K=m.offsetTop+me,ge=z+W+K,Ee=A-ge;if(ge<=de){const je=D.length>0&&m===D[D.length-1].ref.current;l.style.bottom="0px";const Te=d.clientHeight-v.offsetTop-v.offsetHeight,it=Math.max(Re,me+(je?se:0)+Te+O),Me=ge+it;l.style.height=Me+"px"}else{const je=D.length>0&&m===D[0].ref.current;l.style.top="0px";const it=Math.max(de,z+v.offsetTop+(je?te:0)+me)+Ee;l.style.height=it+"px",v.scrollTop=ge-de+v.offsetTop}l.style.margin=`${Or}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[g,i.trigger,i.valueNode,l,d,v,m,x,i.dir,n]);Nt(()=>w(),[w]);const[N,j]=h.useState();Nt(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const S=h.useCallback(_=>{_&&b.current===!0&&(w(),y==null||y(),b.current=!1)},[w,y]);return s.jsx(_6,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(be.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});gj.displayName=j6;var N6="SelectPopperPosition",Uh=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Or,...i}=e,o=su(r);return s.jsx(op,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uh.displayName=N6;var[_6,Cp]=qi(va,{}),zh="SelectViewport",xj=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Us(zh,r),o=Cp(zh,r),l=Ue(t,i.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ru.Slot,{scope:r,children:s.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ae(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const b=window.innerHeight-Or*2,v=parseFloat(f.style.minHeight),m=parseFloat(f.style.height),x=Math.max(v,m);if(x<b){const y=x+p,w=Math.min(b,y),N=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});xj.displayName=zh;var vj="SelectGroup",[S6,E6]=qi(vj),C6=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Fn();return s.jsx(S6,{scope:r,id:a,children:s.jsx(be.div,{role:"group","aria-labelledby":a,...n,ref:t})})});C6.displayName=vj;var yj="SelectLabel",wj=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=E6(yj,r);return s.jsx(be.div,{id:a.id,...n,ref:t})});wj.displayName=yj;var dd="SelectItem",[k6,bj]=qi(dd),jj=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=$s(dd,r),c=Us(dd,r),d=l.value===n,[u,f]=h.useState(i??""),[g,p]=h.useState(!1),b=Ue(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),v=Fn(),m=h.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(k6,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:h.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(ru.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(be.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:ae(o.onFocus,()=>p(!0)),onBlur:ae(o.onBlur,()=>p(!1)),onClick:ae(o.onClick,()=>{m.current!=="mouse"&&x()}),onPointerUp:ae(o.onPointerUp,()=>{m.current==="mouse"&&x()}),onPointerDown:ae(o.onPointerDown,y=>{m.current=y.pointerType}),onPointerMove:ae(o.onPointerMove,y=>{var w;m.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):m.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ae(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(h6.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});jj.displayName=dd;var mo="SelectItemText",Nj=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=$s(mo,r),l=Us(mo,r),c=bj(mo,r),d=x6(mo,r),[u,f]=h.useState(null),g=Ue(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),p=u==null?void 0:u.textContent,b=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:m}=d;return Nt(()=>(v(b),()=>m(b)),[v,m,b]),s.jsxs(s.Fragment,{children:[s.jsx(be.span,{id:c.textId,...i,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Na.createPortal(i.children,o.valueNode):null]})});Nj.displayName=mo;var _j="SelectItemIndicator",Sj=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return bj(_j,r).isSelected?s.jsx(be.span,{"aria-hidden":!0,...n,ref:t}):null});Sj.displayName=_j;var Bh="SelectScrollUpButton",Ej=h.forwardRef((e,t)=>{const r=Us(Bh,e.__scopeSelect),n=Cp(Bh,e.__scopeSelect),[a,i]=h.useState(!1),o=Ue(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(kj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Ej.displayName=Bh;var Wh="SelectScrollDownButton",Cj=h.forwardRef((e,t)=>{const r=Us(Wh,e.__scopeSelect),n=Cp(Wh,e.__scopeSelect),[a,i]=h.useState(!1),o=Ue(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(kj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Cj.displayName=Wh;var kj=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Us("SelectScrollButton",r),o=h.useRef(null),l=nu(r),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Nt(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ae(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ae(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ae(a.onPointerLeave,()=>{c()})})}),P6="SelectSeparator",Pj=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(be.div,{"aria-hidden":!0,...n,ref:t})});Pj.displayName=P6;var qh="SelectArrow",T6=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=su(r),i=$s(qh,r),o=Us(qh,r);return i.open&&o.position==="popper"?s.jsx(lp,{...a,...n,ref:t}):null});T6.displayName=qh;var R6="SelectBubbleInput",Tj=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=h.useRef(null),i=Ue(n,a),o=E3(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(be.select,{...r,style:{...mw,...r.style},ref:i,defaultValue:t})});Tj.displayName=R6;function Rj(e){return e===""||e===void 0}function Aj(e){const t=Er(e),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Oj(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=A6(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function A6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var O6=ij,Dj=lj,D6=dj,M6=uj,I6=fj,Mj=hj,F6=xj,Ij=wj,Fj=jj,L6=Nj,$6=Sj,Lj=Ej,$j=Cj,Uj=Pj;const zj=O6,Bj=D6,kp=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Dj,{ref:n,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(M6,{asChild:!0,children:s.jsx(Ym,{className:"h-4 w-4 opacity-50"})})]}));kp.displayName=Dj.displayName;const Wj=h.forwardRef(({className:e,...t},r)=>s.jsx(Lj,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($w,{className:"h-4 w-4"})}));Wj.displayName=Lj.displayName;const qj=h.forwardRef(({className:e,...t},r)=>s.jsx($j,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ym,{className:"h-4 w-4"})}));qj.displayName=$j.displayName;const Pp=h.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(I6,{children:s.jsxs(Mj,{ref:a,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Wj,{}),s.jsx(F6,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(qj,{})]})}));Pp.displayName=Mj.displayName;const U6=h.forwardRef(({className:e,...t},r)=>s.jsx(Ij,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));U6.displayName=Ij.displayName;const un=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Fj,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($6,{children:s.jsx(yE,{className:"h-4 w-4"})})}),s.jsx(L6,{children:t})]}));un.displayName=Fj.displayName;const z6=h.forwardRef(({className:e,...t},r)=>s.jsx(Uj,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));z6.displayName=Uj.displayName;const af={async registerForEvent(e){try{const t=localStorage.getItem("user");let r=null;if(t&&(r=JSON.parse(t)),!r){const{data:{user:n},error:a}=await $.auth.getUser();if(a||!n)return{success:!1,message:"Please log in to register for events"};r=n}if(!(r!=null&&r.id))return{success:!1,message:"Please log in to register for events"};try{console.log("Using new registration function...");const{data:n,error:a}=await $.rpc("register_user_for_event",{p_event_id:e,p_user_id:r.id});if(a)throw console.log("New function failed, trying direct insert:",a),new Error("NEW_FUNCTION_ERROR");return console.log("New registration function result:",n),n}catch(n){console.error("New function failed, trying direct database insert:",n);try{const{error:a}=await $.from("event_registrations").insert([{event_id:e,participant_id:r.id,registration_date:new Date().toISOString(),attendance_status:"registered"}]);if(a){if(a.message.includes("duplicate")||a.code==="23505")return{success:!1,message:"You are already registered for this event"};throw a.message.includes("401")||a.code==="401"?new Error("RLS_POLICY_ERROR"):a}try{await $.rpc("increment_event_participants",{event_id:e})}catch(i){console.error("Failed to update participant count:",i)}return{success:!0,message:"Successfully registered for the event!"}}catch(a){console.error("Direct registration failed, trying SQL functions:",a);try{const{data:i,error:o}=await $.rpc("register_for_event_with_user_id",{p_event_id:e,p_user_id:r.id});return o?{success:!1,message:"Registration failed. Please run the SQL fix script."}:i}catch(i){return console.error("All registration methods failed:",i),{success:!1,message:"Failed to register for event. Please try again."}}}}}catch(t){return console.error("Registration service error:",t),{success:!1,message:"An unexpected error occurred. Please try again."}}},async unregisterFromEvent(e){try{const t=localStorage.getItem("user");let r=null;if(t&&(r=JSON.parse(t)),!r){const{data:{user:n},error:a}=await $.auth.getUser();if(a||!n)return{success:!1,message:"Please log in to unregister from events"};r=n}if(!(r!=null&&r.id))return{success:!1,message:"Please log in to unregister from events"};try{const{error:n}=await $.from("event_registrations").delete().eq("event_id",e).eq("participant_id",r.id);if(n)throw n;try{await $.rpc("decrement_event_participants",{event_id:e})}catch(a){console.error("Failed to update participant count:",a)}return{success:!0,message:"Successfully unregistered from the event"}}catch(n){console.error("Direct unregistration failed, trying SQL function:",n);const{data:a,error:i}=await $.rpc("unregister_user_from_event",{p_event_id:e,p_user_id:r.id});return i?(console.error("New unregister function failed:",i),{success:!1,message:"Failed to unregister from event. Please try again."}):a}}catch(t){return console.error("Unregistration service error:",t),{success:!1,message:"An unexpected error occurred. Please try again."}}},async isUserRegistered(e,t){try{const{data:r,error:n}=await $.from("event_registrations").select("id").eq("event_id",e).eq("participant_id",t).limit(1);return n?(console.error("Check registration error:",n),!1):r&&r.length>0}catch(r){return console.error("Check registration service error:",r),!1}},async getUserRegistrations(e){try{const{data:t,error:r}=await $.from("event_registrations").select(`
          id,
          registration_date,
          attendance_status,
          event:event_id (
            id,
            title,
            date,
            time,
            venue,
            event_type,
            current_participants,
            max_participants,
            status
          )
        `).eq("participant_id",e).order("registration_date",{ascending:!1});return r?(console.error("Get user registrations error:",r),[]):t||[]}catch(t){return console.error("Get user registrations service error:",t),[]}},async fixParticipantCounts(){try{console.log("Attempting to fix participant counts...");try{const{data:r,error:n}=await $.rpc("fix_all_participant_counts_now");if(!n&&r)return console.log("New fix function result:",r),{success:!0,message:r}}catch{console.log("New fix function not available, trying others...")}try{const{data:r,error:n}=await $.rpc("fix_participant_counts_simple");if(!n&&r)return console.log("Simple function result:",r),{success:!0,message:r}}catch{console.log("Simple function not available, trying original...")}const{data:e,error:t}=await $.rpc("fix_all_participant_counts");if(t){console.error("Fix participant counts RPC error:",t),console.log("SQL function not found, manually fixing counts...");const{data:r,error:n}=await $.from("events").select("id, title, current_participants");if(n)return console.error("Failed to get events:",n),{success:!1,message:"Failed to get events: "+n.message};let a=0;for(const i of r||[])try{const{data:o,error:l}=await $.from("event_registrations").select("id",{count:"exact",head:!0}).eq("event_id",i.id);if(l){console.error(`Failed to count registrations for event ${i.id}:`,l);try{const{data:d,error:u}=await $.rpc("count_event_registrations",{p_event_id:i.id});if(!u&&typeof d=="number"){const f=d;if(f!==i.current_participants){const{error:g}=await $.from("events").update({current_participants:f}).eq("id",i.id);g||(console.log(`Updated ${i.title}: ${i.current_participants} -> ${f}`),a++)}}}catch(d){console.error(`RPC count failed for event ${i.id}:`,d)}continue}const c=(o==null?void 0:o.length)||0;if(c!==i.current_participants){const{error:d}=await $.from("events").update({current_participants:c}).eq("id",i.id);d?console.error(`Failed to update count for event ${i.id}:`,d):(console.log(`Updated ${i.title}: ${i.current_participants} -> ${c}`),a++)}}catch(o){console.error(`Error processing event ${i.id}:`,o)}return{success:!0,message:`Manually fixed participant counts for ${a} events`}}return console.log("SQL function result:",e),{success:!0,message:e||"Participant counts fixed successfully"}}catch(e){return console.error("Fix participant counts service error:",e),{success:!1,message:"An error occurred while fixing participant counts: "+e.message}}}},B6=()=>{const e=_n(),{toast:t}=hr(),[r,n]=h.useState(null),[a,i]=h.useState("calendar"),[o,l]=h.useState(""),[c,d]=h.useState("all"),[u,f]=h.useState(!1),[g,p]=h.useState(null),[b,v]=h.useState([]),[m,x]=h.useState(""),[y,w]=h.useState(""),[N,j]=h.useState(""),[S,_]=h.useState("rejection_complaint"),[R,P]=h.useState(!1),[C,D]=h.useState(null),[M,q]=h.useState(!1),[F,z]=h.useState([]),[W,O]=h.useState(!1),[E,A]=h.useState({eventRequestedBy:"",position:"",organization:"",contactNumber:"",email:"",dateOfSubmission:new Date().toISOString().split("T")[0],eventName:"",purpose:"",participants:"",modality:"Face-to-Face",eventDate:"",eventTime:"",venue:"",overallInCharge:"",invitation:"",program:"",soundSystem:"",stageDecoration:"",demolitionCleanup:"",foodRefreshments:"",safetySecurityUsher:"",documentation:"",registration:"",evaluation:"",letterOfRequest:!1,studentBoardResolution:!1,eventProgramInvitation:!1,listOfPermits:!1,copyOfCertificate:!1,postEventResult:!1,accomplishmentReport:!1});h.useState({title:"",description:"",date:"",time:"",venue:"",event_type:"Academic",custom_event_type:"",expected_participants:50,requirements:"",budget_estimate:0,request_reason:""});const[U,X]=h.useState([]),[te,se]=h.useState([]),[de,Re]=h.useState([]),me=async()=>{try{f(!0);const k=Date.now(),[{data:V},{data:fe}]=await Promise.all([$.from("events").select(`
            *,
            organizer:organizer_id (name)
          `).eq("status","approved").order("date",{ascending:!0}).range(0,1e3),$.from("event_requests").select(`
            *,
            requester:requester_id (name)
          `).eq("status","approved").order("date",{ascending:!0})]);if(console.log("Fresh events data loaded:",(V==null?void 0:V.length)||0,"organizer events"),console.log("Fresh event requests loaded:",(fe==null?void 0:fe.length)||0,"event requests"),!(r!=null&&r.id)){X([]);return}let Ve=[],Mt=[];try{const{data:ue}=await $.from("event_registrations").select("event_id").eq("participant_id",r.id);Ve=ue||[]}catch{console.log("Event registrations table not found, creating empty array..."),Ve=[]}try{const{data:ue}=await $.from("event_favorites").select("event_id").eq("user_id",r.id);Mt=ue||[]}catch{console.log("Event favorites table not found, creating empty array..."),Mt=[]}const yt=(Ve==null?void 0:Ve.map(ue=>ue.event_id))||[],rn=(Mt==null?void 0:Mt.map(ue=>ue.event_id))||[],ut=(V||[]).map(ue=>{var ot;return{id:ue.id,title:ue.title,date:ue.date,time:ue.time,venue:ue.venue,organizer_name:((ot=ue.organizer)==null?void 0:ot.name)||"Unknown",current_participants:ue.current_participants||0,max_participants:ue.max_participants||100,status:ue.status,event_type:ue.event_type,description:ue.description||"",isRegistered:yt.includes(ue.id),isFavorite:rn.includes(ue.id),isMyEvent:!1}}),rr=(fe||[]).map(ue=>{var ot;return{id:ue.id,title:ue.title,date:ue.date,time:ue.time,venue:ue.venue,organizer_name:((ot=ue.requester)==null?void 0:ot.name)||"Unknown",current_participants:0,max_participants:ue.expected_participants||50,status:"approved",event_type:ue.event_type,description:ue.description||"",isRegistered:yt.includes(ue.id),isFavorite:rn.includes(ue.id),isMyEvent:ue.requester_id===r.id}}),Bs=[...ut,...rr],mr=await Promise.all(Bs.map(async ue=>{try{const{count:ot,error:Ca}=await $.from("event_registrations").select("*",{count:"exact",head:!0}).eq("event_id",ue.id);return{...ue,current_participants:ot||0}}catch(ot){return console.log(`Failed to get count for event ${ue.title}:`,ot),{...ue,current_participants:0}}}));console.log("Events with updated participant counts:"),mr.forEach(ue=>{console.log(`${ue.title}: ${ue.current_participants}/${ue.max_participants}`)}),X(mr)}catch(k){console.error("Error loading events:",k),t({title:"Error",description:"Failed to load events",variant:"destructive"}),X([])}finally{f(!1)}},K=async()=>{if(r!=null&&r.id)try{const{data:k,error:V}=await $.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(V){console.error("Error loading notifications:",V);return}console.log("Loaded notifications:",k),se(k||[])}catch(k){console.error("Error loading notifications:",k)}},ge=async()=>{if(r!=null&&r.id)try{console.log("Loading reports for user:",r.id);const{data:k,error:V}=await $.from("reports").select("*").eq("reporter_id",r.id).order("created_at",{ascending:!1});if(V){if(console.error("Reports query error:",V),V.message.includes('relation "reports" does not exist')){t({title:"Database Setup Required",description:"Reports table not found. Please run the database setup script first.",variant:"destructive"}),Re([]);return}throw V}console.log("Raw reports data:",k);const fe=(k||[]).map(Ve=>({...Ve,event_title:Ve.related_event_id?"Related Event":"General Report"}));console.log("Formatted reports:",fe),Re(fe)}catch(k){console.error("Error loading reports:",k),t({title:"Error",description:"Failed to load reports. Please check database setup.",variant:"destructive"}),Re([])}},Ee=async k=>{try{console.log("Loading messages for report:",k);const{data:V,error:fe}=await $.from("report_messages").select("*").eq("report_id",k).order("created_at",{ascending:!0});if(fe){console.error("Error loading messages:",fe);return}console.log("Raw messages data:",V);let Ve=[];if(V&&V.length>0)try{const Mt=[...new Set(V.map(ut=>ut.sender_id))],{data:yt}=await $.from("users").select("id, name, role").in("id",Mt),rn=new Map;yt==null||yt.forEach(ut=>rn.set(ut.id,{name:ut.name,role:ut.role})),Ve=V.map(ut=>{const rr=rn.get(ut.sender_id)||{name:"Unknown",role:"user"};return{id:ut.id,message:ut.message,sender_id:ut.sender_id,sender_name:rr.name,sender_role:rr.role,created_at:ut.created_at}})}catch{console.log("Could not load sender names, using fallback"),Ve=V.map(yt=>({id:yt.id,message:yt.message,sender_id:yt.sender_id,sender_name:yt.sender_id===(r==null?void 0:r.id)?"You":"Admin",sender_role:yt.sender_id===(r==null?void 0:r.id)?"participant":"admin",created_at:yt.created_at}))}console.log("Formatted messages:",Ve),v(Ve)}catch(V){console.error("Error loading report messages:",V)}},Pe=async()=>{if(r!=null&&r.id)try{console.log("Loading event requests for user:",r.id);const{data:k,error:V}=await $.from("event_requests").select("*").eq("requester_id",r.id).order("created_at",{ascending:!1});if(V)throw console.error("Supabase error:",V),V;console.log("Event requests loaded:",k),z(k||[])}catch(k){console.error("Error loading event requests:",k),t({title:"Info",description:"No event requests found or table not created yet."}),z([])}};h.useEffect(()=>{const k=localStorage.getItem("user");if(k){const V=JSON.parse(k);n(V),V.role!=="participant"&&(V.role==="organizer"?e("/organizer-dashboard"):e("/dashboard"))}else e("/login")},[e]),h.useEffect(()=>{r!=null&&r.id&&(me(),K(),ge(),Pe())},[r]),h.useEffect(()=>{a==="notifications"&&(r!=null&&r.id)&&K()},[a,r==null?void 0:r.id]),h.useEffect(()=>{a==="reports"&&(r!=null&&r.id)&&(ge(),g&&Ee(g.id))},[a,r==null?void 0:r.id]),h.useEffect(()=>{if(g&&a==="reports"){const k=setInterval(()=>{Ee(g.id)},5e3);return()=>clearInterval(k)}},[g,a]);const je=()=>{localStorage.removeItem("user"),e("/login")},Te=async k=>{if(r!=null&&r.id)try{const V=U.find(fe=>fe.id===k);if(!V)return;if(V.isRegistered){const fe=await af.unregisterFromEvent(k);if(!fe.success)throw new Error(fe.message);t({title:"Unregistered",description:`You have been unregistered from ${V.title}`})}else{if(V.current_participants>=V.max_participants){t({title:"Event Full",description:"This event has reached maximum capacity",variant:"destructive"});return}const fe=await af.registerForEvent(k);if(!fe.success)throw new Error(fe.message);try{await $.from("notifications").insert([{user_id:r.id,title:"Registration Confirmed",message:`Your registration for "${V.title}" has been confirmed.`,type:"registration_confirmed",related_event_id:k}])}catch(Ve){console.log("Notification creation failed (non-critical):",Ve)}t({title:"Registered Successfully",description:`You have been registered for ${V.title}`})}await me(),await K()}catch(V){console.error("Registration error:",V),t({title:"Registration Failed",description:V instanceof Error?V.message:"Failed to update registration. Please try again.",variant:"destructive"})}},it=async()=>{try{f(!0),console.log("Forcing database count update...");const{error:k}=await $.rpc("sql",{query:`
          UPDATE events 
          SET current_participants = (
              SELECT COUNT(*) 
              FROM event_registrations 
              WHERE event_id = events.id
          );
        `});if(k){console.log("Direct SQL failed, trying function...");const V=await af.fixParticipantCounts();V.success?t({title:"Counts Updated",description:V.message}):t({title:"Update Failed",description:V.message,variant:"destructive"})}else t({title:"Counts Updated",description:"Force updated participant counts"});await me()}catch(k){console.error("Fix counts error:",k),t({title:"Update Failed",description:"Failed to update participant counts",variant:"destructive"})}finally{f(!1)}},Me=async k=>{if(r!=null&&r.id)try{const V=U.find(fe=>fe.id===k);if(!V)return;if(V.isFavorite){const{error:fe}=await $.from("event_favorites").delete().eq("event_id",k).eq("user_id",r.id);if(fe){if(console.error("Remove favorite error:",fe),fe.message.includes('relation "event_favorites" does not exist')){t({title:"Database Setup Required",description:"Please run the database setup script first.",variant:"destructive"});return}throw fe}t({title:"Removed from Favorites",description:`${V.title} has been removed from your favorites.`})}else{const{error:fe}=await $.from("event_favorites").insert([{event_id:k,user_id:r.id}]);if(fe){if(console.error("Add favorite error:",fe),fe.message.includes('relation "event_favorites" does not exist')){t({title:"Database Setup Required",description:"Please run the database setup script first.",variant:"destructive"});return}if(fe.message.includes("duplicate key")||fe.code==="23505"){t({title:"Already in Favorites",description:`${V.title} is already in your favorites.`}),await me();return}throw fe}t({title:"Added to Favorites",description:`${V.title} has been added to your favorites.`})}await me()}catch(V){console.error("Favorite toggle error:",V),t({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},_t=async k=>{try{const{error:V}=await $.from("notifications").update({is_read:!0}).eq("id",k);if(V)throw V;se(te.map(fe=>fe.id===k?{...fe,is_read:!0}:fe))}catch(V){console.error("Mark as read error:",V)}},Dt=async()=>{if(!(r!=null&&r.id)||!y.trim()||!N.trim()){t({title:"Invalid Input",description:"Please fill in all required fields",variant:"destructive"});return}try{console.log("Creating report:",{reporter_id:r.id,title:y,description:N,report_type:S});const{data:k,error:V}=await $.from("reports").insert([{reporter_id:r.id,title:y,description:N,report_type:S}]).select().single();if(V){if(console.error("Create report error:",V),V.message.includes('relation "reports" does not exist')){t({title:"Database Setup Required",description:"Reports table not found. Please run the database setup script first.",variant:"destructive"});return}throw V}console.log("Report created successfully:",k);try{await $.from("report_messages").insert([{report_id:k.id,sender_id:r.id,message:N}]),console.log("Initial message added to report")}catch(fe){console.log("Could not add initial message (non-critical):",fe)}t({title:"Report Submitted",description:"Your report has been submitted successfully. An admin will respond soon."}),w(""),j(""),P(!1),await ge()}catch(k){console.error("Create report error:",k),t({title:"Error",description:"Failed to submit report. Please try again.",variant:"destructive"})}},qt=async()=>{if(!(!(r!=null&&r.id)||!g||!m.trim()))try{console.log("Sending message:",{report_id:g.id,sender_id:r.id,message:m}),await $.from("report_messages").insert([{report_id:g.id,sender_id:r.id,message:m}]),x(""),await Ee(g.id),t({title:"Message Sent",description:"Your message has been sent to the admin."})}catch(k){console.error("Send message error:",k),t({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}},en=async()=>{if(!(r!=null&&r.id)||!E.eventRequestedBy.trim()||!E.eventName.trim()||!E.purpose.trim()||!E.eventDate||!E.venue.trim()){t({title:"Missing Information",description:"Please fill in all required fields marked with *",variant:"destructive"});return}try{f(!0),console.log("Submitting official event request for user:",r.id);const k={requester_id:r.id,title:E.eventName,description:E.purpose,date:E.eventDate,time:E.eventTime,venue:E.venue,event_type:"Official Form",expected_participants:parseInt(E.participants)||50,requirements:`Committee: ${E.invitation}, ${E.program}`,budget_estimate:0,request_reason:E.purpose,form_data:E},{data:V,error:fe}=await $.from("event_requests").insert([k]).select().single();if(fe)throw console.error("Supabase insert error:",fe),fe;try{await $.from("notifications").insert([{user_id:r.id,title:"Event Request Submitted",message:`Your official event request "${E.eventName}" has been submitted for admin review.`,type:"announcement"}])}catch(Ve){console.log("Notification error (non-critical):",Ve)}t({title:"Request Submitted Successfully! ",description:"Your event request has been submitted and is under review by administrators."}),A({eventRequestedBy:"",position:"",organization:"",contactNumber:"",email:"",dateOfSubmission:new Date().toISOString().split("T")[0],eventName:"",purpose:"",participants:"",modality:"Face-to-Face",eventDate:"",eventTime:"",venue:"",overallInCharge:"",invitation:"",program:"",soundSystem:"",stageDecoration:"",demolitionCleanup:"",foodRefreshments:"",safetySecurityUsher:"",documentation:"",registration:"",evaluation:"",letterOfRequest:!1,studentBoardResolution:!1,eventProgramInvitation:!1,listOfPermits:!1,copyOfCertificate:!1,postEventResult:!1,accomplishmentReport:!1}),O(!1),await Pe(),await K()}catch(k){console.error("Submit official event request error:",k),t({title:"Submission Failed",description:"There was an error submitting your request. Please try again.",variant:"destructive"})}finally{f(!1)}},Cr=k=>{const V=k.form_data||{},fe=`
      <div style="max-width: 800px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif; line-height: 1.4;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="font-size: 24px; font-weight: bold; margin-bottom: 10px;">EVENT REQUEST FORM</h1>
          <div style="display: inline-block; padding: 10px 20px; background: #10b981; color: white; border-radius: 8px; font-weight: bold;">
            ${k.status.toUpperCase()}
          </div>
        </div>

        <div style="border: 2px solid #3b82f6; padding: 20px; margin-bottom: 20px; background: #eff6ff;">
          <h3 style="color: #1e40af; margin-bottom: 15px; font-size: 18px;"> REQUEST DETAILS</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div><strong>Event Requested By:</strong> ${V.eventRequestedBy||"N/A"}</div>
            <div><strong>Position/Designation:</strong> ${V.position||"N/A"}</div>
            <div><strong>Organization/Department:</strong> ${V.organization||"N/A"}</div>
            <div><strong>Contact Number/Email:</strong> ${V.contactNumber||"N/A"}</div>
            <div><strong>Date of Submission:</strong> ${V.dateOfSubmission||"N/A"}</div>
          </div>
        </div>

        <div style="border: 2px solid #10b981; padding: 20px; margin-bottom: 20px; background: #f0fdf4;">
          <h3 style="color: #15803d; margin-bottom: 15px; font-size: 18px;"> EVENT INFORMATION</h3>
          <div style="margin-bottom: 10px;"><strong>Event Name:</strong> ${k.title}</div>
          <div style="margin-bottom: 10px;"><strong>Purpose:</strong> ${k.description}</div>
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 10px;">
            <div><strong>Participants:</strong> ${V.participants||k.expected_participants}</div>
            <div><strong>Modality:</strong> ${V.modality||"N/A"}</div>
            <div><strong>Overall In-Charge:</strong> ${V.overallInCharge||"N/A"}</div>
          </div>
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
            <div><strong>Event Date:</strong> ${k.date}</div>
            <div><strong>Event Time:</strong> ${k.time}</div>
            <div><strong>Venue:</strong> ${k.venue}</div>
          </div>
        </div>

        <div style="border: 2px solid #8b5cf6; padding: 20px; margin-bottom: 20px; background: #faf5ff;">
          <h3 style="color: #7c3aed; margin-bottom: 15px; font-size: 18px;"> COMMITTEE ASSIGNMENTS</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div><strong>1. Invitation:</strong> ${V.invitation||"N/A"}</div>
            <div><strong>2. Program:</strong> ${V.program||"N/A"}</div>
            <div><strong>3. Sound System:</strong> ${V.soundSystem||"N/A"}</div>
            <div><strong>4. Stage Decoration:</strong> ${V.stageDecoration||"N/A"}</div>
            <div><strong>5. Demolition/Clean-Up:</strong> ${V.demolitionCleanup||"N/A"}</div>
            <div><strong>6. Food/Refreshments:</strong> ${V.foodRefreshments||"N/A"}</div>
            <div><strong>7. Safety & Security:</strong> ${V.safetySecurityUsher||"N/A"}</div>
            <div><strong>8. Documentation:</strong> ${V.documentation||"N/A"}</div>
            <div><strong>9. Registration:</strong> ${V.registration||"N/A"}</div>
            <div><strong>10. Evaluation:</strong> ${V.evaluation||"N/A"}</div>
          </div>
        </div>

        <div style="border: 2px solid #f59e0b; padding: 20px; margin-bottom: 20px; background: #fffbeb;">
          <h3 style="color: #d97706; margin-bottom: 15px; font-size: 18px;"> PRE-EVENT REQUIREMENTS</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div> Letter of Request: ${V.letterOfRequest?" Completed":" Pending"}</div>
            <div> Student Board Resolution: ${V.studentBoardResolution?" Completed":" Pending"}</div>
            <div> Event Program/Invitation: ${V.eventProgramInvitation?" Completed":" Pending"}</div>
            <div> List of Permits Needed: ${V.listOfPermits?" Completed":" Pending"}</div>
            <div> Copy of Certificate: ${V.copyOfCertificate?" Completed":" Pending"}</div>
          </div>
        </div>

        <div style="border: 2px solid #ef4444; padding: 20px; margin-bottom: 20px; background: #fef2f2;">
          <h3 style="color: #dc2626; margin-bottom: 15px; font-size: 18px;"> IMPORTANT REMINDERS</h3>
          <ul style="margin: 0; padding-left: 20px;">
            <li>Requests must be submitted at least 8 days before the event date</li>
            <li>Office hours: Monday to Friday, 8:00 AM - 5:00 PM</li>
            <li>Incomplete requirements will not be accepted</li>
          </ul>
        </div>

        <div style="text-align: center; margin-top: 30px; padding: 20px; border: 2px solid #10b981; background: #f0fdf4;">
          <div style="font-size: 24px; font-weight: bold; color: #15803d; margin-bottom: 10px;">
             ${k.status.toUpperCase()}
          </div>
          <div style="font-size: 14px; color: #6b7280;">
            Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}
          </div>
        </div>
      </div>
    `,Ve=window.open("","_blank");Ve&&(Ve.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Event Request - ${k.title}</title>
            <style>
              @media print {
                body { margin: 0; }
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            ${fe}
            <div class="no-print" style="text-align: center; margin: 20px;">
              <button onclick="window.print()" style="padding: 10px 20px; background: #3b82f6; color: white; border: none; border-radius: 5px; cursor: pointer;">Print PDF</button>
              <button onclick="window.close()" style="padding: 10px 20px; background: #6b7280; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">Close</button>
            </div>
          </body>
        </html>
      `),Ve.document.close())},tn=k=>{switch(k){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";case"open":return"bg-red-100 text-red-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Vt=k=>{switch(k){case"event_approved":return s.jsx(wn,{className:"w-4 h-4 text-green-600"});case"event_rejected":return s.jsx(ml,{className:"w-4 h-4 text-red-600"});case"event_reminder":return s.jsx($t,{className:"w-4 h-4 text-blue-600"});case"registration_confirmed":return s.jsx(Je,{className:"w-4 h-4 text-green-600"});case"announcement":return s.jsx(Tt,{className:"w-4 h-4 text-purple-600"});default:return s.jsx(Tt,{className:"w-4 h-4"})}},kr=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Pr=k=>new Date(k).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ea=U.filter(k=>{const V=k.title.toLowerCase().includes(o.toLowerCase())||k.description.toLowerCase().includes(o.toLowerCase())||k.organizer_name.toLowerCase().includes(o.toLowerCase());return c==="all"?V:c==="available"?V&&!k.isMyEvent:c==="myevents"?V&&k.isMyEvent:c==="registered"?V&&k.isRegistered:c==="favorites"?V&&k.isFavorite:V&&k.event_type.toLowerCase()===c.toLowerCase()}),Kn=te.filter(k=>!k.is_read).length;return r?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[s.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-border/50 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:xl,alt:"Logo",className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold gradient-primary bg-clip-text text-transparent",children:"Participant Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"School Event Management"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(I,{variant:"ghost",size:"sm",className:"relative",children:[s.jsx(Tt,{className:"w-4 h-4"}),Kn>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Kn})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:r.name}),s.jsx(oe,{variant:"secondary",children:"Participant"})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:je,children:s.jsx(Km,{className:"w-4 h-4"})})]})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(gp,{value:a,onValueChange:i,className:"space-y-6",children:[s.jsxs(Gd,{className:"grid w-full grid-cols-4 bg-white/50 backdrop-blur-sm",children:[s.jsxs(Br,{value:"calendar",className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"w-4 h-4"}),s.jsx("span",{children:"Calendar"})]}),s.jsxs(Br,{value:"request",className:"flex items-center space-x-2",children:[s.jsx(At,{className:"w-4 h-4"}),s.jsx("span",{children:"Request Event"})]}),s.jsxs(Br,{value:"notifications",className:"flex items-center space-x-2 relative",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:"Notifications"}),Kn>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Kn})]}),s.jsxs(Br,{value:"reports",className:"flex items-center space-x-2",children:[s.jsx(ea,{className:"w-4 h-4"}),s.jsx("span",{children:"Reports"})]})]}),s.jsxs(Wr,{value:"calendar",className:"space-y-6",children:[s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(ee,{placeholder:"Search events...",value:o,onChange:k=>l(k.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Od,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("select",{value:c,onChange:k=>d(k.target.value),className:"px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"all",children:"All Events"}),s.jsx("option",{value:"available",children:"Available Events"}),s.jsx("option",{value:"myevents",children:"My Events"}),s.jsx("option",{value:"registered",children:"Registered Events"}),s.jsx("option",{value:"favorites",children:"Favorites"}),s.jsx("option",{value:"academic",children:"Academic"}),s.jsx("option",{value:"sports",children:"Sports"}),s.jsx("option",{value:"cultural",children:"Cultural"}),s.jsx("option",{value:"social",children:"Social"}),s.jsx("option",{value:"workshop",children:"Workshop"}),s.jsx("option",{value:"conference",children:"Conference"}),s.jsx("option",{value:"competition",children:"Competition"}),s.jsx("option",{value:"seminar",children:"Seminar"}),s.jsx("option",{value:"training",children:"Training"}),s.jsx("option",{value:"others",children:"Others"})]}),s.jsx(I,{onClick:it,disabled:u,variant:"outline",size:"sm",className:"ml-2",children:u?"Updating...":"Fix Counts"}),s.jsx(I,{onClick:async()=>{try{const{data:k,error:V}=await $.rpc("fix_all_participant_counts_now");console.log("Manual fix result:",k,V),t({title:V?"Error":"Success",description:V?V.message:k,variant:V?"destructive":"default"}),V||await me()}catch(k){console.error("Manual fix error:",k)}},variant:"outline",size:"sm",className:"ml-2",children:"Manual Fix"}),s.jsx(I,{onClick:()=>{window.location.reload()},variant:"outline",size:"sm",className:"ml-2",children:"Hard Refresh"})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Events"}),s.jsx("p",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:U.filter(k=>!k.isMyEvent).length})]}),s.jsx(Ho,{className:"w-8 h-8 text-primary"})]})})}),s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"My Events"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:U.filter(k=>k.isMyEvent).length})]}),s.jsx(wn,{className:"w-8 h-8 text-green-600"})]})})}),s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Registered"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:U.filter(k=>k.isRegistered).length})]}),s.jsx(Ye,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(J,{className:"card-elevated",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Favorites"}),s.jsx("p",{className:"text-3xl font-bold text-red-500",children:U.filter(k=>k.isFavorite).length})]}),s.jsx(In,{className:"w-8 h-8 text-red-500"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ea.map(k=>s.jsx(J,{className:"card-elevated overflow-hidden",children:s.jsxs(Z,{className:"p-0",children:[s.jsxs("div",{className:"relative p-6 pb-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oe,{className:tn(k.status),children:k.status}),k.isMyEvent&&s.jsx(oe,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"My Event"})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:()=>Me(k.id),className:"p-1",children:s.jsx(In,{className:`w-4 h-4 ${k.isFavorite?"fill-red-500 text-red-500":"text-muted-foreground"}`})})]}),s.jsx("h3",{className:"font-bold text-lg mb-2 cursor-pointer hover:text-primary",onClick:()=>{D(k),q(!0)},children:k.title}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:k.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[kr(k.date)," at ",k.time]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:k.venue})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:k.organizer_name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[k.current_participants,"/",k.max_participants," participants"]})]})]})]}),s.jsx("div",{className:"border-t p-4 bg-muted/20",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(I,{variant:k.isRegistered?"secondary":"default",size:"sm",onClick:()=>Te(k.id),className:"flex-1",disabled:u||k.status==="completed"||k.current_participants>=k.max_participants&&!k.isRegistered,children:u?"Loading...":k.isRegistered?"Registered":"Register"}),s.jsx(I,{variant:"ghost",size:"sm",children:s.jsx(pl,{className:"w-4 h-4"})})]})})]})},k.id))}),Ea.length===0&&s.jsx(J,{className:"card-elevated",children:s.jsxs(Z,{className:"p-12 text-center",children:[s.jsx(Ho,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No events found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})})]}),s.jsx(Wr,{value:"request",className:"space-y-6",children:s.jsxs(J,{className:"card-elevated",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Request New Event"}),s.jsx(Fe,{children:"Submit a request for a new event to be organized"})]}),s.jsxs(I,{className:"gradient-primary",onClick:()=>O(!0),disabled:W,children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"New Request"]})]})}),s.jsxs(Z,{children:[W&&s.jsxs(J,{className:"mb-6 border-2 border-primary/20 bg-primary/5",children:[s.jsxs(ye,{children:[s.jsx(we,{className:"text-primary text-center text-xl",children:"EVENT REQUEST FORM"}),s.jsx(Fe,{className:"text-center",children:"Complete all sections marked with * are required"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:" REQUEST DETAILS"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"requested-by",children:" Event Requested By: *"}),s.jsx(ee,{id:"requested-by",value:E.eventRequestedBy,onChange:k=>A({...E,eventRequestedBy:k.target.value}),placeholder:"Your full name"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"position",children:" Position / Designation: *"}),s.jsx(ee,{id:"position",value:E.position,onChange:k=>A({...E,position:k.target.value}),placeholder:"Your position or title"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"organization",children:" Organization / Department: *"}),s.jsx(ee,{id:"organization",value:E.organization,onChange:k=>A({...E,organization:k.target.value}),placeholder:"Your organization or department"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"contact",children:" Contact Number / Email: *"}),s.jsx(ee,{id:"contact",value:E.contactNumber,onChange:k=>A({...E,contactNumber:k.target.value}),placeholder:"Phone number or email"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"submission-date",children:" Date of Submission:"}),s.jsx(ee,{id:"submission-date",type:"date",value:E.dateOfSubmission,onChange:k=>A({...E,dateOfSubmission:k.target.value}),className:"bg-gray-100",readOnly:!0})]})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:" EVENT INFORMATION"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"event-name",children:" Event Name: *"}),s.jsx(ee,{id:"event-name",value:E.eventName,onChange:k=>A({...E,eventName:k.target.value}),placeholder:"Name of your event"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"purpose",children:" Purpose: *"}),s.jsx(ee,{id:"purpose",value:E.purpose,onChange:k=>A({...E,purpose:k.target.value}),placeholder:"Purpose of the event"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"participants",children:" Participants: *"}),s.jsx(ee,{id:"participants",value:E.participants,onChange:k=>A({...E,participants:k.target.value}),placeholder:"Number of participants"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"modality",children:" Modality: *"}),s.jsxs(zj,{value:E.modality,onValueChange:k=>A({...E,modality:k}),children:[s.jsx(kp,{children:s.jsx(Bj,{})}),s.jsxs(Pp,{children:[s.jsx(un,{value:"Face-to-Face",children:"Face-to-Face"}),s.jsx(un,{value:"Online",children:"Online"}),s.jsx(un,{value:"Hybrid",children:"Hybrid"})]})]})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"overall-incharge",children:" Overall In-Charge:"}),s.jsx(ee,{id:"overall-incharge",value:E.overallInCharge,onChange:k=>A({...E,overallInCharge:k.target.value}),placeholder:"Person in charge"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"event-date",children:" Event Date: *"}),s.jsx(ee,{id:"event-date",type:"date",value:E.eventDate,onChange:k=>A({...E,eventDate:k.target.value})})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"event-time",children:" Time: *"}),s.jsx(ee,{id:"event-time",type:"time",value:E.eventTime,onChange:k=>A({...E,eventTime:k.target.value})})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"venue",children:" Venue: *"}),s.jsx(ee,{id:"venue",value:E.venue,onChange:k=>A({...E,venue:k.target.value}),placeholder:"Event venue/location"})]})]})]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4",children:" EVENT COMMITTEE ASSIGNMENTS"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"invitation",children:"1. Invitation:"}),s.jsx(ee,{id:"invitation",value:E.invitation,onChange:k=>A({...E,invitation:k.target.value}),placeholder:"Person assigned to invitations"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"program",children:"2. Program:"}),s.jsx(ee,{id:"program",value:E.program,onChange:k=>A({...E,program:k.target.value}),placeholder:"Program coordinator"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"sound",children:"3. Sound System:"}),s.jsx(ee,{id:"sound",value:E.soundSystem,onChange:k=>A({...E,soundSystem:k.target.value}),placeholder:"Sound system manager"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"decoration",children:"4. Stage Decoration:"}),s.jsx(ee,{id:"decoration",value:E.stageDecoration,onChange:k=>A({...E,stageDecoration:k.target.value}),placeholder:"Decoration coordinator"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"cleanup",children:"5. Demolition / Clean-Up:"}),s.jsx(ee,{id:"cleanup",value:E.demolitionCleanup,onChange:k=>A({...E,demolitionCleanup:k.target.value}),placeholder:"Clean-up coordinator"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"food",children:"6. Food / Refreshments:"}),s.jsx(ee,{id:"food",value:E.foodRefreshments,onChange:k=>A({...E,foodRefreshments:k.target.value}),placeholder:"Food coordinator"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"security",children:"7. Safety & Security / Usher:"}),s.jsx(ee,{id:"security",value:E.safetySecurityUsher,onChange:k=>A({...E,safetySecurityUsher:k.target.value}),placeholder:"Security coordinator"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"documentation",children:"8. Documentation:"}),s.jsx(ee,{id:"documentation",value:E.documentation,onChange:k=>A({...E,documentation:k.target.value}),placeholder:"Documentation coordinator"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"registration",children:"9. Registration:"}),s.jsx(ee,{id:"registration",value:E.registration,onChange:k=>A({...E,registration:k.target.value}),placeholder:"Registration coordinator"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"evaluation",children:"10. Evaluation:"}),s.jsx(ee,{id:"evaluation",value:E.evaluation,onChange:k=>A({...E,evaluation:k.target.value}),placeholder:"Evaluation coordinator"})]})]})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-orange-800 mb-4",children:" PRE-EVENT REQUIREMENTS (to be attached upon submission)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"letter-request",checked:E.letterOfRequest,onChange:k=>A({...E,letterOfRequest:k.target.checked}),className:"rounded"}),s.jsx(H,{htmlFor:"letter-request",children:" Letter of Request (signed by Program Head or Dean)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"board-resolution",checked:E.studentBoardResolution,onChange:k=>A({...E,studentBoardResolution:k.target.checked}),className:"rounded"}),s.jsx(H,{htmlFor:"board-resolution",children:" Student Board Resolution (if the event will be held outside the school or involves a proposal for collections)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"event-program",checked:E.eventProgramInvitation,onChange:k=>A({...E,eventProgramInvitation:k.target.checked}),className:"rounded"}),s.jsx(H,{htmlFor:"event-program",children:" Event Program / Invitation"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"permits-list",checked:E.listOfPermits,onChange:k=>A({...E,listOfPermits:k.target.checked}),className:"rounded"}),s.jsx(H,{htmlFor:"permits-list",children:" List of Permits Needed (if applicable)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"certificate-copy",checked:E.copyOfCertificate,onChange:k=>A({...E,copyOfCertificate:k.target.checked}),className:"rounded"}),s.jsx(H,{htmlFor:"certificate-copy",children:" Copy of Certificate (if applicable)"})]})]})]}),s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-indigo-800 mb-4",children:" POST-EVENT REQUIREMENTS (to be submitted within 3-5 days after the event)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"post-event-result",checked:E.postEventResult,onChange:k=>A({...E,postEventResult:k.target.checked}),className:"rounded"}),s.jsx(H,{htmlFor:"post-event-result",children:" Post-Event Result"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"accomplishment-report",checked:E.accomplishmentReport,onChange:k=>A({...E,accomplishmentReport:k.target.checked}),className:"rounded"}),s.jsx(H,{htmlFor:"accomplishment-report",children:" Accomplishment / Narrative Report"})]})]})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-4",children:" IMPORTANT REMINDERS:"}),s.jsxs("div",{className:"space-y-2 text-sm text-red-700",children:[s.jsxs("p",{children:[" Requests must be submitted to the Office of the School Activities ",s.jsx("strong",{children:"8 days or more before the event date"})," to comply with the VPAA's 7-day requirement."]}),s.jsxs("p",{children:[" The Office of the School Activities is open ",s.jsx("strong",{children:"Monday to Friday, 8:00 a.m. to 5:00 p.m. only"}),"."]}),s.jsx("p",{children:" Incomplete requirements will not be accepted."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[s.jsx(I,{variant:"outline",onClick:()=>{O(!1),A({eventRequestedBy:"",position:"",organization:"",contactNumber:"",email:"",dateOfSubmission:new Date().toISOString().split("T")[0],eventName:"",purpose:"",participants:"",modality:"Face-to-Face",eventDate:"",eventTime:"",venue:"",overallInCharge:"",invitation:"",program:"",soundSystem:"",stageDecoration:"",demolitionCleanup:"",foodRefreshments:"",safetySecurityUsher:"",documentation:"",registration:"",evaluation:"",letterOfRequest:!1,studentBoardResolution:!1,eventProgramInvitation:!1,listOfPermits:!1,copyOfCertificate:!1,postEventResult:!1,accomplishmentReport:!1})},children:"Cancel"}),s.jsxs(I,{onClick:en,className:"bg-primary hover:bg-primary/90",disabled:u,children:[s.jsx(Si,{className:"w-4 h-4 mr-2"}),u?"Submitting...":"Submit Request"]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Your Event Requests"}),F.length===0?s.jsxs(J,{className:"p-6 text-center",children:[s.jsx(At,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No event requests submitted yet"}),s.jsx(I,{variant:"outline",className:"mt-4",onClick:()=>O(!0),children:"Submit Your First Request"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(k=>s.jsx(J,{className:"overflow-hidden",children:s.jsxs(Z,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-medium",children:k.title}),s.jsx(oe,{className:tn(k.status),children:k.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:k.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[kr(k.date)," at ",k.time]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:k.venue})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oe,{variant:"outline",children:k.event_type}),s.jsxs("span",{className:"text-xs",children:[k.expected_participants," participants"]})]})]}),k.admin_comments&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xs font-medium mb-1",children:"Admin Comments:"}),s.jsx("p",{className:"text-xs",children:k.admin_comments})]}),k.status==="approved"&&s.jsx("div",{className:"mt-4 pt-3 border-t",children:s.jsxs(I,{onClick:()=>Cr(k),size:"sm",className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Download PDF"]})}),s.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Submitted: ",kr(k.created_at)]})]})},k.id))})]})]})]})}),s.jsx(Wr,{value:"notifications",className:"space-y-6",children:s.jsxs(J,{className:"card-elevated",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Notifications"}),s.jsx(Fe,{children:"Stay updated with event announcements and reminders"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:K,children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s.jsx(I,{variant:"outline",size:"sm",children:"Mark All as Read"})]})]})}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-4",children:te.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tt,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications yet"}),s.jsx("p",{className:"text-muted-foreground",children:"You'll see event updates and announcements here"}),s.jsxs(I,{variant:"outline",className:"mt-4",onClick:K,children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Check for Updates"]})]}):te.map(k=>s.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all hover:shadow-md ${k.is_read?"bg-background border-border":"bg-primary/5 border-primary/20 shadow-sm"}`,onClick:()=>_t(k.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-full ${k.is_read?"bg-muted":"bg-primary/10"}`,children:Vt(k.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:`font-medium ${k.is_read?"":"text-primary"}`,children:k.title}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:kr(k.created_at)}),!k.is_read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:k.message}),!k.is_read&&s.jsx("div",{className:"mt-2",children:s.jsx(oe,{variant:"default",className:"text-xs",children:"New"})})]})]})},k.id))})})]})}),s.jsx(Wr,{value:"reports",className:"space-y-6",children:s.jsxs(J,{className:"card-elevated",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(we,{children:"Reports & Issues"}),s.jsx(Fe,{children:"Report problems about event rejections or other issues"})]}),s.jsxs(I,{className:"gradient-primary",onClick:()=>P(!0),children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"New Report"]})]})}),s.jsxs(Z,{children:[R&&s.jsxs(J,{className:"mb-6 border-2 border-primary/20",children:[s.jsx(ye,{children:s.jsx(we,{className:"text-lg",children:"Submit New Report"})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"report-type",children:"Report Type"}),s.jsxs("select",{id:"report-type",value:S,onChange:k=>_(k.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[s.jsx("option",{value:"rejection_complaint",children:"Event Rejection Complaint"}),s.jsx("option",{value:"technical_issue",children:"Technical Issue"}),s.jsx("option",{value:"general_inquiry",children:"General Inquiry"}),s.jsx("option",{value:"event_feedback",children:"Event Feedback"})]})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"report-title",children:"Title"}),s.jsx(ee,{id:"report-title",value:y,onChange:k=>w(k.target.value),placeholder:"Brief description of the issue"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"report-description",children:"Description"}),s.jsx(yn,{id:"report-description",value:N,onChange:k=>j(k.target.value),placeholder:"Provide detailed information about your issue or complaint",rows:4})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(I,{onClick:Dt,disabled:u,children:[s.jsx(ea,{className:"w-4 h-4 mr-2"}),"Submit Report"]}),s.jsx(I,{variant:"outline",onClick:()=>{P(!1),w(""),j("")},children:"Cancel"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Your Reports"}),de.length===0?s.jsxs(J,{className:"p-6 text-center",children:[s.jsx(ea,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No reports submitted yet"}),s.jsx(I,{variant:"outline",className:"mt-4",onClick:()=>P(!0),children:"Submit Your First Report"})]}):de.map(k=>s.jsx(J,{className:`cursor-pointer transition-colors hover:border-primary/50 ${(g==null?void 0:g.id)===k.id?"border-primary bg-primary/5":""}`,onClick:()=>{p(k),Ee(k.id)},children:s.jsxs(Z,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:k.title}),s.jsx(oe,{className:tn(k.status),children:k.status})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:k.event_title&&`Event: ${k.event_title}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:kr(k.created_at)}),s.jsx("p",{className:"text-sm mt-2 line-clamp-2",children:k.description})]})},k.id))]}),s.jsx("div",{children:g?s.jsxs(J,{className:"h-96 flex flex-col",children:[s.jsx(ye,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(we,{className:"text-lg",children:g.title}),s.jsx(Fe,{children:g.event_title&&`Event: ${g.event_title}`})]}),s.jsx(oe,{className:tn(g.status),children:g.status})]})}),s.jsx(Z,{className:"flex-1 overflow-y-auto space-y-3",children:b.map(k=>s.jsx("div",{className:`flex ${k.sender_id===(r==null?void 0:r.id)?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs rounded-lg p-3 ${k.sender_id===(r==null?void 0:r.id)?"bg-primary text-primary-foreground":"bg-muted"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium",children:k.sender_name}),s.jsx(oe,{variant:"outline",className:"text-xs",children:k.sender_role})]}),s.jsx("p",{className:"text-sm",children:k.message}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:Pr(k.created_at)})]})},k.id))}),g.status!=="closed"&&s.jsxs("div",{className:"p-4 border-t",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-2",children:s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{Ee(g.id),t({title:"Messages Refreshed",description:"Checking for new admin replies..."})},children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Refresh Messages"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{value:m,onChange:k=>x(k.target.value),placeholder:"Type your message...",onKeyPress:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),qt())}}),s.jsx(I,{onClick:qt,disabled:!m.trim()||u,size:"sm",children:s.jsx(Si,{className:"w-4 h-4"})})]})]})]}):s.jsx(J,{className:"h-96 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ea,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Report"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose a report from the left to view the conversation"})]})})})]})]})]})})]})}),M&&C&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:C.title}),s.jsx(I,{variant:"ghost",onClick:()=>q(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oe,{className:tn(C.status),children:C.status}),C.isMyEvent&&s.jsx(oe,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"My Event"}),s.jsx(oe,{variant:"outline",children:C.event_type})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Date:"}),s.jsx("span",{children:kr(C.date)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Time:"}),s.jsx("span",{children:C.time})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sr,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Venue:"}),s.jsx("span",{children:C.venue})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Organizer:"}),s.jsx("span",{children:C.organizer_name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:"w-5 h-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Participants:"}),s.jsxs("span",{children:[C.current_participants,"/",C.max_participants]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:"Registration:"}),C.isRegistered?s.jsx(oe,{className:"bg-green-100 text-green-800",children:"Registered"}):s.jsx(oe,{variant:"outline",children:"Not Registered"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Description:"}),s.jsx("p",{className:"text-muted-foreground bg-muted/50 p-4 rounded-lg",children:C.description||"No description available."})]}),s.jsxs("div",{className:"flex items-center space-x-4 pt-4 border-t",children:[!C.isMyEvent&&s.jsxs(s.Fragment,{children:[s.jsx(I,{variant:C.isRegistered?"secondary":"default",onClick:()=>{Te(C.id),q(!1)},disabled:u||C.current_participants>=C.max_participants&&!C.isRegistered,children:C.isRegistered?"Unregister":"Register"}),s.jsxs(I,{variant:"outline",onClick:()=>{Me(C.id),q(!1)},children:[s.jsx(In,{className:`w-4 h-4 mr-2 ${C.isFavorite?"fill-red-500 text-red-500":""}`}),C.isFavorite?"Remove Favorite":"Add to Favorites"]})]}),C.isMyEvent&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"This is your event. You are automatically registered as the organizer."})]})]})]})})})]}):s.jsx("div",{children:"Loading..."})};function De(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function dr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Lt(e,t){const r=De(e);return isNaN(t)?dr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Qr(e,t){const r=De(e);if(isNaN(t))return dr(e,NaN);if(!t)return r;const n=r.getDate(),a=dr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Tp=6048e5,W6=864e5;let q6={};function jl(){return q6}function jn(e,t){var l,c,d,u;const r=jl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=De(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ya(e){return jn(e,{weekStartsOn:1})}function Vj(e){const t=De(e),r=t.getFullYear(),n=dr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ya(n),i=dr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ya(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Ti(e){const t=De(e);return t.setHours(0,0,0,0),t}function ud(e){const t=De(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function pn(e,t){const r=Ti(e),n=Ti(t),a=+r-ud(r),i=+n-ud(n);return Math.round((a-i)/W6)}function V6(e){const t=Vj(e),r=dr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ya(r)}function Vh(e,t){const r=t*7;return Lt(e,r)}function H6(e,t){return Qr(e,t*12)}function G6(e){let t;return e.forEach(function(r){const n=De(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Y6(e){let t;return e.forEach(r=>{const n=De(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Jt(e,t){const r=Ti(e),n=Ti(t);return+r==+n}function Rp(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function K6(e){if(!Rp(e)&&typeof e!="number")return!1;const t=De(e);return!isNaN(Number(t))}function sl(e,t){const r=De(e),n=De(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Q6(e,t,r){const n=jn(e,r),a=jn(t,r),i=+n-ud(n),o=+a-ud(a);return Math.round((i-o)/Tp)}function Ap(e){const t=De(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function tr(e){const t=De(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Hj(e){const t=De(e),r=dr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Op(e,t){var l,c,d,u;const r=jl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=De(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Gj(e){return Op(e,{weekStartsOn:1})}const J6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X6=(e,t,r)=>{let n;const a=J6[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function of(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Z6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rA={date:of({formats:Z6,defaultWidth:"full"}),time:of({formats:eA,defaultWidth:"full"}),dateTime:of({formats:tA,defaultWidth:"full"})},nA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sA=(e,t,r,n)=>nA[e];function ao(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const aA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uA=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fA={ordinalNumber:uA,era:ao({values:aA,defaultWidth:"wide"}),quarter:ao({values:iA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ao({values:oA,defaultWidth:"wide"}),day:ao({values:lA,defaultWidth:"wide"}),dayPeriod:ao({values:cA,defaultWidth:"wide",formattingValues:dA,defaultFormattingWidth:"wide"})};function io(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mA(l,f=>f.test(o)):hA(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function hA(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function mA(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function pA(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const gA=/^(\d+)(th|st|nd|rd)?/i,xA=/\d+/i,vA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yA={any:[/^b/i,/^(a|c)/i]},wA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bA={any:[/1/i,/2/i,/3/i,/4/i]},jA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_A={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kA={ordinalNumber:pA({matchPattern:gA,parsePattern:xA,valueCallback:e=>parseInt(e,10)}),era:io({matchPatterns:vA,defaultMatchWidth:"wide",parsePatterns:yA,defaultParseWidth:"any"}),quarter:io({matchPatterns:wA,defaultMatchWidth:"wide",parsePatterns:bA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:io({matchPatterns:jA,defaultMatchWidth:"wide",parsePatterns:NA,defaultParseWidth:"any"}),day:io({matchPatterns:_A,defaultMatchWidth:"wide",parsePatterns:SA,defaultParseWidth:"any"}),dayPeriod:io({matchPatterns:EA,defaultMatchWidth:"any",parsePatterns:CA,defaultParseWidth:"any"})},Yj={code:"en-US",formatDistance:X6,formatLong:rA,formatRelative:sA,localize:fA,match:kA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PA(e){const t=De(e);return pn(t,Hj(t))+1}function Kj(e){const t=De(e),r=+ya(t)-+V6(t);return Math.round(r/Tp)+1}function Qj(e,t){var u,f,g,p;const r=De(e),n=r.getFullYear(),a=jl(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(g=a.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=dr(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=jn(o,t),c=dr(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=jn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function TA(e,t){var l,c,d,u;const r=jl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Qj(e,t),i=dr(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),jn(i,t)}function Jj(e,t){const r=De(e),n=+jn(r,t)-+TA(r,t);return Math.round(n/Tp)+1}function Le(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ts={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Le(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Le(r+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Le(a,t.length)}},La={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sv={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ts.y(e,t)},Y:function(e,t,r,n){const a=Qj(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Le(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Le(i,t.length)},R:function(e,t){const r=Vj(e);return Le(r,t.length)},u:function(e,t){const r=e.getFullYear();return Le(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ts.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Jj(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Le(a,t.length)},I:function(e,t,r){const n=Kj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Le(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ts.d(e,t)},D:function(e,t,r){const n=PA(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Le(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Le(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Le(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=La.noon:n===0?a=La.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=La.evening:n>=12?a=La.afternoon:n>=4?a=La.morning:a=La.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ts.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ts.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ts.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ts.s(e,t)},S:function(e,t){return ts.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Cv(n);case"XXXX":case"XX":return Ys(n);case"XXXXX":case"XXX":default:return Ys(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Cv(n);case"xxxx":case"xx":return Ys(n);case"xxxxx":case"xxx":default:return Ys(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ev(n,":");case"OOOO":default:return"GMT"+Ys(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ev(n,":");case"zzzz":default:return"GMT"+Ys(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Le(n,t.length)},T:function(e,t,r){const n=e.getTime();return Le(n,t.length)}};function Ev(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Le(i,2)}function Cv(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Ys(e,t)}function Ys(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Le(Math.trunc(n/60),2),i=Le(n%60,2);return r+a+t+i}const kv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Xj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},RA=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return kv(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",kv(n,t)).replace("{{time}}",Xj(a,t))},AA={p:Xj,P:RA},OA=/^D+$/,DA=/^Y+$/,MA=["D","DD","YY","YYYY"];function IA(e){return OA.test(e)}function FA(e){return DA.test(e)}function LA(e,t,r){const n=$A(e,t,r);if(console.warn(n),MA.includes(e))throw new RangeError(n)}function $A(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BA=/^'([^]*?)'?$/,WA=/''/g,qA=/[a-zA-Z]/;function qn(e,t,r){var u,f,g,p,b,v,m,x;const n=jl(),a=(r==null?void 0:r.locale)??n.locale??Yj,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,l=De(e);if(!K6(l))throw new RangeError("Invalid time value");let c=t.match(zA).map(y=>{const w=y[0];if(w==="p"||w==="P"){const N=AA[w];return N(y,a.formatLong)}return y}).join("").match(UA).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:VA(y)};if(Sv[w])return{isToken:!0,value:y};if(w.match(qA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&FA(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&IA(w))&&LA(w,t,String(e));const N=Sv[w[0]];return N(l,w,a.localize,d)}).join("")}function VA(e){const t=e.match(BA);return t?t[1].replace(WA,"'"):e}function HA(e){const t=De(e),r=t.getFullYear(),n=t.getMonth(),a=dr(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function GA(e){return Math.trunc(+De(e)/1e3)}function YA(e){const t=De(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function KA(e,t){return Q6(YA(e),tr(e),t)+1}function Hh(e,t){const r=De(e),n=De(t);return r.getTime()>n.getTime()}function Zj(e,t){const r=De(e),n=De(t);return+r<+n}function Dp(e,t){const r=De(e),n=De(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function QA(e,t){const r=De(e),n=De(t);return r.getFullYear()===n.getFullYear()}function lf(e,t){return Lt(e,-t)}function cf(e,t){const r=De(e),n=r.getFullYear(),a=r.getDate(),i=dr(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=HA(i);return r.setMonth(t,Math.min(a,o)),r}function Pv(e,t){const r=De(e);return isNaN(+r)?dr(e,NaN):(r.setFullYear(t),r)}var he=function(){return he=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},he.apply(this,arguments)};function JA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function eN(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Nl(e){return e.mode==="multiple"}function _l(e){return e.mode==="range"}function au(e){return e.mode==="single"}var XA={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ZA(e,t){return qn(e,"LLLL y",t)}function eO(e,t){return qn(e,"d",t)}function tO(e,t){return qn(e,"LLLL",t)}function rO(e){return"".concat(e)}function nO(e,t){return qn(e,"cccccc",t)}function sO(e,t){return qn(e,"yyyy",t)}var aO=Object.freeze({__proto__:null,formatCaption:ZA,formatDay:eO,formatMonthCaption:tO,formatWeekNumber:rO,formatWeekdayName:nO,formatYearCaption:sO}),iO=function(e,t,r){return qn(e,"do MMMM (EEEE)",r)},oO=function(){return"Month: "},lO=function(){return"Go to next month"},cO=function(){return"Go to previous month"},dO=function(e,t){return qn(e,"cccc",t)},uO=function(e){return"Week n. ".concat(e)},fO=function(){return"Year: "},hO=Object.freeze({__proto__:null,labelDay:iO,labelMonthDropdown:oO,labelNext:lO,labelPrevious:cO,labelWeekNumber:uO,labelWeekday:dO,labelYearDropdown:fO});function mO(){var e="buttons",t=XA,r=Yj,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:aO,labels:hO,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function pO(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=tr(n):t&&(i=new Date(t,0,1)),a?o=Ap(a):r&&(o=new Date(r,11,31)),{fromDate:i?Ti(i):void 0,toDate:o?Ti(o):void 0}}var tN=h.createContext(void 0);function gO(e){var t,r=e.initialProps,n=mO(),a=pO(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(au(r)||Nl(r)||_l(r))&&(c=r.onSelect);var d=he(he(he({},n),r),{captionLayout:l,classNames:he(he({},n.classNames),r.classNames),components:he({},r.components),formatters:he(he({},n.formatters),r.formatters),fromDate:i,labels:he(he({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:he(he({},n.modifiers),r.modifiers),modifiersClassNames:he(he({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:he(he({},n.styles),r.styles),toDate:o});return s.jsx(tN.Provider,{value:d,children:e.children})}function qe(){var e=h.useContext(tN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function rN(e){var t=qe(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function xO(e){return s.jsx("svg",he({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nN(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=qe(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:xO;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function vO(e){var t,r=qe(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(QA(n,a))for(var g=tr(n),p=n.getMonth();p<=a.getMonth();p++)f.push(cf(g,p));else for(var g=tr(new Date),p=0;p<=11;p++)f.push(cf(g,p));var b=function(m){var x=Number(m.target.value),y=cf(tr(e.displayMonth),x);e.onChange(y)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:nN;return s.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(m){return s.jsx("option",{value:m.getMonth(),children:l(m,{locale:o})},m.getMonth())})})}function yO(e){var t,r=e.displayMonth,n=qe(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,g=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),b=i.getFullYear(),v=p;v<=b;v++)g.push(Pv(Hj(new Date),v));var m=function(y){var w=Pv(tr(r),Number(y.target.value));e.onChange(w)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:nN;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:m,value:r.getFullYear(),caption:u(r,{locale:o}),children:g.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function wO(e,t){var r=h.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function bO(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&sl(i,a)<0){var d=-1*(c-1);a=Qr(i,d)}return o&&sl(a,o)<0&&(a=o),tr(a)}function jO(){var e=qe(),t=bO(e),r=wO(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=tr(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function NO(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=tr(e),i=tr(Qr(a,n)),o=sl(i,a),l=[],c=0;c<o;c++){var d=Qr(a,c);l.push(d)}return r&&(l=l.reverse()),l}function _O(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=tr(e);if(!r)return Qr(l,o);var c=sl(r,e);if(!(c<i))return Qr(l,o)}}function SO(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=tr(e);if(!r)return Qr(l,-o);var c=sl(l,r);if(!(c<=0))return Qr(l,-o)}}var sN=h.createContext(void 0);function EO(e){var t=qe(),r=jO(),n=r[0],a=r[1],i=NO(n,t),o=_O(n,t),l=SO(n,t),c=function(f){return i.some(function(g){return Dp(f,g)})},d=function(f,g){c(f)||(g&&Zj(f,g)?a(Qr(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(sN.Provider,{value:u,children:e.children})}function Sl(){var e=h.useContext(sN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Tv(e){var t,r=qe(),n=r.classNames,a=r.styles,i=r.components,o=Sl().goToMonth,l=function(u){o(Qr(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:rN,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(vO,{onChange:l,displayMonth:e.displayMonth}),s.jsx(yO,{onChange:l,displayMonth:e.displayMonth})]})}function CO(e){return s.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kO(e){return s.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var fd=h.forwardRef(function(e,t){var r=qe(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=he(he({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",he({},e,{ref:t,type:"button",className:o,style:l}))});function PO(e){var t,r,n=qe(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),b=u(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),m=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:kO,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:CO;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(fd,{name:"previous-month","aria-label":g,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(m,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(fd,{name:"next-month","aria-label":b,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(m,{className:o.nav_icon,style:l.nav_icon})})]})}function Rv(e){var t=qe().numberOfMonths,r=Sl(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return Dp(e.displayMonth,b)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),g=function(){n&&i(n)},p=function(){a&&i(a)};return s.jsx(PO,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:g,onNextClick:p})}function TO(e){var t,r=qe(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:rN,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(Tv,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(Tv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Rv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Rv,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function RO(e){var t=qe(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function AO(e,t,r){for(var n=r?ya(new Date):jn(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Lt(n,i);a.push(o)}return a}function OO(){var e=qe(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=AO(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function DO(){var e,t=qe(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:OO;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function MO(e){var t=qe(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Mp=h.createContext(void 0);function IO(e){if(!Nl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Mp.Provider,{value:t,children:e.children})}return s.jsx(FO,{initialProps:e.initialProps,children:e.children})}function FO(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(d,u,f){var g,p;(g=t.onDayClick)===null||g===void 0||g.call(t,d,u,f);var b=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!b){var v=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var m=n?eN([],n):[];if(u.selected){var x=m.findIndex(function(y){return Jt(d,y)});m.splice(x,1)}else m.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,m,d,u,f)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,f=n.some(function(g){return Jt(g,d)});return!!(u&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(Mp.Provider,{value:c,children:r})}function Ip(){var e=h.useContext(Mp);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function LO(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Jt(a,e)&&Jt(n,e)?void 0:Jt(a,e)?{from:a,to:void 0}:Jt(n,e)?void 0:Hh(n,e)?{from:e,to:a}:{from:n,to:e}:a?Hh(e,a)?{from:a,to:e}:{from:e,to:a}:n?Zj(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Fp=h.createContext(void 0);function $O(e){if(!_l(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Fp.Provider,{value:t,children:e.children})}return s.jsx(UO,{initialProps:e.initialProps,children:e.children})}function UO(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(p,b,v){var m,x;(m=t.onDayClick)===null||m===void 0||m.call(t,p,b,v);var y=LO(p,n);(x=t.onSelect)===null||x===void 0||x.call(t,y,p,b,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Jt(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:lf(i,l-1),before:Lt(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Lt(i,l-1)}),!i&&o&&u.disabled.push({after:lf(o,l-1),before:Lt(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Lt(i,-c+1)}),u.disabled.push({after:Lt(i,c-1)})),i&&o){var f=pn(o,i)+1,g=c-f;u.disabled.push({before:lf(i,g)}),u.disabled.push({after:Lt(o,g)})}!i&&o&&(u.disabled.push({before:Lt(o,-c+1)}),u.disabled.push({after:Lt(o,c-1)}))}return s.jsx(Fp.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function Lp(){var e=h.useContext(Fp);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function jc(e){return Array.isArray(e)?eN([],e):e!==void 0?[e]:[]}function zO(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=jc(a)}),t}var Jr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Jr||(Jr={}));var BO=Jr.Selected,Cn=Jr.Disabled,WO=Jr.Hidden,qO=Jr.Today,df=Jr.RangeEnd,uf=Jr.RangeMiddle,ff=Jr.RangeStart,VO=Jr.Outside;function HO(e,t,r){var n,a=(n={},n[BO]=jc(e.selected),n[Cn]=jc(e.disabled),n[WO]=jc(e.hidden),n[qO]=[e.today],n[df]=[],n[uf]=[],n[ff]=[],n[VO]=[],n);return e.fromDate&&a[Cn].push({before:e.fromDate}),e.toDate&&a[Cn].push({after:e.toDate}),Nl(e)?a[Cn]=a[Cn].concat(t.modifiers[Cn]):_l(e)&&(a[Cn]=a[Cn].concat(r.modifiers[Cn]),a[ff]=r.modifiers[ff],a[uf]=r.modifiers[uf],a[df]=r.modifiers[df]),a}var aN=h.createContext(void 0);function GO(e){var t=qe(),r=Ip(),n=Lp(),a=HO(t,r,n),i=zO(t.modifiers),o=he(he({},a),i);return s.jsx(aN.Provider,{value:o,children:e.children})}function iN(){var e=h.useContext(aN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function YO(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function KO(e){return!!(e&&typeof e=="object"&&"from"in e)}function QO(e){return!!(e&&typeof e=="object"&&"after"in e)}function JO(e){return!!(e&&typeof e=="object"&&"before"in e)}function XO(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ZO(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=pn(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=pn(e,n)>=0&&pn(a,e)>=0;return o}return a?Jt(a,e):n?Jt(n,e):!1}function eD(e){return Rp(e)}function tD(e){return Array.isArray(e)&&e.every(Rp)}function rD(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(eD(r))return Jt(e,r);if(tD(r))return r.includes(e);if(KO(r))return ZO(e,r);if(XO(r))return r.dayOfWeek.includes(e.getDay());if(YO(r)){var n=pn(r.before,e),a=pn(r.after,e),i=n>0,o=a<0,l=Hh(r.before,r.after);return l?o&&i:i||o}return QO(r)?pn(e,r.after)>0:JO(r)?pn(r.before,e)>0:typeof r=="function"?r(e):!1})}function $p(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return rD(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!Dp(e,r)&&(a.outside=!0),a}function nD(e,t){for(var r=tr(e[0]),n=Ap(e[e.length-1]),a,i,o=r;o<=n;){var l=$p(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Lt(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Lt(o,1)}return i||a}var sD=365;function oN(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,g={day:Lt,week:Vh,month:Qr,year:H6,startOfWeek:function(m){return a.ISOWeek?ya(m):jn(m,{locale:f,weekStartsOn:c})},endOfWeek:function(m){return a.ISOWeek?Gj(m):Op(m,{locale:f,weekStartsOn:c})}},p=g[r](e,n==="after"?1:-1);n==="before"&&d?p=G6([d,p]):n==="after"&&u&&(p=Y6([u,p]));var b=!0;if(i){var v=$p(p,i);b=!v.disabled&&!v.hidden}return b?p:l.count>sD?l.lastFocused:oN(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:he(he({},l),{count:l.count+1})})}var lN=h.createContext(void 0);function aD(e){var t=Sl(),r=iN(),n=h.useState(),a=n[0],i=n[1],o=h.useState(),l=o[0],c=o[1],d=nD(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},g=function(m){i(m)},p=qe(),b=function(m,x){if(a){var y=oN(a,{moveBy:m,direction:x,context:p,modifiers:r});Jt(a,y)||(t.goToDate(y,a),g(y))}},v={focusedDay:a,focusTarget:u,blur:f,focus:g,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return s.jsx(lN.Provider,{value:v,children:e.children})}function Up(){var e=h.useContext(lN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function iD(e,t){var r=iN(),n=$p(e,r,t);return n}var zp=h.createContext(void 0);function oD(e){if(!au(e.initialProps)){var t={selected:void 0};return s.jsx(zp.Provider,{value:t,children:e.children})}return s.jsx(lD,{initialProps:e.initialProps,children:e.children})}function lD(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(zp.Provider,{value:a,children:r})}function cN(){var e=h.useContext(zp);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function cD(e,t){var r=qe(),n=cN(),a=Ip(),i=Lp(),o=Up(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,g=o.focus,p=o.focusMonthBefore,b=o.focusMonthAfter,v=o.focusYearBefore,m=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(O){var E,A,U,X;au(r)?(E=n.onDayClick)===null||E===void 0||E.call(n,e,t,O):Nl(r)?(A=a.onDayClick)===null||A===void 0||A.call(a,e,t,O):_l(r)?(U=i.onDayClick)===null||U===void 0||U.call(i,e,t,O):(X=r.onDayClick)===null||X===void 0||X.call(r,e,t,O)},N=function(O){var E;g(e),(E=r.onDayFocus)===null||E===void 0||E.call(r,e,t,O)},j=function(O){var E;f(),(E=r.onDayBlur)===null||E===void 0||E.call(r,e,t,O)},S=function(O){var E;(E=r.onDayMouseEnter)===null||E===void 0||E.call(r,e,t,O)},_=function(O){var E;(E=r.onDayMouseLeave)===null||E===void 0||E.call(r,e,t,O)},R=function(O){var E;(E=r.onDayPointerEnter)===null||E===void 0||E.call(r,e,t,O)},P=function(O){var E;(E=r.onDayPointerLeave)===null||E===void 0||E.call(r,e,t,O)},C=function(O){var E;(E=r.onDayTouchCancel)===null||E===void 0||E.call(r,e,t,O)},D=function(O){var E;(E=r.onDayTouchEnd)===null||E===void 0||E.call(r,e,t,O)},M=function(O){var E;(E=r.onDayTouchMove)===null||E===void 0||E.call(r,e,t,O)},q=function(O){var E;(E=r.onDayTouchStart)===null||E===void 0||E.call(r,e,t,O)},F=function(O){var E;(E=r.onDayKeyUp)===null||E===void 0||E.call(r,e,t,O)},z=function(O){var E;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),d();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),u();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?v():p();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?m():b();break;case"Home":O.preventDefault(),O.stopPropagation(),x();break;case"End":O.preventDefault(),O.stopPropagation(),y();break}(E=r.onDayKeyDown)===null||E===void 0||E.call(r,e,t,O)},W={onClick:w,onFocus:N,onBlur:j,onKeyDown:z,onKeyUp:F,onMouseEnter:S,onMouseLeave:_,onPointerEnter:R,onPointerLeave:P,onTouchCancel:C,onTouchEnd:D,onTouchMove:M,onTouchStart:q};return W}function dD(){var e=qe(),t=cN(),r=Ip(),n=Lp(),a=au(e)?t.selected:Nl(e)?r.selected:_l(e)?n.selected:void 0;return a}function uD(e){return Object.values(Jr).includes(e)}function fD(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(uD(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function hD(e,t){var r=he({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=he(he({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function mD(e,t,r){var n,a,i,o=qe(),l=Up(),c=iD(e,t),d=cD(e,c),u=dD(),f=!!(o.onDayClick||o.mode!=="default");h.useEffect(function(){var S;c.outside||l.focusedDay&&f&&Jt(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var g=fD(o,c).join(" "),p=hD(o,c),b=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:MO,m=s.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:g,children:m,role:"gridcell"},y=l.focusTarget&&Jt(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Jt(l.focusedDay,e),N=he(he(he({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),d),j={isButton:f,isHidden:b,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:x};return j}function pD(e){var t=h.useRef(null),r=mD(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(fd,he({name:"day",ref:t},r.buttonProps)):s.jsx("div",he({},r.divProps))}function gD(e){var t=e.number,r=e.dates,n=qe(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),g=function(p){a(t,r,p)};return s.jsx(fd,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:g,children:u})}function xD(e){var t,r,n=qe(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:pD,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:gD,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},GA(f))})]})}function Av(e,t,r){for(var n=r!=null&&r.ISOWeek?Gj(t):Op(t,r),a=r!=null&&r.ISOWeek?ya(e):jn(e,r),i=pn(n,a),o=[],l=0;l<=i;l++)o.push(Lt(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?Kj(u):Jj(u,r),g=d.find(function(p){return p.weekNumber===f});return g?(g.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function vD(e,t){var r=Av(tr(e),Ap(e),t);if(t!=null&&t.useFixedWeeks){var n=KA(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=Vh(i,6-n),l=Av(Vh(i,1),o,t);r.push.apply(r,l)}}return r}function yD(e){var t,r,n,a=qe(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,g=a.firstWeekContainsDate,p=a.ISOWeek,b=vD(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:g}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:DO,m=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:xD,x=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:RO;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(v,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(y){return s.jsx(m,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function wD(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var bD=wD()?h.useLayoutEffect:h.useEffect,hf=!1,jD=0;function Ov(){return"react-day-picker-".concat(++jD)}function ND(e){var t,r=e??(hf?Ov():null),n=h.useState(r),a=n[0],i=n[1];return bD(function(){a===null&&i(Ov())},[]),h.useEffect(function(){hf===!1&&(hf=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function _D(e){var t,r,n=qe(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Sl().displayMonths,d=ND(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],g=o.month,p=e.displayIndex===0,b=e.displayIndex===c.length-1,v=!p&&!b;a==="rtl"&&(t=[p,b],b=t[0],p=t[1]),p&&(f.push(i.caption_start),g=he(he({},g),o.caption_start)),b&&(f.push(i.caption_end),g=he(he({},g),o.caption_end)),v&&(f.push(i.caption_between),g=he(he({},g),o.caption_between));var m=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:TO;return s.jsxs("div",{className:f.join(" "),style:g,children:[s.jsx(m,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(yD,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function SD(e){var t=qe(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function ED(e){var t,r,n=e.initialProps,a=qe(),i=Up(),o=Sl(),l=h.useState(!1),c=l[0],d=l[1];h.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=he(he({},a.styles.root),a.style),g=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,v){var m;return he(he({},b),(m={},m[v]=n[v],m))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:SD;return s.jsx("div",he({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(p,{children:o.displayMonths.map(function(b,v){return s.jsx(_D,{displayIndex:v,displayMonth:b},v)})})}))}function CD(e){var t=e.children,r=JA(e,["children"]);return s.jsx(gO,{initialProps:r,children:s.jsx(EO,{children:s.jsx(oD,{initialProps:r,children:s.jsx(IO,{initialProps:r,children:s.jsx($O,{initialProps:r,children:s.jsx(GO,{children:s.jsx(aD,{children:t})})})})})})})}function kD(e){return s.jsx(CD,he({},e,{children:s.jsx(ED,{initialProps:e})}))}function Gh({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(kD,{showOutsideDays:r,className:_e("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:_e(_h({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:_e(_h({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Fw,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Lw,{className:"h-4 w-4"})},...n})}Gh.displayName="Calendar";var iu="Popover",[dN,Z8]=Hn(iu,[$i]),El=$i(),[PD,zs]=dN(iu),uN=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=El(t),c=h.useRef(null),[d,u]=h.useState(!1),[f,g]=pa({prop:n,defaultProp:a??!1,onChange:i,caller:iu});return s.jsx(wb,{...l,children:s.jsx(PD,{scope:t,contentId:Fn(),triggerRef:c,open:f,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(p=>!p),[g]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:o,children:r})})};uN.displayName=iu;var fN="PopoverAnchor",TD=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=zs(fN,r),i=El(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Ld,{...i,...n,ref:t})});TD.displayName=fN;var hN="PopoverTrigger",mN=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=zs(hN,r),i=El(r),o=Ue(t,a.triggerRef),l=s.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yN(a.open),...n,ref:o,onClick:ae(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Ld,{asChild:!0,...i,children:l})});mN.displayName=hN;var Bp="PopoverPortal",[RD,AD]=dN(Bp,{forceMount:void 0}),pN=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=zs(Bp,t);return s.jsx(RD,{scope:t,forceMount:r,children:s.jsx(Gn,{present:r||i.open,children:s.jsx(fl,{asChild:!0,container:a,children:n})})})};pN.displayName=Bp;var Ri="PopoverContent",gN=h.forwardRef((e,t)=>{const r=AD(Ri,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=zs(Ri,e.__scopePopover);return s.jsx(Gn,{present:n||i.open,children:i.modal?s.jsx(DD,{...a,ref:t}):s.jsx(MD,{...a,ref:t})})});gN.displayName=Ri;var OD=ma("PopoverContent.RemoveScroll"),DD=h.forwardRef((e,t)=>{const r=zs(Ri,e.__scopePopover),n=h.useRef(null),a=Ue(t,n),i=h.useRef(!1);return h.useEffect(()=>{const o=n.current;if(o)return Ep(o)},[]),s.jsx(tu,{as:OD,allowPinchZoom:!0,children:s.jsx(xN,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),MD=h.forwardRef((e,t)=>{const r=zs(Ri,e.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(xN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xN=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,g=zs(Ri,r),p=El(r);return Sp(),s.jsx(Zd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mi,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(op,{"data-state":yN(g.open),role:"dialog",id:g.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vN="PopoverClose",ID=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=zs(vN,r);return s.jsx(be.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>a.onOpenChange(!1))})});ID.displayName=vN;var FD="PopoverArrow",LD=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=El(r);return s.jsx(lp,{...a,...n,ref:t})});LD.displayName=FD;function yN(e){return e?"open":"closed"}var $D=uN,UD=mN,zD=pN,wN=gN;const Dv=$D,Mv=UD,Yh=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(zD,{children:s.jsx(wN,{ref:a,align:t,sideOffset:r,className:_e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Yh.displayName=wN.displayName;var Wp=Object.defineProperty,BD=Object.getOwnPropertyDescriptor,WD=Object.getOwnPropertyNames,qD=Object.prototype.hasOwnProperty,VD=(e,t)=>{for(var r in t)Wp(e,r,{get:t[r],enumerable:!0})},HD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of WD(t))!qD.call(e,a)&&a!==r&&Wp(e,a,{get:()=>t[a],enumerable:!(n=BD(t,a))||n.enumerable});return e},GD=e=>HD(Wp({},"__esModule",{value:!0}),e),YD=(e,t,r)=>new Promise((n,a)=>{var i=c=>{try{l(r.next(c))}catch(d){a(d)}},o=c=>{try{l(r.throw(c))}catch(d){a(d)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);l((r=r.apply(e,t)).next())}),bN={};VD(bN,{SessionContextProvider:()=>QD,useSession:()=>ZD,useSessionContext:()=>JD,useSupabaseClient:()=>XD,useUser:()=>e8});var Iv=GD(bN),vr=h,KD=s,Cl=(0,vr.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),QD=({supabaseClient:e,initialSession:t=null,children:r})=>{const[n,a]=(0,vr.useState)(t),[i,o]=(0,vr.useState)(!t),[l,c]=(0,vr.useState)();(0,vr.useEffect)(()=>{!n&&t&&a(t)},[n,t]),(0,vr.useEffect)(()=>{let u=!0;function f(){return YD(this,null,function*(){const{data:{session:g},error:p}=yield e.auth.getSession();if(u){if(p){c(p),o(!1);return}a(g),o(!1)}})}return f(),()=>{u=!1}},[]),(0,vr.useEffect)(()=>{const{data:{subscription:u}}=e.auth.onAuthStateChange((f,g)=>{g&&(f==="SIGNED_IN"||f==="TOKEN_REFRESHED"||f==="USER_UPDATED")&&a(g),f==="SIGNED_OUT"&&a(null)});return()=>{u.unsubscribe()}},[]);const d=(0,vr.useMemo)(()=>i?{isLoading:!0,session:null,error:null,supabaseClient:e}:l?{isLoading:!1,session:null,error:l,supabaseClient:e}:{isLoading:!1,session:n,error:null,supabaseClient:e},[i,n,l]);return(0,KD.jsx)(Cl.Provider,{value:d,children:r})},JD=()=>{const e=(0,vr.useContext)(Cl);if(e===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return e};function XD(){const e=(0,vr.useContext)(Cl);if(e===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var ZD=()=>{const e=(0,vr.useContext)(Cl);if(e===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return e.session},e8=()=>{var e,t;const r=(0,vr.useContext)(Cl);if(r===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(t=(e=r.session)==null?void 0:e.user)!=null?t:null};const t8=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState({eventTitle:"",eventType:"",description:"",startDate:void 0,endDate:void 0,venue:"",expectedParticipants:"",budget:"",objectives:"",targetAudience:"",requirements:""}),[a,i]=h.useState([{id:"1",name:"",role:"",email:""}]),o=(p,b)=>{n(v=>({...v,[p]:b}))},l=()=>{i(p=>[...p,{id:Date.now().toString(),name:"",role:"",email:""}])},c=p=>{i(b=>b.filter(v=>v.id!==p))},d=(p,b,v)=>{i(m=>m.map(x=>x.id===p?{...x,[b]:v}:x))},u=Iv.useSupabaseClient(),f=Iv.useUser(),g=async p=>{if(p.preventDefault(),!f){Ae({title:"Not logged in",description:"Please log in first.",variant:"destructive"});return}const{data:b,error:v}=await u.from("event_requests").insert([{user_id:f.id,event_title:r.eventTitle,event_type:r.eventType,description:r.description,start_date:r.startDate?r.startDate.toISOString().split("T")[0]:null,end_date:r.endDate?r.endDate.toISOString().split("T")[0]:null,venue:r.venue,expected_participants:r.expectedParticipants?Number(r.expectedParticipants):null,budget:r.budget?Number(r.budget):null,objectives:r.objectives,target_audience:r.targetAudience,requirements:r.requirements,committees:JSON.stringify(a),status:"pending"}]).select().single();if(v)Ae({title:"Error",description:v.message,variant:"destructive"});else{try{const{data:m}=await u.from("users").select("name").eq("id",f.id).single();await ld.newEventRequest(b.id,(m==null?void 0:m.name)||"Unknown User",r.eventTitle)}catch(m){console.log("Admin notification failed (non-critical):",m)}Ae({title:"Event Request Submitted! ",description:"Your event request has been submitted for approval. Admins have been notified."}),n({eventTitle:"",eventType:"",description:"",startDate:void 0,endDate:void 0,venue:"",expectedParticipants:"",budget:"",objectives:"",targetAudience:"",requirements:""}),i([{id:"1",name:"",role:"",email:""}])}};return s.jsxs("div",{className:"flex h-screen bg-white",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsx("header",{className:"bg-white border-b border-border p-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Event Request Form"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Submit a new event request for approval"})]})}),s.jsx("main",{className:"p-6",children:s.jsxs("form",{onSubmit:g,className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsx(we,{children:"Basic Information"}),s.jsx(Fe,{children:"Provide the fundamental details about your event"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"eventTitle",children:"Event Title *"}),s.jsx(ee,{id:"eventTitle",placeholder:"Enter event title",value:r.eventTitle,onChange:p=>o("eventTitle",p.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"eventType",children:"Event Type *"}),s.jsxs(zj,{value:r.eventType,onValueChange:p=>o("eventType",p),children:[s.jsx(kp,{children:s.jsx(Bj,{placeholder:"Select event type"})}),s.jsxs(Pp,{children:[s.jsx(un,{value:"academic",children:"Academic"}),s.jsx(un,{value:"sports",children:"Sports"}),s.jsx(un,{value:"cultural",children:"Cultural"}),s.jsx(un,{value:"workshop",children:"Workshop"}),s.jsx(un,{value:"conference",children:"Conference"}),s.jsx(un,{value:"social",children:"Social"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"description",children:"Event Description *"}),s.jsx(yn,{id:"description",placeholder:"Provide a detailed description of the event",value:r.description,onChange:p=>o("description",p.target.value),className:"min-h-[100px]",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Start Date *"}),s.jsxs(Dv,{children:[s.jsx(Mv,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Je,{className:"mr-2 h-4 w-4"}),r.startDate?qn(r.startDate,"PPP"):"Pick a date"]})}),s.jsx(Yh,{className:"w-auto p-0",children:s.jsx(Gh,{mode:"single",selected:r.startDate,onSelect:p=>n(b=>({...b,startDate:p})),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"End Date *"}),s.jsxs(Dv,{children:[s.jsx(Mv,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Je,{className:"mr-2 h-4 w-4"}),r.endDate?qn(r.endDate,"PPP"):"Pick a date"]})}),s.jsx(Yh,{className:"w-auto p-0",children:s.jsx(Gh,{mode:"single",selected:r.endDate,onSelect:p=>n(b=>({...b,endDate:p})),initialFocus:!0})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"venue",children:"Venue *"}),s.jsx(ee,{id:"venue",placeholder:"Event venue",value:r.venue,onChange:p=>o("venue",p.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"expectedParticipants",children:"Expected Participants"}),s.jsx(ee,{id:"expectedParticipants",type:"number",placeholder:"Number of participants",value:r.expectedParticipants,onChange:p=>o("expectedParticipants",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"budget",children:"Estimated Budget"}),s.jsx(ee,{id:"budget",placeholder:"Budget in USD",value:r.budget,onChange:p=>o("budget",p.target.value)})]})]})]})]}),s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsx(we,{children:"Event Details"}),s.jsx(Fe,{children:"Additional information about your event"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"objectives",children:"Event Objectives"}),s.jsx(yn,{id:"objectives",placeholder:"What are the main objectives of this event?",value:r.objectives,onChange:p=>o("objectives",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"targetAudience",children:"Target Audience"}),s.jsx(ee,{id:"targetAudience",placeholder:"Who is this event for?",value:r.targetAudience,onChange:p=>o("targetAudience",p.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"requirements",children:"Special Requirements"}),s.jsx(yn,{id:"requirements",placeholder:"Any special equipment, catering, or other requirements?",value:r.requirements,onChange:p=>o("requirements",p.target.value)})]})]})]}),s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center justify-between",children:["Committee Members",s.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:l,children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),s.jsx(Fe,{children:"Add the organizing committee members for this event"})]}),s.jsx(Z,{className:"space-y-4",children:a.map((p,b)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border border-border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Name"}),s.jsx(ee,{placeholder:"Full name",value:p.name,onChange:v=>d(p.id,"name",v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Role"}),s.jsx(ee,{placeholder:"Committee role",value:p.role,onChange:v=>d(p.id,"role",v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Email"}),s.jsx(ee,{type:"email",placeholder:"Email address",value:p.email,onChange:v=>d(p.id,"email",v.target.value)})]}),s.jsx("div",{className:"flex items-end",children:a.length>1&&s.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>c(p.id),className:"text-destructive hover:text-destructive",children:s.jsx(Yo,{className:"w-4 h-4"})})})]},p.id))})]}),s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsx(we,{children:"Supporting Documents"}),s.jsx(Fe,{children:"Upload any relevant documents for your event"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[s.jsx(EE,{className:"mx-auto h-12 w-12 text-muted-foreground"}),s.jsxs("div",{className:"mt-4",children:[s.jsx(I,{variant:"outline",children:"Choose Files"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"PDF, DOC, XLS files up to 10MB each"})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(I,{type:"button",variant:"outline",children:"Save as Draft"}),s.jsx(I,{type:"submit",variant:"gradient",children:"Submit for Approval"})]})]})})]})]})},r8=()=>{const e=Fs();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},pr=[{label:"Academic",color:"from-blue-400 to-blue-600"},{label:"Sports",color:"from-green-400 to-green-600"},{label:"Cultural",color:"from-pink-400 to-pink-600"},{label:"Research",color:"from-purple-400 to-purple-600"},{label:"Examination",color:"from-red-400 to-red-600"},{label:"Holiday",color:"from-orange-400 to-orange-600"},{label:"Other",color:"from-violet-400 to-violet-600"}],mf=[{id:"fixed-1",title:"Brigada Eskwela (All Dept)",date:"2025-06-25",type:"Academic",description:"All Campus preparation",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-2",title:"INSET (All Dept)",date:"2025-06-27",type:"Academic",description:"MV Gymnasium",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-3",title:"Distribution of Loads",date:"2025-06-28",type:"Academic",description:"All Departments",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-4",title:"Research Activities Orientation",date:"2025-07-01",type:"Research",description:"Research Activities for the Semester",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-5",title:"Title Proposal",date:"2025-07-10",type:"Research",description:"Research title proposal submission",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-6",title:"Research Forum CHTBAM, BSIT, BSCPE",date:"2025-07-13",type:"Research",description:"Research forum for tech programs",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-7",title:"Student Orientation",date:"2025-07-14",type:"Academic",description:"New student orientation",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-8",title:"BS Criminology Research Forum",date:"2025-07-20",type:"Research",description:"Research forum for criminology students",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-9",title:"INC Founding Anniversary",date:"2025-07-27",type:"Holiday",description:"Special Non-Working Holiday",color:"from-orange-400 to-orange-600",isFixed:!0},{id:"fixed-10",title:"Nutrition Month Celebration",date:"2025-07-31",type:"Cultural",description:"Food contests and SPS Project",color:"from-pink-400 to-pink-600",isFixed:!0},{id:"fixed-11",title:"Research Forum BSBA, BSEntrep, BSAIS",date:"2025-08-03",type:"Research",description:"Business programs research forum",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-12",title:"Administration of Preliminary Examination",date:"2025-08-10",type:"Examination",description:"Preliminary exams for all departments",color:"from-red-400 to-red-600",isFixed:!0},{id:"fixed-13",title:"Research Forum SHS",date:"2025-08-11",type:"Research",description:"Senior High School research forum",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-14",title:"Photoshoot for Graduating Students",date:"2025-08-15",type:"Academic",description:"Academic Year 2025-2026 graduation photos",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-15",title:"ENTREP EXPO FAIR 2025",date:"2025-08-18",type:"Academic",description:"Business Programs MV & Annex Campus 8:00am - 5:00pm",color:"from-green-400 to-green-600",isFixed:!0},{id:"fixed-16",title:"Ninoy Aquino Day",date:"2025-08-21",type:"Holiday",description:"Special Non-Working Holiday",color:"from-orange-400 to-orange-600",isFixed:!0},{id:"fixed-17",title:"Departmental Sportsfest",date:"2025-08-25",type:"Sports",description:"SHS & College Department sports",color:"from-green-400 to-green-600",isFixed:!0},{id:"fixed-18",title:"National Heroes Day",date:"2025-08-25",type:"Holiday",description:"Regular Holiday",color:"from-orange-400 to-orange-600",isFixed:!0},{id:"fixed-19",title:"1st Quarter Examination SHS",date:"2025-09-08",type:"Examination",description:"Senior High School 1st quarter exams",color:"from-red-400 to-red-600",isFixed:!0},{id:"fixed-20",title:"Submission Deadline 1st Quarter Grades",date:"2025-09-19",type:"Academic",description:"SHS Department grade submission",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-21",title:"Team Teaching Collaboration",date:"2025-09-22",type:"Academic",description:"Industry experts collaboration",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-22",title:"School Sports Fest",date:"2025-09-26",type:"Sports",description:"Annual school sports festival",color:"from-green-400 to-green-600",isFixed:!0},{id:"fixed-23",title:"Parents Teacher Conference (PTC)",date:"2025-09-26",type:"Academic",description:"Releasing of First Quarter Cards",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-24",title:"10th Multidisciplinary Research",date:"2025-10-06",type:"Research",description:"College registrar research presentation",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-25",title:"Submission of Dean's Research Clearance",date:"2025-10-27",type:"Research",description:"Research clearance submission",color:"from-purple-400 to-purple-600",isFixed:!0},{id:"fixed-26",title:"Administration of Final Examination",date:"2025-10-29",type:"Examination",description:"College Department final exams",color:"from-red-400 to-red-600",isFixed:!0},{id:"fixed-27",title:"Submission of Grades (College)",date:"2025-10-31",type:"Academic",description:"College Department grade submission",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-28",title:"Start of Semestral Break",date:"2025-10-31",type:"Academic",description:"College & SHS semestral break begins",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-29",title:"All Saints Eve & All Saints Day",date:"2025-11-01",type:"Holiday",description:"Special Non-Working Holiday",color:"from-orange-400 to-orange-600",isFixed:!0},{id:"fixed-30",title:"Submission Deadline Second Quarter Grades",date:"2025-11-10",type:"Academic",description:"SHS Department 2nd quarter grades",color:"from-blue-400 to-blue-600",isFixed:!0},{id:"fixed-31",title:"Parents-Teachers Conference (PTC)",date:"2025-11-13",type:"Academic",description:"Releasing of First Semester Cards (SHS)",color:"from-blue-400 to-blue-600",isFixed:!0}],jN=(e,t,r)=>{const n=new Date(e,t,r),a=n.getFullYear().toString(),i=(n.getMonth()+1).toString().padStart(2,"0"),o=n.getDate().toString().padStart(2,"0");return`${a}-${i}-${o}`},n8=()=>{const e=new Date;return jN(e.getFullYear(),e.getMonth(),e.getDate())};function s8(e,t){return new Date(e,t+1,0).getDate()}function a8(e,t){return new Date(e,t,1).getDay()}const i8=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState([]),[a,i]=h.useState(n8()),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState({title:"",date:a,type:pr[0].label,description:"",color:pr[0].color,isCustom:!0}),[g,p]=h.useState(null),[b,v]=h.useState(!1),m=new Date,[x,y]=h.useState(m.getMonth()),[w,N]=h.useState(m.getFullYear()),j=async()=>{var O;v(!0);try{console.log(" Loading calendar events...");const E=JSON.parse(localStorage.getItem("user")||"{}");console.log("Current user:",E);const{data:A,error:U}=await $.from("calendar_events").select("*").order("date",{ascending:!0});U&&(console.error("Database error:",U),(U.code==="42P01"||(O=U.message)!=null&&O.includes('relation "calendar_events" does not exist'))&&(console.log(" calendar_events table does not exist. Please run SIMPLE_CALENDAR_SETUP.sql"),Ae({title:" Database Setup Required",description:"Calendar table not found. Please run SIMPLE_CALENDAR_SETUP.sql in Supabase SQL Editor.",variant:"destructive"})));const X=(A||[]).map(se=>{var de;return{id:se.id,title:se.title,date:se.date,type:se.type,description:se.description||"",color:((de=pr.find(Re=>Re.label===se.type))==null?void 0:de.color)||pr[0].color,isCustom:!0}}),te=[...mf,...X];console.log(" Loaded events:",{fixed:mf.length,custom:X.length,total:te.length}),n(te)}catch(E){console.error("Error loading events:",E),n(mf)}finally{v(!1)}};h.useEffect(()=>{j()},[]);const S=O=>{d(!1),f({title:"",date:O,type:pr[0].label,description:"",color:pr[0].color,isCustom:!0}),l(!0)},_=O=>{if(O.isFixed){Ae({title:"Cannot Edit",description:"This is a fixed school calendar event and cannot be modified.",variant:"destructive"});return}d(!0),p(O.id),f({title:O.title,date:O.date,type:O.type,description:O.description,color:O.color,isCustom:O.isCustom}),l(!0)},R=async O=>{var E;if(O.preventDefault(),!u.title||!u.date||!u.type){Ae({title:"All fields required",description:"Please fill in all fields.",variant:"destructive"});return}v(!0);try{const A=JSON.parse(localStorage.getItem("user")||"{}");if(console.log(" Saving event:",u),console.log("Current user:",A),console.log(" Date being saved:",u.date,"(Philippines timezone)"),c&&g!==null){console.log(" Updating event ID:",g);const{error:U}=await $.from("calendar_events").update({title:u.title,description:u.description,date:u.date,type:u.type,updated_at:new Date().toISOString()}).eq("id",g);if(U)throw console.error("Update error:",U),U;Ae({title:" Event Updated",description:"The event was updated successfully."})}else{console.log(" Adding new event");const{data:U,error:X}=await $.from("calendar_events").insert([{title:u.title,description:u.description,date:u.date,type:u.type,created_by:A.id||null}]).select();if(X)throw console.error("Insert error:",X),X;console.log(" Event inserted:",U),Ae({title:" Event Added",description:"The event was added successfully."})}await j(),l(!1),d(!1),p(null),f({title:"",date:"",type:pr[0].label,description:"",color:pr[0].color,isCustom:!1})}catch(A){console.error("Error saving event:",A);let U="Failed to save event. Please try again.";A.code==="42P01"||(E=A.message)!=null&&E.includes('relation "calendar_events" does not exist')?U=" Calendar table not found. Please run SIMPLE_CALENDAR_SETUP.sql in Supabase SQL Editor first.":A.code==="23505"?U="An event with this information already exists.":A.message&&(U=A.message),Ae({title:"Error",description:U,variant:"destructive"})}finally{v(!1)}},P=async O=>{const E=r.find(A=>A.id===O);if(E!=null&&E.isFixed){Ae({title:"Cannot Delete",description:"This is a fixed school calendar event and cannot be deleted.",variant:"destructive"});return}if(confirm("Are you sure you want to delete this event?")){v(!0);try{console.log(" Deleting event ID:",O);const{error:A}=await $.from("calendar_events").delete().eq("id",O);if(A)throw console.error("Delete error:",A),A;console.log(" Event deleted successfully"),Ae({title:" Event Deleted",description:"The event was deleted successfully."}),await j(),l(!1)}catch(A){console.error("Error deleting event:",A);let U="Failed to delete event. Please try again.";A.code==="42P01"?U="Calendar table not found. Please run the database setup script.":A.message&&(U=A.message),Ae({title:"Error",description:U,variant:"destructive"})}finally{v(!1)}}},C=async()=>{try{v(!0),console.log(" Testing database connection...");const{data:O,error:E}=await $.from("calendar_events").select("count(*)").limit(1);return E?(console.error("Database test failed:",E),E.code==="42P01"?Ae({title:" Database Setup Required",description:"Please run the SQL script from fix_calendar_table.sql or CALENDAR_SETUP.md",variant:"destructive"}):Ae({title:" Database Error",description:E.message,variant:"destructive"}),!1):(console.log(" Database test successful"),Ae({title:" Database OK",description:"Calendar database is working properly!"}),!0)}catch(O){return console.error("Database test error:",O),Ae({title:" Database Test Failed",description:"Unable to connect to database",variant:"destructive"}),!1}finally{v(!1)}},D=O=>r.filter(E=>E.date===O),M=O=>{var E;return((E=pr.find(A=>A.label===O))==null?void 0:E.color)||"from-blue-400 to-blue-600"},q=s8(w,x),F=a8(w,x),z=[];let W=1-F;for(let O=0;O<6;O++){const E=[];for(let A=0;A<7;A++){if(W>0&&W<=q){const U=jN(w,x,W);E.push({day:W,date:U})}else E.push({day:null,date:""});W++}z.push(E)}return s.jsxs("div",{className:"flex h-screen bg-white",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen p-0 m-0",children:[s.jsx("header",{className:"bg-gradient-to-r from-blue-500 to-violet-500 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:[s.jsx(Je,{className:"w-8 h-8"}),"Calendar"]}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"School Event Calendar"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(I,{variant:"outline",className:"bg-white/20 text-white border-white/30 hover:bg-white/30",onClick:j,disabled:b,children:[s.jsx(So,{className:`w-4 h-4 mr-1 ${b?"animate-spin":""}`}),"Refresh"]}),s.jsx(I,{variant:"outline",className:"bg-white/20 text-white border-white/30 hover:bg-white/30",onClick:C,disabled:b,children:" Test DB"}),s.jsxs(I,{className:"bg-white text-blue-600 hover:bg-gray-100",onClick:()=>S(a),disabled:b,children:[s.jsx(At,{className:"w-4 h-4 mr-1"})," Add Event"]})]})]})}),s.jsxs("section",{className:"flex-1 flex flex-col items-center justify-start bg-white p-4",children:[s.jsxs("div",{className:"flex items-center justify-between w-full max-w-3xl mb-2",children:[s.jsx(I,{variant:"ghost",onClick:()=>{x===0?(y(11),N(w-1)):y(x-1)},children:"<"}),s.jsx("div",{className:"font-bold text-xl text-blue-700",children:new Date(w,x).toLocaleString("default",{month:"long",year:"numeric"})}),s.jsx(I,{variant:"ghost",onClick:()=>{x===11?(y(0),N(w+1)):y(x+1)},children:">"})]}),s.jsx("div",{className:"w-full max-w-5xl bg-white rounded-lg shadow border",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{children:s.jsx("tr",{className:"bg-gradient-to-r from-blue-500 to-violet-500 text-white",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(O=>s.jsx("th",{className:"py-3 text-center text-sm font-medium",children:O},O))})}),s.jsx("tbody",{children:z.map((O,E)=>s.jsx("tr",{children:O.map((A,U)=>s.jsxs("td",{className:"align-top h-16 border border-gray-200 relative cursor-pointer group hover:bg-blue-50 transition-colors p-1",onClick:()=>A.day&&i(A.date),style:{background:A.date===a?"#dbeafe":"transparent",width:"14.28%"},children:[A.day&&s.jsx("div",{className:"font-semibold text-xs text-gray-800 mb-1",children:A.day}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[A.day&&r.filter(X=>X.date===A.date).slice(0,2).map(X=>s.jsxs("div",{className:`rounded px-1 py-0.5 text-xs text-white cursor-pointer bg-gradient-to-r ${M(X.type)} flex items-center gap-1 truncate`,title:`${X.title} - ${X.description} ${X.isFixed?"(School Event)":"(Custom Event)"}`,onClick:te=>{te.stopPropagation(),_(X)},children:[X.isFixed&&s.jsx(fx,{className:"w-2 h-2 flex-shrink-0"}),s.jsxs("span",{className:"truncate text-xs",children:[X.title.substring(0,12),"..."]})]},X.id)),A.day&&r.filter(X=>X.date===A.date).length>2&&s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",r.filter(X=>X.date===A.date).length-2," more"]})]})]},U))},E))})]})}),s.jsxs("div",{className:"w-full max-w-5xl mt-4",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-2 text-blue-700 flex items-center gap-2",children:[s.jsx(Je,{className:"w-5 h-5"}),"Events on ",new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),D(a).length===0&&s.jsxs("div",{className:"text-gray-400 p-4 border rounded-lg text-center",children:[s.jsx(Je,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),"No events for this day.",s.jsxs(I,{size:"sm",className:"mt-2 ml-2",onClick:()=>S(a),children:[s.jsx(At,{className:"w-4 h-4 mr-1"}),"Add Event"]})]}),D(a).map(O=>s.jsxs("div",{className:`rounded-lg p-3 mb-2 bg-gradient-to-r ${M(O.type)} text-white shadow flex flex-col gap-1 relative`,children:[O.isFixed&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(fx,{className:"w-4 h-4 text-white/70"})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold flex items-center gap-2",children:[O.title,O.isFixed&&s.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded",children:"School Event"})]}),s.jsx("div",{className:"text-xs",children:O.type})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(I,{size:"icon",variant:"ghost",className:"text-white hover:bg-white/20",onClick:()=>_(O),"aria-label":O.isFixed?"View Details":"Edit",disabled:O.isFixed,children:s.jsx(Uw,{className:"w-4 h-4"})}),!O.isFixed&&s.jsx(I,{size:"icon",variant:"ghost",className:"text-white hover:bg-white/20",onClick:()=>P(O.id),"aria-label":"Delete",children:s.jsx(Yo,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"text-xs",children:O.description}),O.isFixed&&s.jsx("div",{className:"text-xs bg-white/10 rounded px-2 py-1 mt-1",children:" This is an official school event and cannot be modified"})]},O.id))]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[s.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>l(!1),children:s.jsx(Qm,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-xl font-bold mb-4",children:c?"Edit Event":"Add Event"}),s.jsxs("form",{onSubmit:R,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"event-title",children:"Title"}),s.jsx(ee,{id:"event-title",value:u.title,onChange:O=>f(E=>({...E,title:O.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"event-date",children:"Date (Philippines timezone)"}),s.jsx(ee,{id:"event-date",type:"date",value:u.date,onChange:O=>{console.log(" Date input changed:",O.target.value),f(E=>({...E,date:O.target.value}))},required:!0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Date will be saved as: ",u.date]})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"event-type",children:"Type"}),s.jsx("select",{id:"event-type",value:u.type,onChange:O=>{var U;const E=O.target.value,A=((U=pr.find(X=>X.label===E))==null?void 0:U.color)||pr[0].color;f(X=>({...X,type:E,color:A}))},className:"w-full border rounded px-3 py-2",required:!0,children:pr.map(O=>s.jsx("option",{value:O.label,children:O.label},O.label))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"event-description",children:"Description"}),s.jsx(ee,{id:"event-description",value:u.description,onChange:O=>f(E=>({...E,description:O.target.value}))})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(I,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:b,children:b?"Saving...":c?"Update Event":"Add Event"}),c&&s.jsx(I,{type:"button",variant:"destructive",className:"flex-1",onClick:()=>g&&P(g),disabled:b,children:"Delete Event"})]})]})]})})]})},o8=e=>{switch(e){case"event_request":return s.jsx(Je,{className:"w-5 h-5 text-blue-600"});case"event_approved":return s.jsx(Yc,{className:"w-5 h-5 text-green-600"});case"event_rejected":return s.jsx(ml,{className:"w-5 h-5 text-red-600"});case"registration":return s.jsx(Bw,{className:"w-5 h-5 text-purple-600"});case"participant_joined":return s.jsx(Ye,{className:"w-5 h-5 text-blue-600"});case"announcement":return s.jsx(Tt,{className:"w-5 h-5 text-orange-600"});case"report_update":return s.jsx(ea,{className:"w-5 h-5 text-gray-600"});default:return s.jsx(Tt,{className:"w-5 h-5 text-gray-600"})}},l8=e=>{switch(e){case"event_request":return"bg-blue-50 border-blue-200";case"event_approved":return"bg-green-50 border-green-200";case"event_rejected":return"bg-red-50 border-red-200";case"registration":return"bg-purple-50 border-purple-200";case"participant_joined":return"bg-blue-50 border-blue-200";case"announcement":return"bg-orange-50 border-orange-200";case"report_update":return"bg-gray-50 border-gray-200";default:return"bg-gray-50 border-gray-200"}},c8=e=>{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/(1e3*60));if(n<1)return"Just now";if(n<60)return`${n} minutes ago`;const a=Math.floor(n/60);if(a<24)return`${a} hours ago`;const i=Math.floor(a/24);return i<7?`${i} days ago`:t.toLocaleDateString()},d8=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState([]),[a,i]=h.useState(!0),[o,l]=h.useState(!1),{toast:c}=hr(),d=JSON.parse(localStorage.getItem("user")||"{}"),u=async()=>{if(!(d!=null&&d.id)){i(!1);return}try{l(!0);const b=await f3(d.id);n(b)}catch(b){console.error("Error loading notifications:",b),c({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{i(!1),l(!1)}};h.useEffect(()=>{u()},[d==null?void 0:d.id]);const f=async b=>{try{await m3(b)&&(n(m=>m.map(x=>x.id===b?{...x,is_read:!0}:x)),c({title:"Success",description:"Notification marked as read"}))}catch(v){console.error("Error marking notification as read:",v),c({title:"Error",description:"Failed to mark notification as read",variant:"destructive"})}},g=async()=>{if(d!=null&&d.id)try{await p3(d.id)&&(n(v=>v.map(m=>({...m,is_read:!0}))),c({title:"Success",description:"All notifications marked as read"}))}catch(b){console.error("Error marking all notifications as read:",b),c({title:"Error",description:"Failed to mark all notifications as read",variant:"destructive"})}},p=r.filter(b=>!b.is_read).length;return s.jsxs("div",{className:"flex h-screen w-screen bg-white overflow-hidden",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen w-full p-0 m-0",children:[s.jsxs("header",{className:"bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:[s.jsx(Tt,{className:"w-8 h-8"}),"Notifications"]}),s.jsx("p",{className:"text-purple-100 text-sm",children:"Stay updated with your events and activities"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(I,{variant:"secondary",onClick:u,disabled:o,className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:[s.jsx(So,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),p>0&&s.jsx(I,{variant:"secondary",onClick:g,className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:"Mark All Read"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[s.jsx(J,{children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Tt,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-xl font-semibold",children:r.length})]})]})})}),s.jsx(J,{children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(ml,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unread"}),s.jsx("p",{className:"text-xl font-semibold",children:p})]})]})})}),s.jsx(J,{children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Yc,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Read"}),s.jsx("p",{className:"text-xl font-semibold",children:r.length-p})]})]})})})]}),s.jsxs(J,{children:[s.jsxs(ye,{children:[s.jsx(we,{children:"Recent Notifications"}),s.jsx(Fe,{children:"Your latest updates and announcements"})]}),s.jsx(Z,{children:a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(So,{className:"w-8 h-8 mx-auto mb-4 animate-spin text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"Loading notifications..."})]}):r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900",children:"No notifications yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"You'll see updates about your events and activities here"}),s.jsxs(I,{variant:"outline",onClick:u,children:[s.jsx(So,{className:"w-4 h-4 mr-2"}),"Check for Updates"]})]}):s.jsx("div",{className:"space-y-3",children:r.map(b=>s.jsx("div",{className:`border rounded-lg p-4 transition-all hover:shadow-md cursor-pointer ${b.is_read?"bg-white border-gray-200":`${l8(b.type)} shadow-sm`}`,onClick:()=>!b.is_read&&f(b.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${b.is_read?"bg-gray-100":"bg-white"}`,children:o8(b.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:`font-medium ${b.is_read?"text-gray-600":"text-gray-900"}`,children:b.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{variant:b.is_read?"secondary":"default",children:b.type.replace("_"," ")}),s.jsx("span",{className:"text-xs text-gray-500",children:c8(b.created_at)}),!b.is_read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:b.message}),!b.is_read&&s.jsx(I,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:v=>{v.stopPropagation(),f(b.id)},children:"Mark as read"})]})]})},b.id))})})]})]})})]})]})};var ou="Dialog",[NN,eM]=Hn(ou),[u8,Zr]=NN(ou),_N=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=pa({prop:n,defaultProp:a??!1,onChange:i,caller:ou});return s.jsx(u8,{scope:t,triggerRef:l,contentRef:c,contentId:Fn(),titleId:Fn(),descriptionId:Fn(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};_N.displayName=ou;var SN="DialogTrigger",f8=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zr(SN,r),i=Ue(t,a.triggerRef);return s.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Hp(a.open),...n,ref:i,onClick:ae(e.onClick,a.onOpenToggle)})});f8.displayName=SN;var qp="DialogPortal",[h8,EN]=NN(qp,{forceMount:void 0}),CN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Zr(qp,t);return s.jsx(h8,{scope:t,forceMount:r,children:h.Children.map(n,o=>s.jsx(Gn,{present:r||i.open,children:s.jsx(fl,{asChild:!0,container:a,children:o})}))})};CN.displayName=qp;var hd="DialogOverlay",kN=h.forwardRef((e,t)=>{const r=EN(hd,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zr(hd,e.__scopeDialog);return i.modal?s.jsx(Gn,{present:n||i.open,children:s.jsx(p8,{...a,ref:t})}):null});kN.displayName=hd;var m8=ma("DialogOverlay.RemoveScroll"),p8=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zr(hd,r);return s.jsx(tu,{as:m8,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(be.div,{"data-state":Hp(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),wa="DialogContent",PN=h.forwardRef((e,t)=>{const r=EN(wa,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zr(wa,e.__scopeDialog);return s.jsx(Gn,{present:n||i.open,children:i.modal?s.jsx(g8,{...a,ref:t}):s.jsx(x8,{...a,ref:t})})});PN.displayName=wa;var g8=h.forwardRef((e,t)=>{const r=Zr(wa,e.__scopeDialog),n=h.useRef(null),a=Ue(t,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return Ep(i)},[]),s.jsx(TN,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault())})}),x8=h.forwardRef((e,t)=>{const r=Zr(wa,e.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(TN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),TN=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Zr(wa,r),c=h.useRef(null),d=Ue(t,c);return Sp(),s.jsxs(s.Fragment,{children:[s.jsx(Zd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Hp(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(v8,{titleId:l.titleId}),s.jsx(w8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Vp="DialogTitle",RN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zr(Vp,r);return s.jsx(be.h2,{id:a.titleId,...n,ref:t})});RN.displayName=Vp;var AN="DialogDescription",ON=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zr(AN,r);return s.jsx(be.p,{id:a.descriptionId,...n,ref:t})});ON.displayName=AN;var DN="DialogClose",MN=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zr(DN,r);return s.jsx(be.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>a.onOpenChange(!1))})});MN.displayName=DN;function Hp(e){return e?"open":"closed"}var IN="DialogTitleWarning",[tM,FN]=NS(IN,{contentName:wa,titleName:Vp,docsSlug:"dialog"}),v8=({titleId:e})=>{const t=FN(IN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},y8="DialogDescriptionWarning",w8=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FN(y8).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},b8=_N,j8=CN,LN=kN,$N=PN,UN=RN,zN=ON,N8=MN;const _8=b8,S8=j8,BN=h.forwardRef(({className:e,...t},r)=>s.jsx(LN,{ref:r,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BN.displayName=LN.displayName;const WN=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(S8,{children:[s.jsx(BN,{}),s.jsxs($N,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(N8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Qm,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WN.displayName=$N.displayName;const qN=({className:e,...t})=>s.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qN.displayName="DialogHeader";const VN=h.forwardRef(({className:e,...t},r)=>s.jsx(UN,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));VN.displayName=UN.displayName;const E8=h.forwardRef(({className:e,...t},r)=>s.jsx(zN,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));E8.displayName=zN.displayName;const C8=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState([]),[a,i]=h.useState(null),[o,l]=h.useState(!1),[c,d]=h.useState(""),[u,f]=h.useState(!1),{toast:g}=hr(),p=async()=>{var x;f(!0);try{const{data:y}=await $.from("event_requests").select(`
          *,
          requester:requester_id (name)
        `).eq("status","approved").order("date",{ascending:!0});console.log("Participants Page - Event requests loaded:",(y==null?void 0:y.length)||0),console.log("Event Request IDs:",y==null?void 0:y.map(N=>N.id));const w=[];for(const N of y||[]){console.log(`
Processing event: ${N.title} (ID: ${N.id})`);let j=[];try{const{data:S,error:_}=await $.rpc("get_event_participants",{event_id:N.id});console.log(`RPC get_event_participants for ${N.title}:`,S,_),S&&!_&&(j=S.map((R,P)=>({id:R.id||`participant-${P}`,name:R.name||R.user_name||"Registered User",email:R.email||R.user_email||"user@student.edu",role:R.role||R.user_role||"participant",student_id:R.student_id||"",department:R.department||"",year_level:R.year_level||"",phone:R.phone||"",registration_date:R.registration_date||R.created_at||new Date().toISOString(),attendance_status:R.attendance_status||"registered"})),console.log(` FOUND ${j.length} REAL PARTICIPANTS via RPC!`))}catch(S){console.log("RPC method failed:",S)}if(j.length===0)try{const{data:S,error:_}=await $.from("event_registrations").select("*").eq("event_id",N.id);if(console.log(`Direct query event_registrations for ${N.title}:`,S,_),S&&S.length>0&&!_){for(const R of S){const{data:P}=await $.from("users").select("*").eq("id",R.participant_id||R.user_id).single();P&&j.push({id:P.id,name:P.name||"Registered User",email:P.email||"user@student.edu",role:P.role||"participant",student_id:P.student_id||"",department:P.department||"",year_level:P.year_level||"",phone:P.phone||"",registration_date:R.registration_date||R.created_at||new Date().toISOString(),attendance_status:R.attendance_status||"registered"})}console.log(` FOUND ${j.length} REAL PARTICIPANTS via direct query + user lookup!`)}}catch(S){console.log("Direct query method failed:",S)}console.log(` Final result for "${N.title}": ${j.length} users who actually registered for THIS event`),w.push({id:N.id,title:N.title,date:N.date,time:N.time||"00:00",venue:N.venue||"TBA",current_participants:j.length,max_participants:N.expected_participants||50,event_type:N.event_type||"General",description:N.description||"",organizer_name:((x=N.requester)==null?void 0:x.name)||"Unknown",participants:j})}console.log("Participants Page - Total events with participants:",w.length),w.forEach(N=>{console.log(`${N.title}: ${N.participants.length} participants`)}),n(w)}catch(y){console.error("Error loading events with participants:",y),g({title:"Error",description:"Failed to load participants data",variant:"destructive"})}finally{f(!1)}};h.useEffect(()=>{p()},[]);const b=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=x=>new Date(x).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),m=r.filter(x=>x.title.toLowerCase().includes(c.toLowerCase())||x.event_type.toLowerCase().includes(c.toLowerCase())||x.organizer_name.toLowerCase().includes(c.toLowerCase())||x.venue.toLowerCase().includes(c.toLowerCase())||x.participants.some(y=>y.name.toLowerCase().includes(c.toLowerCase())||y.email.toLowerCase().includes(c.toLowerCase())||y.role.toLowerCase().includes(c.toLowerCase())));return s.jsxs("div",{className:"flex h-screen w-screen bg-white overflow-hidden",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen w-full p-0 m-0",children:[s.jsx("header",{className:"bg-gradient-to-r from-blue-500 to-violet-500 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Participants"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{variant:"outline",className:"bg-white/20 text-white border-white/30 hover:bg-white/30",onClick:p,disabled:u,children:u?"Loading...":"Refresh"}),s.jsxs(I,{variant:"gradient",className:"bg-gradient-to-r from-blue-500 to-violet-500 text-white flex items-center gap-2",children:[s.jsx(Bw,{className:"w-5 h-5"})," Add Participant"]})]})]})}),s.jsx("section",{className:"flex-1 flex flex-col items-center justify-start bg-white p-4 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(ee,{placeholder:"Search events, participants, organizers...",value:c,onChange:x=>d(x.target.value),className:"w-80"}),s.jsxs("span",{className:"text-gray-500 text-sm",children:[m.length," event(s)"]})]}),u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading events..."})]}):s.jsx("div",{className:"grid gap-6",children:m.length===0&&!u?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(Ye,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No events found."}),s.jsx("p",{className:"text-xs mt-1",children:"Events with participants will appear here."})]}):m.map(x=>s.jsx(J,{className:"w-full",children:s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(we,{className:"text-xl",children:x.title}),s.jsx(Fe,{className:"mt-2",children:s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[" ",b(x.date)," at ",x.time]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",x.venue]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",x.current_participants,"/",x.max_participants," participants"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",x.event_type]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" Organized by ",x.organizer_name]})]})})]}),s.jsxs(I,{onClick:()=>{i(x),l(!0)},variant:"outline",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 border-0",children:[s.jsx(_a,{className:"w-4 h-4 mr-2"})," View Participants"]})]})})},x.id))})]})})]}),s.jsx(_8,{open:o,onOpenChange:l,children:s.jsx(WN,{className:"max-w-7xl max-h-[90vh] overflow-hidden p-0",children:s.jsx("div",{className:"bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 p-1 rounded-lg",children:s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[s.jsx(qN,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:s.jsx(Ye,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsxs(VN,{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[" ",a==null?void 0:a.title," - Participants"]}),s.jsxs("p",{className:"text-lg text-gray-600 mt-1",children:[(a==null?void 0:a.participants.length)||0," people registered!"]})]})]})})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:(a==null?void 0:a.participants.length)===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-8xl mb-6",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No participants yet!"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Be the first one to join this event!"}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-full",children:[s.jsx("span",{className:"text-blue-600",children:""}),s.jsx("span",{className:"text-blue-700 font-medium",children:"Registration is still open!"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:" Meet our fantastic participants! "}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[" ",a&&b(a.date)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",a==null?void 0:a.venue]}),s.jsxs("span",{className:"flex items-center gap-1",children:[" ",a==null?void 0:a.event_type]})]})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a==null?void 0:a.participants.map((x,y)=>s.jsx("div",{className:"group",children:s.jsx(J,{className:"border-2 border-transparent group-hover:border-gradient-to-r group-hover:from-blue-400 group-hover:to-purple-500 shadow-lg group-hover:shadow-2xl bg-white transition-all duration-300 transform group-hover:scale-105",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:x.name.charAt(0).toUpperCase()}),s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs",children:""})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-gray-800",children:x.name}),s.jsx(oe,{variant:"outline",className:"text-xs mt-1 border-2",children:x.role==="admin"?" Admin":x.role==="organizer"?" Organizer":x.role==="participant"?" Participant":x.role})]})]}),s.jsx("div",{className:"text-3xl",children:y%5===0?"":y%5===1?"":y%5===2?"":y%5===3?"":""})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-blue-50 p-2 rounded-lg",children:[s.jsx("span",{className:"text-blue-500 text-lg",children:""}),s.jsx("span",{className:"font-medium",children:x.email})]}),x.student_id&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-green-50 p-2 rounded-lg",children:[s.jsx("span",{className:"text-green-500 text-lg",children:""}),s.jsxs("span",{children:["ID: ",s.jsx("strong",{children:x.student_id})]})]}),x.department&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-purple-50 p-2 rounded-lg",children:[s.jsx("span",{className:"text-purple-500 text-lg",children:""}),s.jsx("span",{children:s.jsx("strong",{children:x.department})})]}),x.year_level&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-orange-50 p-2 rounded-lg",children:[s.jsx("span",{className:"text-orange-500 text-lg",children:""}),s.jsxs("span",{children:["Year ",s.jsx("strong",{children:x.year_level})]})]}),x.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-red-50 p-2 rounded-lg",children:[s.jsx("span",{className:"text-red-500 text-lg",children:""}),s.jsx("span",{children:s.jsx("strong",{children:x.phone})})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(oe,{variant:x.attendance_status==="attended"?"default":x.attendance_status==="registered"?"secondary":"outline",className:"font-medium text-sm px-3 py-1",children:x.attendance_status==="attended"?" Attended":x.attendance_status==="registered"?" Registered":x.attendance_status})}),s.jsx("div",{className:"text-xs text-gray-500 mt-2 bg-gray-50 p-2 rounded",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Registered: ",v(x.registration_date)]})]})})]})]})})})},x.id))}),s.jsxs("div",{className:"mt-8 text-center bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Total Participants: ",s.jsx("span",{className:"text-blue-600",children:a==null?void 0:a.participants.length})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Maximum Capacity: ",a==null?void 0:a.max_participants," | Available Spots: ",((a==null?void 0:a.max_participants)||0)-((a==null?void 0:a.participants.length)||0)]})]})]})})]})})})})]})},k8=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState([]),[a,i]=h.useState(""),[o,l]=h.useState({name:"",location:"",capacity:"",image:"",description:"",amenities:""}),[c,d]=h.useState(!1),[u,f]=h.useState(null),g=_n(),{toast:p}=hr(),b=async()=>{console.log(" ADMIN: Loading venues from VENUES DATABASE...");try{const j=await cd();if(j.length>0){console.log(" ADMIN: Found existing venues:",j.length),n(j);return}console.log(" ADMIN: No venues found, creating from approved events...");const S=await q1();if(S.length>0)console.log(" ADMIN: Created venues from events:",S.length),n(S);else{const _=await cd();_.length>0?(console.log(" ADMIN: Found venues after creation:",_.length),n(_)):(console.log(" ADMIN: Still no venues found after creation attempt"),n([]))}}catch(j){console.error("Error loading venues:",j),n([])}};h.useEffect(()=>{b();const j=setInterval(b,3e3);return()=>clearInterval(j)},[]);const v=async j=>{var _;const S=(_=j.target.files)==null?void 0:_[0];if(S)try{const R=await V1(S);R&&(l(P=>({...P,image:R})),p({title:"Image uploaded!",description:R.startsWith("data:")?"Image saved locally!":"Image uploaded to cloud storage!"}))}catch(R){console.error("Error uploading image:",R),p({title:"Upload failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}},m=async j=>{if(j.preventDefault(),!(!o.name||!o.location||!o.capacity))try{const{data:S,error:_}=await $.from("venues").insert([{name:o.name,description:o.description||"Event venue",capacity:o.capacity,location:o.location,venue_type:"auditorium",facilities:o.amenities?o.amenities.split(",").map(R=>R.trim()).filter(R=>R):[],hourly_rate:0,is_active:!0,image_url:o.image||null}]).select().single();if(_)throw console.error(" Database save error:",_),_;console.log(" VENUE SAVED TO DATABASE!"),l({name:"",location:"",capacity:"",image:"",description:"",amenities:""}),d(!1),p({title:"SUCCESS!",description:"Venue added! Organizer will see this automatically!"}),await b()}catch(S){console.error("Error adding venue:",S),p({title:"Error",description:"Failed to add venue",variant:"destructive"})}},x=async j=>{if(confirm("Are you sure you want to delete this venue? This will remove it from the shared database and Organizer will no longer see it!"))try{const{error:S}=await $.from("venues").update({is_active:!1}).eq("id",j);if(S)throw console.error(" Database delete error:",S),S;console.log(" VENUE DELETED FROM DATABASE!"),await b(),p({title:"SUCCESS!",description:"Venue deleted from shared database! Organizer will see this change automatically!"})}catch(S){console.error("Error deleting venue:",S),p({title:"Error",description:"Failed to delete venue",variant:"destructive"})}},y=j=>{var S;f(j),l({name:j.name,location:j.location,capacity:j.capacity.toString(),image:j.image_url||"",description:j.description||"",amenities:((S=j.amenities)==null?void 0:S.join(", "))||""}),d(!0)},w=async()=>{if(!u)return;const j={name:o.name,description:o.description||"Event venue",capacity:o.capacity,location:o.location,venue_type:"auditorium",facilities:o.amenities?o.amenities.split(",").map(S=>S.trim()).filter(S=>S):[],hourly_rate:0,is_active:!0,image_url:o.image,updated_at:new Date().toISOString()};console.log(" ADMIN: Updating venue in DATABASE:",j);try{const{error:S}=await $.from("venues").update(j).eq("id",u.id);if(S)throw console.error(" Database update error:",S),S;console.log(" VENUE UPDATED IN DATABASE!"),await b(),l({name:"",location:"",capacity:"",image:"",description:"",amenities:""}),d(!1),f(null),p({title:"SUCCESS!",description:"Venue updated in DATABASE! Organizer will see changes immediately!"})}catch(S){console.error("Error updating venue:",S),p({title:"Error",description:"Failed to update venue in database",variant:"destructive"})}},N=r.filter(j=>j.name.toLowerCase().includes(a.toLowerCase())||j.location.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"flex h-screen w-screen bg-white overflow-hidden",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen w-full p-0 m-0",children:[s.jsxs("header",{className:"bg-gradient-to-r from-blue-500 to-violet-500 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:" Venue Registration - SAME DATABASE AS ORGANIZER!"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Direct database sync with Organizer Dashboard"})]}),s.jsx(I,{variant:"gradient",className:"bg-gradient-to-r from-blue-500 to-violet-500 text-white flex items-center gap-2",onClick:()=>g("/event-request"),children:"Event Request"})]}),s.jsx("section",{className:"flex-1 flex flex-col items-center justify-start bg-white p-4 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-5xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(ee,{placeholder:"Search by venue or location...",value:a,onChange:j=>i(j.target.value),className:"w-80"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{variant:"outline",onClick:async()=>{console.log(" ADMIN: Refreshing venues from database..."),await b(),p({title:"Venues Refreshed!",description:"Loaded venues from database!"})},children:" Refresh"}),s.jsx(I,{variant:"outline",onClick:async()=>{console.log(" ADMIN: Force reloading from database..."),await b(),p({title:"Force Reload Complete!",description:`Found ${r.length} venues! All data synced with Organizer!`})},children:" Force Sync"}),s.jsx(I,{onClick:async()=>{try{console.log(" ADMIN MANUAL: Creating venues from approved events...");const{data:j}=await $.from("event_requests").select("*").eq("status","approved");if(console.log("Found approved events:",j),j&&j.length>0){const S=j.map(async _=>{if(_.venue)try{const R={name:_.venue,description:`Venue for "${_.title}" event`,capacity:(_.expected_participants||50).toString(),location:_.venue,venue_type:"auditorium",facilities:["Audio System","Seating","Lighting"],hourly_rate:0,is_active:!0,image_url:null},{data:P,error:C}=await $.from("venues").upsert([R],{onConflict:"name"}).select().single();if(!C&&P)return console.log(" Created/Updated venue:",P.name),P}catch(R){console.log(" Error with venue:",_.venue,R)}return null});await Promise.all(S),await b(),p({title:"Venues Created!",description:"Venues have been created from your approved events"})}else p({title:"No Approved Events",description:"No approved events found to create venues from",variant:"destructive"})}catch(j){console.error("Error creating venues:",j),p({title:"Creation Failed",description:"Failed to create venues",variant:"destructive"})}},variant:"outline",className:"ml-2",children:"Create from Events"}),s.jsxs(I,{variant:"gradient",className:"flex items-center gap-2",onClick:()=>d(!0),children:[s.jsx(At,{className:"w-5 h-5"})," Add Venue"]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[s.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>d(!1),children:""}),s.jsx("h2",{className:"text-xl font-bold mb-4",children:u?"Edit Venue":"Add Venue"}),s.jsxs("form",{onSubmit:u?j=>{j.preventDefault(),w()}:m,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"venue-name",children:"Venue Name"}),s.jsx(ee,{id:"venue-name",value:o.name,onChange:j=>l(S=>({...S,name:j.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"venue-location",children:"Location"}),s.jsx(ee,{id:"venue-location",value:o.location,onChange:j=>l(S=>({...S,location:j.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"venue-capacity",children:"Capacity"}),s.jsx(ee,{id:"venue-capacity",type:"number",value:o.capacity,onChange:j=>l(S=>({...S,capacity:j.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"venue-description",children:"Description"}),s.jsx(ee,{id:"venue-description",value:o.description,onChange:j=>l(S=>({...S,description:j.target.value})),placeholder:"Describe the venue..."})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"venue-amenities",children:"Amenities (comma-separated)"}),s.jsx(ee,{id:"venue-amenities",value:o.amenities,onChange:j=>l(S=>({...S,amenities:j.target.value})),placeholder:"e.g., Audio System, Air Conditioning, WiFi"})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"venue-image",children:"Image"}),s.jsx(ee,{id:"venue-image",type:"file",accept:"image/*",onChange:v}),o.image&&s.jsx("img",{src:o.image,alt:"Venue",className:"mt-2 h-24 rounded object-cover"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{type:"submit",variant:"gradient",className:"flex-1",children:u?"Update Venue":"Add Venue"}),s.jsx(I,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{d(!1),f(null),l({name:"",location:"",capacity:"",image:"",description:"",amenities:""})},children:"Cancel"})]})]})]})}),s.jsxs("div",{className:"overflow-x-auto rounded-lg shadow border bg-white mt-2",children:[s.jsxs("div",{className:"p-2 bg-blue-50 text-xs text-blue-700 border-b",children:[s.jsx("strong",{children:"Real-time Sync:"})," ",r.length," venues loaded | Shared with Organizer Dashboard | Last update: ",new Date().toLocaleTimeString()]}),s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-blue-500 to-violet-500 text-white",children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"Image"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Venue Name"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Location"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Capacity"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Events"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[N.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-400",children:"No venues found. Add your first venue to get started."})}),N.map(j=>s.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2",children:j.image_url?s.jsx("img",{src:j.image_url,alt:j.name,className:"h-12 w-20 object-cover rounded"}):s.jsx("div",{className:"flex items-center justify-center h-12 w-20 bg-gray-100 rounded",children:s.jsx(Go,{className:"w-6 h-6 text-gray-400"})})}),s.jsx("td",{className:"px-4 py-2 font-semibold",children:j.name}),s.jsxs("td",{className:"px-4 py-2 flex items-center gap-2",children:[s.jsx(sr,{className:"w-4 h-4 text-blue-500"}),j.location]}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-4 h-4 text-green-500"}),j.capacity]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rs,{className:"w-4 h-4 text-purple-500"}),j.events_count||0]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:j.status==="Available"?"px-2 py-1 rounded bg-green-100 text-green-700 text-xs":j.status==="Booked"?"px-2 py-1 rounded bg-red-100 text-red-700 text-xs":"px-2 py-1 rounded bg-yellow-100 text-yellow-700 text-xs",children:j.status})}),s.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[s.jsx(I,{size:"sm",variant:"outline",onClick:()=>y(j),"aria-label":"Edit",children:s.jsx(Uw,{className:"w-4 h-4"})}),s.jsx(I,{size:"sm",variant:"outline",className:"text-destructive hover:text-destructive","aria-label":"Delete",onClick:()=>x(j.id),children:s.jsx(Yo,{className:"w-4 h-4"})})]})]},j.id))]})]})]})]})})]})]})},P8=async()=>{try{console.log("Fetching event requests from database...");const{data:e,error:t}=await $.from("event_requests").select(`
        *,
        requester:requester_id (name)
      `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching event requests:",t),t;return console.log("Event requests fetched:",e),(e==null?void 0:e.map(n=>{var a;return{id:n.id,title:n.title,event_type:n.event_type,description:n.description,requester_name:((a=n.requester)==null?void 0:a.name)||"Unknown User",created_at:n.created_at,date:n.date,time:n.time,venue:n.venue,expected_participants:n.expected_participants,request_reason:n.request_reason,status:n.status,admin_comments:n.admin_comments,budget_estimate:n.budget_estimate,requirements:n.requirements,form_data:n.form_data}}))||[]}catch(e){return console.error("Failed to fetch event requests:",e),[]}},T8=()=>{const{toast:e}=hr(),[t,r]=h.useState(!1),[n,a]=h.useState([]),[i,o]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState(!1);h.useEffect(()=>{(async()=>{o(!0);const x=await P8();a(x),o(!1)})()},[]);const f=m=>{const x=new Date,y=new Date(m),w=Math.floor((x.getTime()-y.getTime())/1e3);return w<60?`${w} sec ago`:w<3600?`${Math.floor(w/60)} min ago`:w<86400?`${Math.floor(w/3600)} hours ago`:y.toLocaleString()},g=async m=>{try{const{data:x,error:y}=await $.from("event_requests").select("*").eq("id",m).single();if(y)throw y;const{error:w}=await $.from("event_requests").update({status:"approved",reviewed_at:new Date().toISOString(),admin_comments:"Request approved by admin"}).eq("id",m);if(w)throw w;try{await ld.eventApproved(m,x.requester_id,x.title)}catch(N){console.log("Notification creation failed (non-critical):",N)}a(N=>N.map(j=>j.id===m?{...j,status:"approved"}:j)),e({title:"Request Approved",description:"Event request has been approved successfully. Participant has been notified."})}catch(x){console.error("Error approving request:",x),e({title:"Error",description:"Failed to approve request. Please try again.",variant:"destructive"})}},p=async m=>{try{const{data:x,error:y}=await $.from("event_requests").select("*").eq("id",m).single();if(y)throw y;const{error:w}=await $.from("event_requests").update({status:"rejected",reviewed_at:new Date().toISOString(),admin_comments:"Request rejected by admin"}).eq("id",m);if(w)throw w;try{await ld.eventRejected(m,x.requester_id,x.title,"Request rejected by admin")}catch(N){console.log("Notification creation failed (non-critical):",N)}a(N=>N.map(j=>j.id===m?{...j,status:"rejected"}:j)),e({title:"Request Rejected",description:"Event request has been rejected. Participant has been notified."})}catch(x){console.error("Error rejecting request:",x),e({title:"Error",description:"Failed to reject request. Please try again.",variant:"destructive"})}},b=m=>{c(m),u(!0)},v=m=>{let x;try{x=m.form_data||{}}catch{x={}}const y=`
      <div style="max-width: 800px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif; line-height: 1.4;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="font-size: 24px; font-weight: bold; margin-bottom: 10px;">EVENT REQUEST FORM</h1>
          <div style="display: inline-block; padding: 10px 20px; background: ${m.status==="approved"?"#10b981":"#ef4444"}; color: white; border-radius: 8px; font-weight: bold;">
            ${m.status.toUpperCase()}
          </div>
          <p style="margin-top: 10px; color: #6b7280;">Request ID: ${m.id}</p>
        </div>

        <div style="border: 2px solid #3b82f6; padding: 20px; margin-bottom: 20px; background: #eff6ff;">
          <h3 style="color: #1e40af; margin-bottom: 15px; font-size: 18px;"> REQUEST DETAILS</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div><strong>Event Requested By:</strong> ${x.eventRequestedBy||m.requester_name||"N/A"}</div>
            <div><strong>Position/Designation:</strong> ${x.position||"N/A"}</div>
            <div><strong>Organization/Department:</strong> ${x.organization||"N/A"}</div>
            <div><strong>Contact Number/Email:</strong> ${x.contactNumber||x.email||"N/A"}</div>
            <div><strong>Date of Submission:</strong> ${x.dateOfSubmission||new Date(m.created_at).toLocaleDateString()}</div>
          </div>
        </div>

        <div style="border: 2px solid #10b981; padding: 20px; margin-bottom: 20px; background: #f0fdf4;">
          <h3 style="color: #15803d; margin-bottom: 15px; font-size: 18px;"> EVENT INFORMATION</h3>
          <div style="margin-bottom: 10px;"><strong>Event Name:</strong> ${m.title}</div>
          <div style="margin-bottom: 10px;"><strong>Purpose:</strong> ${m.description}</div>
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 10px;">
            <div><strong>Participants:</strong> ${x.participants||m.expected_participants}</div>
            <div><strong>Modality:</strong> ${x.modality||"N/A"}</div>
            <div><strong>Overall In-Charge:</strong> ${x.overallInCharge||"N/A"}</div>
          </div>
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
            <div><strong>Event Date:</strong> ${m.date}</div>
            <div><strong>Event Time:</strong> ${m.time}</div>
            <div><strong>Venue:</strong> ${m.venue}</div>
          </div>
          <div style="margin-top: 10px;"><strong>Event Type:</strong> ${m.event_type}</div>
          ${m.request_reason?`<div style="margin-top: 10px;"><strong>Request Reason:</strong> ${m.request_reason}</div>`:""}
          ${m.budget_estimate?`<div style="margin-top: 10px;"><strong>Budget Estimate:</strong> ${m.budget_estimate}</div>`:""}
          ${m.requirements?`<div style="margin-top: 10px;"><strong>Requirements:</strong> ${m.requirements}</div>`:""}
        </div>

        <div style="border: 2px solid #8b5cf6; padding: 20px; margin-bottom: 20px; background: #faf5ff;">
          <h3 style="color: #7c3aed; margin-bottom: 15px; font-size: 18px;"> COMMITTEE ASSIGNMENTS</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div><strong>1. Invitation:</strong> ${x.invitation||"N/A"}</div>
            <div><strong>2. Program:</strong> ${x.program||"N/A"}</div>
            <div><strong>3. Sound System:</strong> ${x.soundSystem||"N/A"}</div>
            <div><strong>4. Stage Decoration:</strong> ${x.stageDecoration||"N/A"}</div>
            <div><strong>5. Demolition/Clean-Up:</strong> ${x.demolitionCleanup||"N/A"}</div>
            <div><strong>6. Food/Refreshments:</strong> ${x.foodRefreshments||"N/A"}</div>
            <div><strong>7. Safety & Security:</strong> ${x.safetySecurityUsher||"N/A"}</div>
            <div><strong>8. Documentation:</strong> ${x.documentation||"N/A"}</div>
            <div><strong>9. Registration:</strong> ${x.registration||"N/A"}</div>
            <div><strong>10. Evaluation:</strong> ${x.evaluation||"N/A"}</div>
          </div>
        </div>

        <div style="border: 2px solid #f59e0b; padding: 20px; margin-bottom: 20px; background: #fffbeb;">
          <h3 style="color: #d97706; margin-bottom: 15px; font-size: 18px;"> PRE-EVENT REQUIREMENTS</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div> Letter of Request: ${x.letterOfRequest?" Completed":" Pending"}</div>
            <div> Student Board Resolution: ${x.studentBoardResolution?" Completed":" Pending"}</div>
            <div> Event Program/Invitation: ${x.eventProgramInvitation?" Completed":" Pending"}</div>
            <div> List of Permits Needed: ${x.listOfPermits?" Completed":" Pending"}</div>
            <div> Copy of Certificate: ${x.copyOfCertificate?" Completed":" Pending"}</div>
          </div>
        </div>

        <div style="border: 2px solid #6366f1; padding: 20px; margin-bottom: 20px; background: #f0f9ff;">
          <h3 style="color: #4338ca; margin-bottom: 15px; font-size: 18px;"> POST-EVENT REQUIREMENTS</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div> Post-Event Result: ${x.postEventResult?" Completed":" Pending"}</div>
            <div> Accomplishment Report: ${x.accomplishmentReport?" Completed":" Pending"}</div>
          </div>
        </div>

        <div style="border: 2px solid #ef4444; padding: 20px; margin-bottom: 20px; background: #fef2f2;">
          <h3 style="color: #dc2626; margin-bottom: 15px; font-size: 18px;"> IMPORTANT REMINDERS</h3>
          <ul style="margin: 0; padding-left: 20px;">
            <li>Requests must be submitted at least 8 days before the event date</li>
            <li>Office hours: Monday to Friday, 8:00 AM - 5:00 PM</li>
            <li>Incomplete requirements will not be accepted</li>
          </ul>
        </div>

        ${m.admin_comments?`
        <div style="border: 2px solid #64748b; padding: 20px; margin-bottom: 20px; background: #f8fafc;">
          <h3 style="color: #475569; margin-bottom: 15px; font-size: 18px;"> ADMIN COMMENTS</h3>
          <p style="margin: 0; padding: 10px; background: white; border-radius: 5px;">${m.admin_comments}</p>
        </div>
        `:""}

        <div style="text-align: center; margin-top: 30px; padding: 20px; border: 2px solid ${m.status==="approved"?"#10b981":"#ef4444"}; background: ${m.status==="approved"?"#f0fdf4":"#fef2f2"};">
          <div style="font-size: 24px; font-weight: bold; color: ${m.status==="approved"?"#15803d":"#dc2626"}; margin-bottom: 10px;">
            ${m.status==="approved"?"":""} ${m.status.toUpperCase()}
          </div>
          <div style="font-size: 14px; color: #6b7280;">
            Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}
          </div>
          <div style="font-size: 12px; color: #6b7280; margin-top: 5px;">
            School Event Management System - Admin Panel
          </div>
        </div>
      </div>
    `,w=window.open("","_blank");w&&(w.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Event Request - ${m.title}</title>
            <style>
              @media print {
                body { margin: 0; }
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            ${y}
            <div class="no-print" style="text-align: center; margin: 20px;">
              <button onclick="window.print()" style="padding: 10px 20px; background: #3b82f6; color: white; border: none; border-radius: 5px; cursor: pointer;">Print PDF</button>
              <button onclick="window.close()" style="padding: 10px 20px; background: #6b7280; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">Close</button>
            </div>
          </body>
        </html>
      `),w.document.close())};return s.jsxs("div",{className:"flex h-screen w-screen bg-white overflow-hidden",children:[s.jsx(Xr,{collapsed:t,onToggle:()=>r(!t)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen w-full p-0 m-0",children:[s.jsx("header",{className:"bg-gradient-to-r from-blue-500 to-violet-500 px-6 py-4",children:s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Event Approvals"})}),s.jsx("section",{className:"flex-1 flex flex-col items-center justify-start bg-white p-4 overflow-auto",children:s.jsx("div",{className:"w-full max-w-5xl",children:s.jsx("div",{className:"overflow-x-auto rounded-lg shadow border bg-white mt-2",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-blue-500 to-violet-500 text-white",children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"Event Title"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Type"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Description"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Requested By"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Requested At"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Action"})]})}),s.jsxs("tbody",{children:[i&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-400",children:"Loading..."})}),!i&&n.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-400",children:"No event requests found."})}),!i&&n.map(m=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsx("td",{className:"px-4 py-2 font-semibold",children:m.title}),s.jsx("td",{className:"px-4 py-2",children:m.event_type}),s.jsx("td",{className:"px-4 py-2",children:m.description}),s.jsx("td",{className:"px-4 py-2",children:m.requester_name}),s.jsx("td",{className:"px-4 py-2",children:f(m.created_at)}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:m.status==="approved"?"px-2 py-1 rounded bg-green-100 text-green-700":m.status==="rejected"?"px-2 py-1 rounded bg-red-100 text-red-700":"px-2 py-1 rounded bg-yellow-100 text-yellow-700",children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})}),s.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[m.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(I,{size:"sm",variant:"outline",className:"text-green-700 border-green-300",onClick:()=>g(m.id),children:[s.jsx(Yc,{className:"w-4 h-4 mr-1"})," Approve"]}),s.jsxs(I,{size:"sm",variant:"outline",className:"text-red-700 border-red-300",onClick:()=>p(m.id),children:[s.jsx(_i,{className:"w-4 h-4 mr-1"})," Reject"]})]}),m.status!=="pending"&&s.jsx("span",{className:"text-gray-400 text-sm",children:m.status==="approved"?"Approved":"Rejected"}),s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>b(m),className:"text-blue-600 border-blue-300 hover:bg-blue-50 ml-2",children:[s.jsx(_a,{className:"w-4 h-4 mr-1"}),"View Details"]}),m.status==="approved"&&s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>v(m),className:"text-green-600 border-green-300 hover:bg-green-50 ml-2",children:[s.jsx(Kc,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},m.id))]})]})})})}),d&&l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary",children:"Event Request Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Request ID: ",l.id]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oe,{className:l.status==="approved"?"text-lg px-4 py-2 bg-green-100 text-green-800":l.status==="rejected"?"text-lg px-4 py-2 bg-red-100 text-red-800":"text-lg px-4 py-2 bg-yellow-100 text-yellow-800",children:l.status.toUpperCase()}),l.status==="approved"&&s.jsxs(I,{onClick:()=>v(l),className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),s.jsx(I,{variant:"outline",onClick:()=>u(!1),children:"Close"})]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[(()=>{try{const m=l.form_data||{};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"border-blue-200 bg-blue-50",children:[s.jsx(ye,{children:s.jsx(we,{className:"text-blue-800",children:" REQUEST DETAILS"})}),s.jsx(Z,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Event Requested By"}),s.jsx("p",{className:"text-gray-700",children:m.eventRequestedBy||l.requester_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Position / Designation"}),s.jsx("p",{className:"text-gray-700",children:m.position||"N/A"})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Organization / Department"}),s.jsx("p",{className:"text-gray-700",children:m.organization||"N/A"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Contact Number / Email"}),s.jsx("p",{className:"text-gray-700",children:m.contactNumber||m.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Date of Submission"}),s.jsx("p",{className:"text-gray-700",children:m.dateOfSubmission||new Date(l.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Submitted"}),s.jsx("p",{className:"text-gray-700",children:f(l.created_at)})]})]})]})})]}),s.jsxs(J,{className:"border-green-200 bg-green-50",children:[s.jsx(ye,{children:s.jsx(we,{className:"text-green-800",children:" EVENT INFORMATION"})}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Event Name"}),s.jsx("p",{className:"text-gray-700",children:l.title})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Purpose"}),s.jsx("p",{className:"text-gray-700",children:l.description})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Participants"}),s.jsx("p",{className:"text-gray-700",children:m.participants||l.expected_participants})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Modality"}),s.jsx("p",{className:"text-gray-700",children:m.modality||"N/A"})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Overall In-Charge"}),s.jsx("p",{className:"text-gray-700",children:m.overallInCharge||"N/A"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Event Date"}),s.jsx("p",{className:"text-gray-700",children:l.date})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Event Time"}),s.jsx("p",{className:"text-gray-700",children:l.time})]}),s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Venue"}),s.jsx("p",{className:"text-gray-700",children:l.venue})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Event Type"}),s.jsx("p",{className:"text-gray-700",children:l.event_type})]}),l.budget_estimate&&s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Budget Estimate"}),s.jsxs("p",{className:"text-gray-700",children:["",l.budget_estimate]})]})]}),l.request_reason&&s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Request Reason"}),s.jsx("p",{className:"text-gray-700 bg-white p-3 rounded border",children:l.request_reason})]}),l.requirements&&s.jsxs("div",{children:[s.jsx(H,{className:"font-semibold",children:"Special Requirements"}),s.jsx("p",{className:"text-gray-700 bg-white p-3 rounded border",children:l.requirements})]})]})})]}),s.jsxs(J,{className:"border-purple-200 bg-purple-50",children:[s.jsx(ye,{children:s.jsx(we,{className:"text-purple-800",children:" COMMITTEE ASSIGNMENTS"})}),s.jsx(Z,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:[{label:"1. Invitation",value:m.invitation},{label:"2. Program",value:m.program},{label:"3. Sound System",value:m.soundSystem},{label:"4. Stage Decoration",value:m.stageDecoration},{label:"5. Demolition/Clean-Up",value:m.demolitionCleanup},{label:"6. Food/Refreshments",value:m.foodRefreshments},{label:"7. Safety & Security",value:m.safetySecurityUsher},{label:"8. Documentation",value:m.documentation},{label:"9. Registration",value:m.registration},{label:"10. Evaluation",value:m.evaluation}].map(({label:x,value:y})=>s.jsxs("div",{className:"flex",children:[s.jsxs("span",{className:"font-medium w-40",children:[x,":"]}),s.jsx("span",{className:"text-gray-700",children:y||"N/A"})]},x))})})]}),s.jsxs(J,{className:"border-orange-200 bg-orange-50",children:[s.jsx(ye,{children:s.jsx(we,{className:"text-orange-800",children:" PRE-EVENT REQUIREMENTS"})}),s.jsx(Z,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:[{key:"letterOfRequest",label:"Letter of Request (signed by Program Head or Dean)"},{key:"studentBoardResolution",label:"Student Board Resolution"},{key:"eventProgramInvitation",label:"Event Program / Invitation"},{key:"listOfPermits",label:"List of Permits Needed (if applicable)"},{key:"copyOfCertificate",label:"Copy of Certificate (if applicable)"}].map(({key:x,label:y})=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:m[x]||!1,disabled:!0,className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:m[x]?"text-sm text-green-700 font-medium":"text-sm text-gray-500",children:y})]},x))})})]}),s.jsxs(J,{className:"border-indigo-200 bg-indigo-50",children:[s.jsx(ye,{children:s.jsx(we,{className:"text-indigo-800",children:" POST-EVENT REQUIREMENTS"})}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-2",children:[{key:"postEventResult",label:"Post-Event Result"},{key:"accomplishmentReport",label:"Accomplishment / Narrative Report"}].map(({key:x,label:y})=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:m[x]||!1,disabled:!0,className:"h-4 w-4 text-indigo-600"}),s.jsx("span",{className:m[x]?"text-sm text-indigo-700 font-medium":"text-sm text-gray-500",children:y})]},x))})})]}),l.admin_comments&&s.jsxs(J,{className:"border-gray-200 bg-gray-50",children:[s.jsx(ye,{children:s.jsx(we,{className:"text-gray-800",children:" ADMIN COMMENTS"})}),s.jsx(Z,{children:s.jsx("p",{className:"text-gray-700 bg-white p-4 rounded border",children:l.admin_comments})})]})]})}catch{return s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"Unable to load detailed form data."}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Event:"})," ",l.title]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Requester:"})," ",l.requester_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",l.date," at ",l.time]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Venue:"})," ",l.venue]})]})]})}})(),l.status==="pending"&&s.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[s.jsxs(I,{onClick:()=>{g(l.id),u(!1)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Approve Request"]}),s.jsxs(I,{onClick:()=>{p(l.id),u(!1)},variant:"destructive",className:"flex-1",children:[s.jsx(_i,{className:"w-4 h-4 mr-2"}),"Reject Request"]})]})]})]})})]})]})},Fv=()=>{const e=_n(),{toast:t}=hr(),[r,n]=h.useState(null),[a,i]=h.useState([]),[o,l]=h.useState(null),[c,d]=h.useState([]),[u,f]=h.useState(""),[g,p]=h.useState(!1);h.useEffect(()=>{const j=localStorage.getItem("user");if(j){const S=JSON.parse(j);n(S),S.role!=="admin"&&e("/login")}else e("/login")},[e]),h.useEffect(()=>{r!=null&&r.id&&b()},[r]);const b=async()=>{try{const{data:j,error:S}=await $.from("reports").select("*").order("created_at",{ascending:!1});if(S){if(console.error("Simple query failed:",S),S.message.includes('relation "reports" does not exist')){t({title:"Database Setup Required",description:"Reports table not found. Please run the database setup script first.",variant:"destructive"}),i([]);return}throw S}let _=[];if(j&&j.length>0)try{const R=[...new Set(j.map(D=>D.reporter_id))],{data:P}=await $.from("users").select("id, name").in("id",R),C=new Map;P==null||P.forEach(D=>C.set(D.id,D.name)),_=j.map(D=>({...D,reporter_name:C.get(D.reporter_id)||"Unknown User"}))}catch{console.log("Could not load user names, using fallback"),_=j.map(P=>({...P,reporter_name:"User"}))}i(_),console.log("Reports loaded successfully:",_)}catch(j){console.error("Error loading reports:",j),t({title:"Error",description:"Failed to load reports. Please check if the database tables exist.",variant:"destructive"}),i([])}},v=async j=>{try{const{data:S,error:_}=await $.from("report_messages").select("*").eq("report_id",j).order("created_at",{ascending:!0});if(_){console.error("Messages query failed:",_),d([]);return}let R=[];if(S&&S.length>0)try{const P=[...new Set(S.map(M=>M.sender_id))],{data:C}=await $.from("users").select("id, name, role").in("id",P),D=new Map;C==null||C.forEach(M=>D.set(M.id,{name:M.name,role:M.role})),R=S.map(M=>{const q=D.get(M.sender_id)||{name:"Unknown",role:"user"};return{id:M.id,message:M.message,sender_id:M.sender_id,sender_name:q.name,sender_role:q.role,created_at:M.created_at}})}catch{console.log("Could not load sender names, using fallback"),R=S.map(C=>({id:C.id,message:C.message,sender_id:C.sender_id,sender_name:C.sender_id===(r==null?void 0:r.id)?"Admin":"Participant",sender_role:C.sender_id===(r==null?void 0:r.id)?"admin":"participant",created_at:C.created_at}))}d(R)}catch(S){console.error("Error loading messages:",S),d([])}},m=async()=>{if(!(!(r!=null&&r.id)||!o||!u.trim()))try{p(!0),await $.from("report_messages").insert([{report_id:o.id,sender_id:r.id,message:u}]),o.status==="open"&&(await $.from("reports").update({status:"in_progress"}).eq("id",o.id),l({...o,status:"in_progress"}),i(a.map(j=>j.id===o.id?{...j,status:"in_progress"}:j))),f(""),await v(o.id),t({title:"Message Sent",description:"Your response has been sent to the participant."})}catch(j){console.error("Send message error:",j),t({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{p(!1)}},x=async j=>{if(o)try{await $.from("reports").update({status:j}).eq("id",o.id),await $.from("notifications").insert([{user_id:o.reporter_id,title:`Report ${j==="resolved"?"Resolved":"Closed"}`,message:`Your report "${o.title}" has been ${j}. Thank you for your feedback.`,type:"announcement"}]),l({...o,status:j}),i(a.map(S=>S.id===o.id?{...S,status:j}:S)),t({title:"Status Updated",description:`Report has been marked as ${j}. Participant has been notified.`})}catch(S){console.error("Update status error:",S),t({title:"Error",description:"Failed to update status.",variant:"destructive"})}},y=j=>{switch(j){case"open":return"bg-red-100 text-red-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=j=>{switch(j){case"open":return s.jsx(ml,{className:"w-4 h-4 text-red-600"});case"in_progress":return s.jsx($t,{className:"w-4 h-4 text-yellow-600"});case"resolved":return s.jsx(wn,{className:"w-4 h-4 text-green-600"});case"closed":return s.jsx(wn,{className:"w-4 h-4 text-gray-600"});default:return s.jsx(ea,{className:"w-4 h-4"})}},N=j=>new Date(j).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[s.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-border/50 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(I,{variant:"ghost",onClick:()=>e("/dashboard"),className:"flex items-center space-x-2",children:[s.jsx(xE,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold gradient-primary bg-clip-text text-transparent",children:"Participant Feedback & Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage participant complaints, feedback, and technical issues"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:r.name}),s.jsx(oe,{variant:"secondary",children:"Admin"})]})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(J,{className:"card-elevated",children:[s.jsxs(ye,{children:[s.jsx(we,{children:"All Feedback & Reports"}),s.jsx(Fe,{children:"Participant complaints, feedback, suggestions, and technical issues"})]}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ea,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No reports yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Participant reports will appear here"})]}):a.map(j=>s.jsx(J,{className:`cursor-pointer transition-colors hover:border-primary/50 ${(o==null?void 0:o.id)===j.id?"border-primary bg-primary/5":""}`,onClick:()=>{l(j),v(j.id)},children:s.jsxs(Z,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:j.title}),s.jsx(oe,{className:y(j.status),children:j.status})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[w(j.status),s.jsx("span",{className:"text-xs text-muted-foreground",children:j.report_type})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["By: ",j.reporter_name]}),s.jsx("p",{className:"text-sm line-clamp-2 mb-2",children:j.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N(j.created_at)})]})},j.id))})})]}),s.jsx(J,{className:"card-elevated",children:o?s.jsxs(s.Fragment,{children:[s.jsxs(ye,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(we,{className:"text-lg",children:o.title}),s.jsxs(Fe,{children:[o.report_type,"  By ",o.reporter_name]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(oe,{className:y(o.status),children:o.status})})]}),s.jsx("div",{className:"flex items-center space-x-2 pt-2",children:o.status!=="resolved"&&o.status!=="closed"&&s.jsxs(s.Fragment,{children:[s.jsx(I,{variant:"outline",size:"sm",onClick:()=>x("resolved"),children:"Mark Resolved"}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>x("closed"),children:"Close Report"})]})})]}),s.jsx(Z,{className:"flex-1 overflow-y-auto space-y-3 max-h-64",children:c.map(j=>s.jsx("div",{className:`flex ${j.sender_role==="admin"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs rounded-lg p-3 ${j.sender_role==="admin"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium",children:j.sender_name}),s.jsx(oe,{variant:"outline",className:"text-xs",children:j.sender_role})]}),s.jsx("p",{className:"text-sm",children:j.message}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:N(j.created_at)})]})},j.id))}),o.status!=="closed"&&s.jsx("div",{className:"p-4 border-t",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yn,{value:u,onChange:j=>f(j.target.value),placeholder:"Type your response...",className:"flex-1",rows:2}),s.jsx(I,{onClick:m,disabled:!u.trim()||g,size:"sm",children:s.jsx(Si,{className:"w-4 h-4"})})]})})]}):s.jsx("div",{className:"h-96 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(zr,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Report"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose a report from the left to start responding"})]})})})]})})]}):s.jsx("div",{children:"Loading..."})},R8=()=>{const e=_n(),{toast:t}=hr(),[r,n]=h.useState(null),[a,i]=h.useState(!1),[o,l]=h.useState({totalEvents:0,totalParticipants:0,totalRegistrations:0,eventsByType:{},eventsByStatus:{},registrationsByMonth:{},topEvents:[],userGrowth:{},attendanceRate:0,popularEventTypes:[]}),[c,d]=h.useState(!1),[u,f]=h.useState("6months");h.useEffect(()=>{const m=localStorage.getItem("user");if(m){const x=JSON.parse(m);n(x),x.role!=="admin"&&e("/dashboard")}else e("/login")},[e]),h.useEffect(()=>{r!=null&&r.id&&g()},[r,u]);const g=async()=>{d(!0);try{console.log(" Loading REAL analytics data...");const m=new Date,x=new Date;switch(u){case"1month":x.setMonth(m.getMonth()-1);break;case"3months":x.setMonth(m.getMonth()-3);break;case"6months":x.setMonth(m.getMonth()-6);break;case"1year":x.setFullYear(m.getFullYear()-1);break}const[{data:y},{data:w}]=await Promise.all([$.from("events").select("*").gte("created_at",x.toISOString()).lte("created_at",m.toISOString()),$.from("event_requests").select("*").gte("created_at",x.toISOString()).lte("created_at",m.toISOString())]),N=[...y||[],...w||[]];console.log(" Total events found:",N.length);const{data:j,error:S}=await $.from("event_registrations").select("*").gte("registration_date",x.toISOString()).lte("registration_date",m.toISOString());S&&console.log("Registrations query error:",S),console.log(" Total registrations:",(j==null?void 0:j.length)||0);const{data:_,error:R}=await $.from("users").select("*").gte("created_at",x.toISOString()).lte("created_at",m.toISOString());R&&console.log("Users query error:",R),console.log(" Total users:",(_==null?void 0:_.length)||0);const P={totalEvents:N.length,totalParticipants:(_==null?void 0:_.length)||0,totalRegistrations:(j==null?void 0:j.length)||0,eventsByType:{},eventsByStatus:{},registrationsByMonth:{},topEvents:[],userGrowth:{},attendanceRate:0,popularEventTypes:[]};N.forEach(F=>{const z=F.event_type||"Other";P.eventsByType[z]=(P.eventsByType[z]||0)+1}),N.forEach(F=>{const z=F.status||"pending";P.eventsByStatus[z]=(P.eventsByStatus[z]||0)+1}),(j||[]).forEach(F=>{const z=new Date(F.registration_date).toLocaleDateString("en-US",{year:"numeric",month:"short"});P.registrationsByMonth[z]=(P.registrationsByMonth[z]||0)+1}),(_||[]).forEach(F=>{const z=new Date(F.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short"});P.userGrowth[z]=(P.userGrowth[z]||0)+1});const C=new Map;(j||[]).forEach(F=>{const z=C.get(F.event_id)||0;C.set(F.event_id,z+1)});const D=Array.from(C.entries()).sort((F,z)=>z[1]-F[1]).slice(0,5).map(([F,z])=>{const W=N.find(O=>O.id===F);return{id:F,title:(W==null?void 0:W.title)||"Unknown Event",participants:z,type:(W==null?void 0:W.event_type)||"Other",date:(W==null?void 0:W.date)||new Date().toISOString()}});P.topEvents=D;const M=Object.values(P.eventsByType).reduce((F,z)=>F+z,0);P.popularEventTypes=Object.entries(P.eventsByType).map(([F,z])=>({type:F,count:z,percentage:M>0?Math.round(z/M*100):0})).sort((F,z)=>z.count-F.count);const q=(j||[]).filter(F=>F.attendance_status==="attended").length;P.attendanceRate=(j==null?void 0:j.length)>0?Math.round(q/j.length*100):0,console.log(" Analytics calculated:",P),l(P)}catch(m){console.error(" Error loading analytics:",m),t({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{d(!1)}},p=async()=>{try{t({title:" Exporting Data",description:"Preparing analytics report..."});const x=[["Metric","Value"],["Total Events",o.totalEvents.toString()],["Total Participants",o.totalParticipants.toString()],["Total Registrations",o.totalRegistrations.toString()],["Attendance Rate",`${o.attendanceRate}%`],[""],["Events by Type",""],...Object.entries(o.eventsByType).map(([j,S])=>[j,S.toString()]),[""],["Events by Status",""],...Object.entries(o.eventsByStatus).map(([j,S])=>[j,S.toString()])].map(j=>j.join(",")).join(`
`),y=new Blob([x],{type:"text/csv"}),w=window.URL.createObjectURL(y),N=document.createElement("a");N.href=w,N.download=`analytics-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(w),t({title:" Export Complete",description:"Analytics report downloaded successfully"})}catch{t({title:"Export Failed",description:"Could not export analytics data",variant:"destructive"})}},b=m=>{switch(m){case"approved":return s.jsx(wn,{className:"w-4 h-4 text-green-600"});case"pending":return s.jsx($t,{className:"w-4 h-4 text-yellow-600"});case"rejected":return s.jsx(_i,{className:"w-4 h-4 text-red-600"});default:return s.jsx(SE,{className:"w-4 h-4 text-gray-600"})}},v=m=>{const x={Academic:"bg-blue-100 text-blue-800",Sports:"bg-green-100 text-green-800",Cultural:"bg-pink-100 text-pink-800",Research:"bg-purple-100 text-purple-800",Examination:"bg-red-100 text-red-800",Holiday:"bg-orange-100 text-orange-800",Other:"bg-gray-100 text-gray-800"};return x[m]||x.Other};return r?s.jsxs("div",{className:"flex h-screen bg-white",children:[s.jsx(Xr,{collapsed:a,onToggle:()=>i(!a)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-auto",children:[s.jsxs("header",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:[s.jsx(uh,{className:"w-8 h-8"}),"Reports & Analytics"]}),s.jsx("p",{className:"text-indigo-100 text-sm",children:"Real-time insights from your event management system"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:u,onChange:m=>f(m.target.value),className:"bg-white/20 text-white border-white/30 rounded px-3 py-1 text-sm",children:[s.jsx("option",{value:"1month",children:"Last Month"}),s.jsx("option",{value:"3months",children:"Last 3 Months"}),s.jsx("option",{value:"6months",children:"Last 6 Months"}),s.jsx("option",{value:"1year",children:"Last Year"})]}),s.jsxs(I,{onClick:g,disabled:c,className:"bg-white/20 text-white border-2 border-white/50 hover:bg-white/30 backdrop-blur-sm font-medium shadow-lg",children:[s.jsx(So,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),s.jsxs(I,{onClick:p,className:"bg-white text-indigo-600 hover:bg-gray-100",children:[s.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(J,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Total Events"}),s.jsx("p",{className:"text-3xl font-bold",children:c?"...":o.totalEvents})]}),s.jsx(Je,{className:"w-8 h-8 text-blue-200"})]})})}),s.jsx(J,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total Participants"}),s.jsx("p",{className:"text-3xl font-bold",children:c?"...":o.totalParticipants})]}),s.jsx(Ye,{className:"w-8 h-8 text-green-200"})]})})}),s.jsx(J,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm",children:"Total Registrations"}),s.jsx("p",{className:"text-3xl font-bold",children:c?"...":o.totalRegistrations})]}),s.jsx(Gc,{className:"w-8 h-8 text-purple-200"})]})})}),s.jsx(J,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm",children:"Attendance Rate"}),s.jsxs("p",{className:"text-3xl font-bold",children:[c?"...":o.attendanceRate,"%"]})]}),s.jsx(ux,{className:"w-8 h-8 text-orange-200"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs(J,{children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center gap-2",children:[s.jsx(vE,{className:"w-5 h-5"}),"Events by Type"]}),s.jsx(Fe,{children:"Distribution of event types in your system"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-3",children:[o.popularEventTypes.map((m,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-4 h-4 rounded ${x===0?"bg-blue-500":x===1?"bg-green-500":x===2?"bg-purple-500":"bg-gray-400"}`}),s.jsx("span",{className:"font-medium",children:m.type})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[m.count," events"]}),s.jsxs(oe,{variant:"outline",children:[m.percentage,"%"]})]})]},m.type)),o.popularEventTypes.length===0&&s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No event type data available"})]})})]}),s.jsxs(J,{children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center gap-2",children:[s.jsx(_E,{className:"w-5 h-5"}),"Event Status Overview"]}),s.jsx(Fe,{children:"Current status of all events"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-3",children:[Object.entries(o.eventsByStatus).map(([m,x])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[b(m),s.jsx("span",{className:"font-medium capitalize",children:m})]}),s.jsxs(oe,{variant:"outline",children:[x," events"]})]},m)),Object.keys(o.eventsByStatus).length===0&&s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No status data available"})]})})]})]}),s.jsxs(J,{className:"mb-8",children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center gap-2",children:[s.jsx(ux,{className:"w-5 h-5"}),"Top Performing Events"]}),s.jsx(Fe,{children:"Events with the highest participant registration"})]}),s.jsx(Z,{children:o.topEvents.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Gc,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No event data yet"}),s.jsx("p",{className:"text-gray-500",children:"Events with registrations will appear here"})]}):s.jsx("div",{className:"space-y-4",children:o.topEvents.map((m,x)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${x===0?"bg-yellow-500":x===1?"bg-gray-400":x===2?"bg-orange-600":"bg-blue-500"}`,children:x+1}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:m.title}),s.jsx("p",{className:"text-sm text-gray-600",children:new Date(m.date).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oe,{className:v(m.type),children:m.type}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-green-600",children:m.participants}),s.jsx("p",{className:"text-xs text-gray-500",children:"participants"})]})]})]},m.id))})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center gap-2",children:[s.jsx(uh,{className:"w-5 h-5"}),"Registration Growth"]}),s.jsx(Fe,{children:"Monthly registration trends"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-3",children:[Object.entries(o.registrationsByMonth).map(([m,x])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:m}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(x/Math.max(...Object.values(o.registrationsByMonth))*100,100)}%`}})}),s.jsx(oe,{variant:"outline",children:x})]})]},m)),Object.keys(o.registrationsByMonth).length===0&&s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No registration data available"})]})})]}),s.jsxs(J,{children:[s.jsxs(ye,{children:[s.jsxs(we,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5"}),"User Growth"]}),s.jsx(Fe,{children:"New user registrations by month"})]}),s.jsx(Z,{children:s.jsxs("div",{className:"space-y-3",children:[Object.entries(o.userGrowth).map(([m,x])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:m}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(x/Math.max(...Object.values(o.userGrowth))*100,100)}%`}})}),s.jsx(oe,{variant:"outline",children:x})]})]},m)),Object.keys(o.userGrowth).length===0&&s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No user growth data available"})]})})]})]})]})]})]}):s.jsx("div",{children:"Loading..."})},A8=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState([]),[a,i]=h.useState(!1),[o,l]=h.useState({title:"",content:"",media_type:"text",tags:""}),[c,d]=h.useState(null),[u,f]=h.useState(!1),[g,p]=h.useState({});h.useState({}),h.useState({});const{toast:b}=hr(),v=async()=>{try{console.log(" Loading multimedia posts...");const j=await _p();n(j),console.log(" Loaded posts:",j.length)}catch(j){console.error("Error loading posts:",j)}};h.useEffect(()=>{v();const j=setInterval(v,1e4);return()=>clearInterval(j)},[]);const m=j=>{var _;const S=(_=j.target.files)==null?void 0:_[0];S&&(d(S),S.type.startsWith("image/")?l(R=>({...R,media_type:"image"})):S.type.startsWith("video/")&&l(R=>({...R,media_type:"video"})))},x=async()=>{if(!o.content.trim()){b({title:"Content Required",description:"Please enter some content for your post",variant:"destructive"});return}f(!0);try{let j=null;if(c){if(console.log(" Uploading media file..."),j=await G1(c),!j)throw new Error("Failed to upload media");console.log(" Media uploaded:",j)}if(console.log(" Creating post..."),await H1({user_name:"Event Organizer",user_role:"organizer",title:o.title,content:o.content,media_type:o.media_type,media_url:j,tags:o.tags?o.tags.split(",").map(_=>_.trim()):[]}))b({title:" Post Created!",description:"Your post has been shared successfully!"}),l({title:"",content:"",media_type:"text",tags:""}),d(null),i(!1),await v();else throw new Error("Failed to create post")}catch(j){console.error("Error creating post:",j),b({title:"Error",description:"Failed to create post. Please try again.",variant:"destructive"})}finally{f(!1)}},y=async j=>{try{console.log(" Liking post:",j),await Y1(j,"00000000-0000-0000-0000-000000000001"),await v(),b({title:" Liked!",description:"You liked this post"})}catch(S){console.error("Error liking post:",S)}},w=async j=>{const S=g[j];if(S!=null&&S.trim())try{console.log(" Adding comment to post:",j),await K1(j,"00000000-0000-0000-0000-000000000001","Event Organizer",S),p(_=>({..._,[j]:""})),await v(),b({title:" Comment Added!",description:"Your comment has been posted"})}catch(_){console.error("Error adding comment:",_)}},N=j=>new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"flex h-screen w-screen bg-white overflow-hidden",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen w-full p-0 m-0",children:[s.jsxs("header",{className:"bg-gradient-to-r from-blue-500 to-violet-500 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:" Multimedia Feed"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Share your event moments, memes, and updates!"})]}),s.jsxs("div",{className:"text-white text-sm",children:[r.length," posts"]})]}),s.jsx("section",{className:"flex-1 flex flex-col items-center justify-start bg-gray-50 p-4 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-4xl",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(I,{onClick:()=>i(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white flex items-center gap-2 py-4",size:"lg",children:[s.jsx(At,{className:"w-5 h-5"}),"What's happening at your event? Share a moment! "]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg mx-4",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:" Create New Post"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-title",children:"Title (Optional)"}),s.jsx(ee,{id:"post-title",placeholder:"Add a catchy title...",value:o.title,onChange:j=>l(S=>({...S,title:j.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-content",children:"Content *"}),s.jsx("textarea",{id:"post-content",className:"w-full p-3 border rounded-lg resize-none",rows:4,placeholder:"What's on your mind? Share your event updates, funny moments, memes, or anything!",value:o.content,onChange:j=>l(S=>({...S,content:j.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-tags",children:"Tags (comma-separated)"}),s.jsx(ee,{id:"post-tags",placeholder:"funny, event, sports, meme, success",value:o.tags,onChange:j=>l(S=>({...S,tags:j.target.value}))})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-media",children:"Media Type"}),s.jsx("div",{className:"flex gap-2 mt-2",children:[{type:"text",icon:zr,label:"Text"},{type:"image",icon:Go,label:"Image"},{type:"video",icon:fh,label:"Video"},{type:"meme",icon:vc,label:"Meme"}].map(({type:j,icon:S,label:_})=>s.jsxs(I,{variant:o.media_type===j?"default":"outline",size:"sm",onClick:()=>l(R=>({...R,media_type:j})),className:"flex items-center gap-1",children:[s.jsx(S,{className:"w-4 h-4"}),_]},j))})]}),(o.media_type==="image"||o.media_type==="video")&&s.jsxs("div",{children:[s.jsx(H,{htmlFor:"post-file",children:"Upload File"}),s.jsx(ee,{id:"post-file",type:"file",accept:o.media_type==="image"?"image/*":"video/*",onChange:m}),c&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",c.name]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(I,{onClick:x,disabled:u,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600",children:u?"Posting...":" Post"}),s.jsx(I,{variant:"outline",onClick:()=>{i(!1),l({title:"",content:"",media_type:"text",tags:""}),d(null)},children:"Cancel"})]})]})}),s.jsx("div",{className:"space-y-6",children:r.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[s.jsx(vc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No posts yet!"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Be the first to share something awesome!"}),s.jsxs(I,{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600",children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"Create First Post"]})]}):r.map(j=>{var S;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md border p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:j.user_name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:j.user_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[N(j.created_at),"  ",j.user_role]})]}),s.jsxs("div",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600 flex items-center gap-1",children:[j.media_type==="image"&&s.jsx(Go,{className:"w-3 h-3"}),j.media_type==="video"&&s.jsx(fh,{className:"w-3 h-3"}),j.media_type==="meme"&&s.jsx(vc,{className:"w-3 h-3"}),j.media_type==="text"&&s.jsx(zr,{className:"w-3 h-3"}),j.media_type]})]}),j.title&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:j.title}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap text-base leading-relaxed",children:j.content})}),j.media_url&&s.jsx("div",{className:"mb-4",children:j.media_type==="image"||j.media_type==="meme"?s.jsx("img",{src:j.media_url,alt:"Post media",className:"w-full max-h-96 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>window.open(j.media_url,"_blank")}):j.media_type==="video"?s.jsx("video",{src:j.media_url,controls:!0,className:"w-full max-h-96 rounded-lg"}):null}),j.tags&&j.tags.length>0&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:j.tags.map((_,R)=>s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full hover:bg-blue-200 cursor-pointer",children:["#",_]},R))})}),s.jsxs("div",{className:"flex items-center gap-6 pt-4 border-t",children:[s.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>y(j.id),className:"flex items-center gap-2 text-gray-600 hover:text-red-500 transition-colors",children:[s.jsx(In,{className:"w-4 h-4"}),j.likes_count," Likes"]}),s.jsxs(I,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-blue-500 transition-colors",children:[s.jsx(zr,{className:"w-4 h-4"}),j.comments_count," Comments"]}),s.jsxs(I,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-600 hover:text-green-500 transition-colors",children:[s.jsx(pl,{className:"w-4 h-4"}),"Share"]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ee,{placeholder:"Write a comment...",value:g[j.id]||"",onChange:_=>p(R=>({...R,[j.id]:_.target.value})),onKeyPress:_=>{_.key==="Enter"&&w(j.id)},className:"flex-1"}),s.jsx(I,{size:"sm",onClick:()=>w(j.id),disabled:!((S=g[j.id])!=null&&S.trim()),children:s.jsx(Si,{className:"w-4 h-4"})})]})})]},j.id)})})]})})]})]})},O8=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState([]),[a,i]=h.useState(""),[o,l]=h.useState("all"),[c,d]=h.useState(!1),[u,f]=h.useState({}),[g,p]=h.useState({}),b=async()=>{try{d(!0),console.log(" ADMIN: Viewing organizer posts...");const N=await _p();n(N),console.log(" ADMIN: Loaded posts:",N.length)}catch(N){console.error("Admin error loading posts:",N)}finally{d(!1)}};h.useEffect(()=>{b();const N=setInterval(b,3e4);return()=>clearInterval(N)},[]);const v=async N=>{try{console.log(" ADMIN: Loading comments for post:",N);const j=await Q1(N);f(S=>({...S,[N]:j})),console.log(" ADMIN: Loaded comments:",j.length)}catch(j){console.error("Admin error loading comments:",j)}},m=async N=>{console.log(" ADMIN: Toggling comments for post:",N);const j=g[N];console.log(" Current state - showing:",j),p(S=>({...S,[N]:!j})),!j&&!u[N]?(console.log(" ADMIN: Loading comments..."),await v(N)):!j&&u[N]?console.log(" ADMIN: Comments already loaded, just showing them"):console.log(" ADMIN: Hiding comments")},x=r.filter(N=>{const j=N.content.toLowerCase().includes(a.toLowerCase())||N.user_name.toLowerCase().includes(a.toLowerCase())||N.title&&N.title.toLowerCase().includes(a.toLowerCase()),S=o==="all"||N.media_type===o;return j&&S}),y=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w={total:r.length,text:r.filter(N=>N.media_type==="text").length,image:r.filter(N=>N.media_type==="image").length,video:r.filter(N=>N.media_type==="video").length,meme:r.filter(N=>N.media_type==="meme").length,totalLikes:r.reduce((N,j)=>N+j.likes_count,0),totalComments:r.reduce((N,j)=>N+j.comments_count,0)};return s.jsxs("div",{className:"flex h-screen w-screen bg-white overflow-hidden",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen w-full p-0 m-0",children:[s.jsx("header",{className:"bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4 flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:" Admin Multimedia Monitor"}),s.jsx("p",{className:"text-purple-100 text-sm",children:"View organizer posts and activity"})]})}),s.jsx("section",{className:"flex-1 flex flex-col items-center justify-start bg-gray-50 p-4 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-6xl",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ee,{placeholder:"Search posts, users, or content...",value:a,onChange:N=>i(N.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Od,{className:"w-4 h-4 text-gray-500"}),s.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"border rounded px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"text",children:"Text Only"}),s.jsx("option",{value:"image",children:"Images"}),s.jsx("option",{value:"video",children:"Videos"}),s.jsx("option",{value:"meme",children:"Memes"})]})]}),s.jsx(I,{onClick:b,disabled:c,variant:"outline",size:"sm",children:c?"Loading...":"Refresh"})]}),s.jsxs("div",{className:"flex gap-2 mt-3 text-xs text-gray-600",children:[s.jsxs("span",{children:["Showing ",x.length," of ",r.length," posts"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Text: ",w.text]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Images: ",w.image]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Videos: ",w.video]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Memes: ",w.meme]})]})]}),s.jsx("div",{className:"space-y-6",children:x.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[s.jsx(_a,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:a||o!=="all"?"No posts match your search":"No posts yet!"}),s.jsx("p",{className:"text-gray-500",children:a||o!=="all"?"Try adjusting your search or filter criteria":"Organizers haven't posted anything yet. They can share content from their dashboard."})]}):x.map(N=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:N.user_name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:N.user_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[s.jsx(Je,{className:"w-3 h-3 inline mr-1"}),y(N.created_at),"  ",N.user_role]})]}),s.jsxs("div",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600 flex items-center gap-1",children:[N.media_type==="image"&&s.jsx(Go,{className:"w-3 h-3"}),N.media_type==="video"&&s.jsx(fh,{className:"w-3 h-3"}),N.media_type==="meme"&&s.jsx(vc,{className:"w-3 h-3"}),N.media_type==="text"&&s.jsx(zr,{className:"w-3 h-3"}),N.media_type]})]}),N.title&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:N.title}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap text-base leading-relaxed",children:N.content})}),N.media_url&&s.jsx("div",{className:"mb-4",children:N.media_type==="image"||N.media_type==="meme"?s.jsx("img",{src:N.media_url,alt:"Post media",className:"w-full max-h-96 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>window.open(N.media_url,"_blank")}):N.media_type==="video"?s.jsx("video",{src:N.media_url,controls:!0,className:"w-full max-h-96 rounded-lg"}):null}),N.tags&&N.tags.length>0&&s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:N.tags.map((j,S)=>s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["#",j]},S))})}),s.jsxs("div",{className:"flex items-center gap-6 pt-4 border-t bg-gray-50 -m-6 mt-4 p-4 rounded-b-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(In,{className:"w-4 h-4 text-red-500"}),s.jsxs("span",{className:"text-sm font-medium",children:[N.likes_count," Likes"]})]}),s.jsxs("button",{onClick:()=>m(N.id),className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition-colors cursor-pointer",children:[s.jsx(zr,{className:"w-4 h-4 text-blue-500"}),s.jsxs("span",{className:"text-sm font-medium",children:[N.comments_count," Comments"]}),g[N.id]?s.jsx($w,{className:"w-3 h-3"}):s.jsx(Ym,{className:"w-3 h-3"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(pl,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Shared"})]}),s.jsx("div",{className:"ml-auto text-xs text-gray-500 bg-white px-2 py-1 rounded",children:" Admin View Only"})]}),g[N.id]&&s.jsxs("div",{className:"bg-gray-50 -m-6 mx-0 p-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(zr,{className:"w-4 h-4 text-blue-500"}),s.jsxs("span",{className:"font-medium text-gray-700",children:["Comments (",N.comments_count,")"]}),s.jsx("span",{className:"text-xs text-gray-500 bg-blue-100 px-2 py-1 rounded",children:"Admin View"})]}),u[N.id]&&u[N.id].length>0?s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:u[N.id].map(j=>s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:j.user_name.charAt(0).toUpperCase()}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:j.user_name}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-gray-800 text-sm leading-relaxed",children:j.comment_text})]},j.id))}):u[N.id]?s.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:[s.jsx(zr,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),"No comments yet"]}):s.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:s.jsx("div",{className:"animate-pulse",children:"Loading comments..."})})]})]},N.id))})]})})]})]})},Lv=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState([]),[a,i]=h.useState(""),[o,l]=h.useState("all"),[c,d]=h.useState(!1),[u,f]=h.useState(null),[g,p]=h.useState(!1),[b,v]=h.useState(!1),[m,x]=h.useState("approved"),[y,w]=h.useState(""),{toast:N}=hr(),j=async()=>{try{d(!0),console.log(" ADMIN: Loading all program flows from database...");const{data:C,error:D}=await $.from("event_requests").select("*").like("admin_comments","PROGRAM_FLOW:%").order("updated_at",{ascending:!1});if(D){console.error(" ADMIN: Database error:",D),n([]);return}const M=[];C==null||C.forEach(q=>{var F;try{if((F=q.admin_comments)!=null&&F.startsWith("PROGRAM_FLOW:")){const z=q.admin_comments.replace("PROGRAM_FLOW:",""),W=JSON.parse(z),O={id:q.id,event_id:q.id,event_title:q.title,event_date:q.date,organizer_id:q.requester_id,organizer_name:q.requester_id,title:W.title||q.title+" Program Flow",description:W.description||"",status:W.status||"draft",activities:W.activities||[],created_at:q.created_at,updated_at:q.updated_at,is_active:!0,admin_comments:W.admin_comments};M.push(O)}}catch(z){console.error(" ADMIN: JSON parse error for request:",q.id,z)}}),console.log(" ADMIN: Loaded flows from database:",M.length),M.forEach((q,F)=>{var z;console.log(`- Flow ${F+1}:`,{id:q.id,title:q.title,status:q.status,organizer:q.organizer_id,activities:((z=q.activities)==null?void 0:z.length)||0})}),n(M),console.log(" ADMIN: Successfully loaded program flows from database")}catch(C){console.error(" ADMIN: Error loading program flows:",C),n([])}finally{d(!1)}};h.useEffect(()=>{j();const C=setInterval(()=>{console.log(" ADMIN: Auto-refreshing program flows..."),j()},5e3);return()=>clearInterval(C)},[]);const S=r.filter(C=>{const D=C.title.toLowerCase().includes(a.toLowerCase())||C.event_title.toLowerCase().includes(a.toLowerCase())||C.organizer_name.toLowerCase().includes(a.toLowerCase()),M=o==="all"||C.status===o;return D&&M}),_=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),R=async()=>{var C;if(u)try{console.log(" ADMIN: Reviewing program flow...",m);const{data:D,error:M}=await $.from("event_requests").select("admin_comments").eq("id",u.id).single();if(M||!((C=D==null?void 0:D.admin_comments)!=null&&C.startsWith("PROGRAM_FLOW:"))){console.error(" ADMIN: Error fetching current data:",M),N({title:"Error",description:"Program flow not found",variant:"destructive"});return}try{const q=D.admin_comments.replace("PROGRAM_FLOW:",""),F=JSON.parse(q);F.status=m,F.admin_comments=y,F.updated_at=new Date().toISOString();const z="PROGRAM_FLOW:"+JSON.stringify(F),{data:W,error:O}=await $.from("event_requests").update({admin_comments:z,updated_at:new Date().toISOString()}).eq("id",u.id).select();if(O){console.error(" ADMIN: Database error:",O),N({title:"Error",description:"Failed to update program flow in database",variant:"destructive"});return}console.log(" ADMIN: Program flow updated in database:",W),await j(),N({title:` Program Flow ${m.charAt(0).toUpperCase()+m.slice(1)}!`,description:`Program flow has been ${m}`}),v(!1),w(""),f(null),console.log(" ADMIN: Program flow reviewed and saved to database")}catch(q){console.error(" ADMIN: JSON parse error:",q),N({title:"Error",description:"Invalid program flow data",variant:"destructive"})}}catch(D){console.error(" ADMIN: Error reviewing program flow:",D),N({title:"Error",description:"Failed to review program flow",variant:"destructive"})}},P={total:r.length,submitted:r.filter(C=>C.status==="submitted").length,approved:r.filter(C=>C.status==="approved").length,rejected:r.filter(C=>C.status==="rejected").length,draft:r.filter(C=>C.status==="draft").length};return s.jsxs("div",{className:"flex h-screen w-screen bg-white overflow-hidden",children:[s.jsx(Xr,{collapsed:e,onToggle:()=>t(!e)}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen w-full p-0 m-0",children:[s.jsxs("header",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:" Admin Program Flow Management"}),s.jsx("p",{className:"text-indigo-100 text-sm",children:"Review and manage event program flows"})]}),s.jsxs("div",{className:"text-white text-sm bg-white/20 px-3 py-1 rounded-full",children:[s.jsx(zw,{className:"w-4 h-4 inline mr-1"}),"Admin Panel"]})]}),s.jsx("section",{className:"flex-1 flex flex-col items-center justify-start bg-gray-50 p-4 overflow-auto",children:s.jsxs("div",{className:"w-full max-w-7xl",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[s.jsx(J,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Flows"})]})}),s.jsx(J,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:P.submitted}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending Review"})]})}),s.jsx(J,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.approved}),s.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]})}),s.jsx(J,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.rejected}),s.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})}),s.jsx(J,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:P.draft}),s.jsx("div",{className:"text-sm text-gray-600",children:"Drafts"})]})})]}),s.jsx(J,{className:"mb-6",children:s.jsxs(Z,{className:"p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ee,{placeholder:"Search program flows, events, or organizers...",value:a,onChange:C=>i(C.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Od,{className:"w-4 h-4 text-gray-500"}),s.jsxs("select",{value:o,onChange:C=>l(C.target.value),className:"border rounded px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Pending Review"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s.jsx(I,{onClick:()=>{console.log(" CREATING TEST DATA...");const C={id:"1729630200000",event_id:"testt-event",event_title:"testt",event_date:"2025-10-01",organizer_id:"846b4ad6-8d66-40d9-9435-0a38b03342c9",organizer_name:"ivan cute",title:"test",description:"test",status:"submitted",activities:[{id:"activity-1",time:"17:15",title:"test",description:"test activity",location:"",duration:60,activity_type:"activity",is_active:!0,order_index:0}],created_at:"2025-10-02T00:00:00.000Z",updated_at:new Date().toISOString(),is_active:!0};localStorage.setItem("allProgramFlows",JSON.stringify([C])),console.log(" Test data created in localStorage"),j(),alert("Test data created! Check admin view.")},variant:"secondary",size:"sm",children:" Create Test Data"}),s.jsx(I,{onClick:()=>{console.log(" CLEARING ALL DATA..."),localStorage.removeItem("allProgramFlows"),localStorage.removeItem("programFlows_846b4ad6-8d66-40d9-9435-0a38b03342c9"),n([]),console.log(" All program flow data cleared"),alert("All data cleared! Now test the real flow: Organizer Create  Submit  Admin Approve")},variant:"destructive",size:"sm",children:" Clear Data"}),s.jsx(I,{onClick:()=>{console.log(" MANUAL DEBUG: Checking localStorage...");const C=localStorage.getItem("allProgramFlows");if(console.log(" Raw data:",C),C){const D=JSON.parse(C);console.log(" Parsed flows:",D),alert(`Found ${D.length} program flows in storage`)}else alert("No program flows found in localStorage")},variant:"secondary",size:"sm",children:" Debug Storage"}),s.jsx(I,{onClick:j,disabled:c,variant:"outline",size:"sm",children:c?"Loading...":"Refresh"})]}),s.jsx("div",{className:"flex gap-2 mt-3 text-xs text-gray-600",children:s.jsxs("span",{children:["Showing ",S.length," of ",r.length," program flows"]})})]})}),s.jsx("div",{className:"space-y-6",children:S.length===0?s.jsx(J,{children:s.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Zs,{className:"w-16 h-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:a||o!=="all"?"No program flows match your search":"No program flows yet"}),s.jsx("p",{className:"text-gray-500 text-center",children:a||o!=="all"?"Try adjusting your search or filter criteria":"Organizers haven't created any program flows yet."})]})}):S.map(C=>s.jsxs(J,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{className:"text-xl",children:C.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Je,{className:"w-4 h-4"}),s.jsx("span",{children:C.event_title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($t,{className:"w-4 h-4"}),s.jsx("span",{children:_(C.event_date)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ye,{className:"w-4 h-4"}),s.jsxs("span",{children:["by ",C.organizer_name]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zs,{className:"w-4 h-4"}),s.jsxs("span",{children:[C.activities.length," Activities"]})]})]}),C.description&&s.jsx("p",{className:"text-sm text-gray-600",children:C.description})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(oe,{variant:C.status==="approved"?"default":C.status==="submitted"?"secondary":C.status==="rejected"?"destructive":"outline",children:[C.status==="approved"&&s.jsx(wn,{className:"w-3 h-3 mr-1"}),C.status==="rejected"&&s.jsx(_i,{className:"w-3 h-3 mr-1"}),C.status.charAt(0).toUpperCase()+C.status.slice(1)]})})]})}),s.jsxs(Z,{children:[s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4"}),"Activity Preview (showing first 3)"]}),s.jsxs("div",{className:"space-y-2",children:[C.activities.slice(0,3).map((D,M)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded text-sm",children:[s.jsx("div",{className:"w-12 text-xs font-mono text-center bg-blue-100 rounded px-1",children:D.time}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium",children:D.title}),D.location&&s.jsxs("span",{className:"text-gray-500 ml-2",children:[s.jsx(sr,{className:"w-3 h-3 inline mr-1"}),D.location]})]}),s.jsx(oe,{variant:"outline",className:"text-xs",children:D.activity_type})]},D.id||M)),C.activities.length>3&&s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",C.activities.length-3," more activities"]})]})]}),C.admin_comments&&s.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded mb-4",children:[s.jsx("h5",{className:"font-medium text-yellow-800 text-sm mb-1",children:"Admin Comments"}),s.jsx("p",{className:"text-sm text-yellow-700",children:C.admin_comments})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"text-xs text-gray-500",children:["Created ",_(C.created_at)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{f(C),p(!0)},children:[s.jsx(_a,{className:"w-4 h-4 mr-1"}),"View Details"]}),C.status==="submitted"&&s.jsxs(s.Fragment,{children:[s.jsxs(I,{size:"sm",onClick:()=>{f(C),x("approved"),v(!0)},className:"bg-green-500 hover:bg-green-600",children:[s.jsx(wn,{className:"w-4 h-4 mr-1"}),"Approve"]}),s.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>{f(C),x("rejected"),v(!0)},children:[s.jsx(_i,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})]})]})]},C.id))})]})})]}),g&&u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Zs,{className:"w-6 h-6"}),u.title]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[s.jsx("span",{children:u.event_title}),s.jsx("span",{children:""}),s.jsx("span",{children:_(u.event_date)}),s.jsx("span",{children:""}),s.jsxs("span",{children:["by ",u.organizer_name]})]})]}),s.jsx(I,{variant:"ghost",onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-6",children:[u.description&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600",children:u.description})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4"}),"Complete Activity Timeline (",u.activities.length," activities)"]}),s.jsx("div",{className:"space-y-3",children:u.activities.map((C,D)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-shrink-0 w-20 text-center",children:[s.jsx("div",{className:"text-lg font-mono font-bold text-indigo-600",children:C.time}),s.jsxs("div",{className:"text-xs text-gray-500",children:[C.duration,"min"]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium",children:C.title}),s.jsx(oe,{variant:"outline",children:C.activity_type})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.description}),C.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:C.location})]})]})]},C.id||D))})]})]}),s.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:s.jsx(I,{variant:"outline",onClick:()=>p(!1),children:"Close"})})]})})}),b&&u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:[m==="approved"?" Approve":" Reject"," Program Flow"]}),s.jsx(I,{variant:"ghost",onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600",children:u.event_title})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:m==="approved"?"Approval Comments (Optional)":"Rejection Reason (Required)"}),s.jsx(yn,{value:y,onChange:C=>w(C.target.value),placeholder:m==="approved"?"Add any comments for the organizer...":"Please explain why this program flow is being rejected...",rows:4})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6 border-t mt-6",children:[s.jsxs(I,{onClick:R,className:m==="approved"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600",disabled:m==="rejected"&&!y.trim(),children:[m==="approved"?" Approve":" Reject"," Program Flow"]}),s.jsx(I,{variant:"outline",onClick:()=>v(!1),children:"Cancel"})]})]})})})]})},ht=({children:e})=>s.jsx("div",{className:"min-h-screen min-w-full bg-white",children:e}),D8=new Q4,kt=({children:e})=>localStorage.getItem("user")?s.jsx(s.Fragment,{children:e}):s.jsx($P,{to:"/login"}),M8=()=>s.jsx(X4,{client:D8,children:s.jsxs(E4,{children:[s.jsx(cC,{}),s.jsx(zC,{}),s.jsx(KP,{children:s.jsxs(zP,{children:[s.jsx(lt,{path:"/",element:s.jsx(ht,{children:s.jsx(aT,{})})}),s.jsx(lt,{path:"/login",element:s.jsx(ht,{children:s.jsx(d3,{})})}),s.jsx(lt,{path:"/dashboard",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(g3,{})})})}),s.jsx(lt,{path:"/organizer-dashboard",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(v3,{})})})}),s.jsx(lt,{path:"/participant-dashboard",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(B6,{})})})}),s.jsx(lt,{path:"/event-request",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(t8,{})})})}),s.jsx(lt,{path:"/calendar",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(i8,{})})})}),s.jsx(lt,{path:"/notifications",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(d8,{})})})}),s.jsx(lt,{path:"/participants",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(C8,{})})})}),s.jsx(lt,{path:"/venue",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(k8,{})})})}),s.jsx(lt,{path:"/program",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(Lv,{})})})}),s.jsx(lt,{path:"/multimedia",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(A8,{})})})}),s.jsx(lt,{path:"/admin-multimedia",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(O8,{})})})}),s.jsx(lt,{path:"/approvals",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(T8,{})})})}),s.jsx(lt,{path:"/admin-reports",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(Fv,{})})})}),s.jsx(lt,{path:"/admin-program-flow",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(Lv,{})})})}),s.jsx(lt,{path:"/feedback",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(Fv,{})})})}),s.jsx(lt,{path:"/reports",element:s.jsx(kt,{children:s.jsx(ht,{children:s.jsx(R8,{})})})}),s.jsx(lt,{path:"*",element:s.jsx(ht,{children:s.jsx(r8,{})})})]})})]})});ow(document.getElementById("root")).render(s.jsx(M8,{}));
